!function(t){function e(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var r={};e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,o){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=64)}([function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,r){var o=r(79),n=r(15);t.exports=function(t){return o(n(t))}},function(t,e,r){t.exports={default:r(70),__esModule:!0}},function(t,e){var r=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},function(t,e,r){t.exports=!r(9)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,r){var o=r(7),n=r(13);t.exports=r(5)?function(t,e,r){return o.f(t,e,n(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){var o=r(11),n=r(33),i=r(25),a=Object.defineProperty;e.f=r(5)?Object.defineProperty:function(t,e,r){if(o(t),e=i(e,!0),o(r),n)try{return a(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){var o=r(23)("wks"),n=r(14),i=r(0).Symbol,a="function"==typeof i;(t.exports=function(t){return o[t]||(o[t]=a&&i[t]||(a?i:n)("Symbol."+t))}).store=o},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,r){var o=r(38),n=r(16);t.exports=Object.keys||function(t){return o(t,n)}},function(t,e,r){var o=r(12);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var r=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+o).toString(36))}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,r){var o=r(0),n=r(4),i=r(76),a=r(6),s=function(t,e,r){var p,c,h,u=t&s.F,l=t&s.G,d=t&s.S,f=t&s.P,g=t&s.B,m=t&s.W,v=l?n:n[e]||(n[e]={}),y=v.prototype,x=l?o:d?o[e]:(o[e]||{}).prototype;l&&(r=e);for(p in r)(c=!u&&x&&void 0!==x[p])&&p in v||(h=c?x[p]:r[p],v[p]=l&&"function"!=typeof x[p]?r[p]:g&&c?i(h,o):m&&x[p]==h?function(t){var e=function(e,r,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,o)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):f&&"function"==typeof h?i(Function.call,h):h,f&&((v.virtual||(v.virtual={}))[p]=h,t&s.R&&y&&!y[p]&&a(y,p,h)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e){t.exports={}},function(t,e){t.exports=!0},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,r){var o=r(7).f,n=r(1),i=r(8)("toStringTag");t.exports=function(t,e,r){t&&!n(t=r?t:t.prototype,i)&&o(t,i,{configurable:!0,value:e})}},function(t,e,r){var o=r(23)("keys"),n=r(14);t.exports=function(t){return o[t]||(o[t]=n(t))}},function(t,e,r){var o=r(0),n=o["__core-js_shared__"]||(o["__core-js_shared__"]={});t.exports=function(t){return n[t]||(n[t]={})}},function(t,e){var r=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:r)(t)}},function(t,e,r){var o=r(12);t.exports=function(t,e){if(!o(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!o(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!o(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!o(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,e,r){var o=r(0),n=r(4),i=r(19),a=r(27),s=r(7).f;t.exports=function(t){var e=n.Symbol||(n.Symbol=i?{}:o.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,r){e.f=r(8)},function(t,e){t.exports=require("fs")},function(t,e,r){"use strict";t.exports={showTooltip:function(t){if(this.shouldShowTooltip()){var e=new CustomEvent("the-graph-tooltip",{detail:{tooltip:this.props.label,x:t.clientX,y:t.clientY},bubbles:!0});ReactDOM.findDOMNode(this).dispatchEvent(e)}},hideTooltip:function(t){if(this.shouldShowTooltip()){var e=new CustomEvent("the-graph-tooltip-hide",{bubbles:!0});this.isMounted()&&ReactDOM.findDOMNode(this).dispatchEvent(e)}},componentDidMount:function(){if(!navigator||-1===navigator.userAgent.indexOf("Firefox")){var t=this.getTooltipTrigger();t.addEventListener("tap",this.showTooltip),t.addEventListener("mouseenter",this.showTooltip),t.addEventListener("mouseleave",this.hideTooltip)}}}},function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var n=r(68),i=o(n),a=r(67),s=o(a),p="function"==typeof s.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===p(i.default)?function(t){return void 0===t?"undefined":p(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":void 0===t?"undefined":p(t)}},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e,r){var o=r(12),n=r(0).document,i=o(n)&&o(n.createElement);t.exports=function(t){return i?n.createElement(t):{}}},function(t,e,r){t.exports=!r(5)&&!r(9)(function(){return 7!=Object.defineProperty(r(32)("div"),"a",{get:function(){return 7}}).a})},function(t,e,r){"use strict";var o=r(19),n=r(17),i=r(39),a=r(6),s=r(1),p=r(18),c=r(81),h=r(21),u=r(88),l=r(8)("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,r,g,m,v,y){c(r,e,g);var x,b,w,E=function(t){if(!d&&t in M)return M[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},N=e+" Iterator",P="values"==m,T=!1,M=t.prototype,O=M[l]||M["@@iterator"]||m&&M[m],I=O||E(m),S=m?P?E("entries"):I:void 0,k="Array"==e?M.entries||O:O;if(k&&(w=u(k.call(new t)))!==Object.prototype&&(h(w,N,!0),o||s(w,l)||a(w,l,f)),P&&O&&"values"!==O.name&&(T=!0,I=function(){return O.call(this)}),o&&!y||!d&&!T&&M[l]||a(M,l,I),p[e]=I,p[N]=f,m)if(x={values:P?I:E("values"),keys:v?I:E("keys"),entries:S},y)for(b in x)b in M||i(M,b,x[b]);else n(n.P+n.F*(d||T),e,x);return x}},function(t,e,r){var o=r(11),n=r(85),i=r(16),a=r(22)("IE_PROTO"),s=function(){},p=function(){var t,e=r(32)("iframe"),o=i.length;for(e.style.display="none",r(78).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),p=t.F;o--;)delete p.prototype[i[o]];return p()};t.exports=Object.create||function(t,e){var r;return null!==t?(s.prototype=o(t),r=new s,s.prototype=null,r[a]=t):r=p(),void 0===e?r:n(r,e)}},function(t,e,r){var o=r(38),n=r(16).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,n)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,r){var o=r(1),n=r(2),i=r(75)(!1),a=r(22)("IE_PROTO");t.exports=function(t,e){var r,s=n(t),p=0,c=[];for(r in s)r!=a&&o(s,r)&&c.push(r);for(;e.length>p;)o(s,r=e[p++])&&(~i(c,r)||c.push(r));return c}},function(t,e,r){t.exports=r(6)},function(t,e,r){var o=r(15);t.exports=function(t){return Object(o(t))}},function(t,e){var r=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}function e(r,o,n,i,h){function u(r,n){if(null===r)return null;if(0===n)return r;var g,m;if("object"!=typeof r)return r;if(t(r,s))g=new s;else if(t(r,p))g=new p;else if(t(r,c))g=new c(function(t,e){r.then(function(e){t(u(e,n-1))},function(t){e(u(t,n-1))})});else if(e.__isArray(r))g=[];else if(e.__isRegExp(r))g=new RegExp(r.source,a(r)),r.lastIndex&&(g.lastIndex=r.lastIndex);else if(e.__isDate(r))g=new Date(r.getTime());else{if(f&&Buffer.isBuffer(r))return g=new Buffer(r.length),r.copy(g),g;t(r,Error)?g=Object.create(r):void 0===i?(m=Object.getPrototypeOf(r),g=Object.create(m)):(g=Object.create(i),m=i)}if(o){var v=l.indexOf(r);if(-1!=v)return d[v];l.push(r),d.push(g)}t(r,s)&&r.forEach(function(t,e){var r=u(e,n-1),o=u(t,n-1);g.set(r,o)}),t(r,p)&&r.forEach(function(t){var e=u(t,n-1);g.add(e)});for(var y in r){var x;m&&(x=Object.getOwnPropertyDescriptor(m,y)),x&&null==x.set||(g[y]=u(r[y],n-1))}if(Object.getOwnPropertySymbols)for(var b=Object.getOwnPropertySymbols(r),y=0;y<b.length;y++){var w=b[y],E=Object.getOwnPropertyDescriptor(r,w);(!E||E.enumerable||h)&&(g[w]=u(r[w],n-1),E.enumerable||Object.defineProperty(g,w,{enumerable:!1}))}if(h)for(var N=Object.getOwnPropertyNames(r),y=0;y<N.length;y++){var P=N[y],E=Object.getOwnPropertyDescriptor(r,P);E&&E.enumerable||(g[P]=u(r[P],n-1),Object.defineProperty(g,P,{enumerable:!1}))}return g}"object"==typeof o&&(n=o.depth,i=o.prototype,h=o.includeNonEnumerable,o=o.circular);var l=[],d=[],f="undefined"!=typeof Buffer;return void 0===o&&(o=!0),void 0===n&&(n=1/0),u(r,n)}function r(t){return Object.prototype.toString.call(t)}function o(t){return"object"==typeof t&&"[object Date]"===r(t)}function n(t){return"object"==typeof t&&"[object Array]"===r(t)}function i(t){return"object"==typeof t&&"[object RegExp]"===r(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}var s;try{s=Map}catch(t){s=function(){}}var p;try{p=Set}catch(t){p=function(){}}var c;try{c=Promise}catch(t){c=function(){}}return e.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},e.__objToStr=r,e.__isDate=o,e.__isArray=n,e.__isRegExp=i,e.__getRegExpFlags=a,e}();"object"==typeof t&&t.exports&&(t.exports=r)},function(t,e){t.exports=require("events")},function(t,e,r){"use strict";function o(t){var e=function(t,e,r){var o=TheGraph.Clipboard.paste(t);this.selectedNodes=o.nodes,this.selectedEdges=[]}.bind(t),r={icon:"paste",iconLabel:"paste",action:e},o={delete:function(t,e,r){t.removeNode(e);for(var o=[],n=0,i=this.selectedNodes.length;n<i;n++){var a=this.selectedNodes[n];a!==r&&o.push(a)}this.selectedNodes=o}.bind(t),copy:function(t,e,r){TheGraph.Clipboard.copy(t,[e])}},n={delete:function(t,e,r){t.removeEdge(r.from.node,r.from.port,r.to.node,r.to.port);for(var o=[],n=0,i=this.selectedEdges.length;n<i;n++){var a=this.selectedEdges[n];a!==r&&o.push(a)}this.selectedEdges=o}.bind(t)};return{main:{icon:"sitemap",e4:r},edge:{actions:n,icon:"long-arrow-right",s4:{icon:"trash-o",iconLabel:"delete",action:n.delete}},node:{actions:o,s4:{icon:"trash-o",iconLabel:"delete",action:o.delete},w4:{icon:"copy",iconLabel:"copy",action:o.copy}},nodeInport:{w4:{icon:"sign-in",iconLabel:"export",action:function(t,e,r){var o=r.port;"start"===o&&(o="start1"),"graph"===o&&(o="graph1");for(var n=0;t.inports[o];)n++,o=r.port+n;var i=t.getNode(r.process),a={x:i.metadata.x-144,y:i.metadata.y};t.addInport(o,r.process,r.port,a)}}},nodeOutport:{e4:{icon:"sign-out",iconLabel:"export",action:function(t,e,r){for(var o=r.port,n=0;t.outports[o];)n++,o=r.port+n;var i=t.getNode(r.process),a={x:i.metadata.x+144,y:i.metadata.y};t.addOutport(o,r.process,r.port,a)}}},graphInport:{icon:"sign-in",iconColor:2,n4:{label:"inport"},s4:{icon:"trash-o",iconLabel:"delete",action:function(t,e,r){t.removeInport(e)}}},graphOutport:{icon:"sign-out",iconColor:5,n4:{label:"outport"},s4:{icon:"trash-o",iconLabel:"delete",action:function(t,e,r){t.removeOutport(e)}}},group:{icon:"th",s4:{icon:"trash-o",iconLabel:"ungroup",action:function(t,e,r){t.removeGroup(e)}},e4:r},selection:{icon:"th",w4:{icon:"copy",iconLabel:"copy",action:function(t,e,r){TheGraph.Clipboard.copy(t,r.nodes)}},e4:r}}}t.exports={getDefaultMenus:o}},function(t,e,r){"use strict";function o(t){var e={};return"dark"===t?(e.viewBoxBorder="hsla(190, 100%, 80%, 0.4)",e.viewBoxBorder2="hsla( 10,  60%, 32%, 0.3)",e.outsideFill="hsla(0, 0%, 0%, 0.4)",e.backgroundColor="hsla(0, 0%, 0%, 0.9)"):(e.viewBoxBorder="hsla(190, 100%, 20%, 0.8)",e.viewBoxBorder2="hsla( 10,  60%, 80%, 0.8)",e.outsideFill="hsla(0, 0%, 100%, 0.4)",e.backgroundColor="hsla(0, 0%, 100%, 0.9)"),e}function n(t,e){return(t.viewrectangle[e]/t.scale-t.thumbrectangle[e])*t.thumbscale}function i(t,e){return t.viewrectangle[e]*t.thumbscale/t.scale}function a(t,e,r){t.clearRect(0,0,r.width,r.height),t.fillStyle=r.outsideFill;var o=Math.round(n(r,0)),a=Math.round(n(r,1)),s=Math.round(i(r,2)),p=Math.round(i(r,3)),c=!1;return o<0&&a<0&&s>r.width-o&&p>r.height-a?(c=!0,{hide:c}):(c=!1,o<0?(s+=o,o=0,e.style.borderLeftColor=r.viewBoxBorder2):(e.style.borderLeftColor=r.viewBoxBorder,t.fillRect(0,0,o,r.height)),a<0?(p+=a,a=0,e.style.borderTopColor=r.viewBoxBorder2):(e.style.borderTopColor=r.viewBoxBorder,t.fillRect(o,0,s,a)),s>r.width-o?(s=r.width-o,e.style.borderRightColor=r.viewBoxBorder2):(e.style.borderRightColor=r.viewBoxBorder,t.fillRect(o+s,0,r.width-(o+s),r.height)),p>r.height-a?(p=r.height-a,e.style.borderBottomColor=r.viewBoxBorder2):(e.style.borderBottomColor=r.viewBoxBorder,t.fillRect(o,a+p,s,r.height-(a+p))),e.style.left=o+"px",e.style.top=a+"px",e.style.width=s+"px",e.style.height=p+"px",{hide:c})}t.exports={render:a,calculateStyleFromTheme:o}},function(t,e,r){"use strict";function o(t,e,r,o,n,i){try{t.strokeStyle=i.edgeColors[0],n&&(t.strokeStyle=i.edgeColors[n]);var a=Math.round(r.metadata.x*e)-.5,s=Math.round(r.metadata.y*e)-.5,p=Math.round(o.metadata.x*e)-.5,c=Math.round(o.metadata.y*e)-.5;t.beginPath(),t.moveTo(a,s),t.lineTo(p,c),t.stroke()}catch(t){}}function n(t){var e={};return"dark"===t?(e.fill="hsl(184, 8%, 10%)",e.stroke="hsl(180, 11%, 70%)",e.edgeColors=["white","hsl(  0, 100%, 46%)","hsl( 35, 100%, 46%)","hsl( 60, 100%, 46%)","hsl(135, 100%, 46%)","hsl(160, 100%, 46%)","hsl(185, 100%, 46%)","hsl(210, 100%, 46%)","hsl(285, 100%, 46%)","hsl(310, 100%, 46%)","hsl(335, 100%, 46%)"]):(e.fill="hsl(184, 8%, 75%)",e.stroke="hsl(180, 11%, 20%)",e.edgeColors=["hsl(  0,   0%, 50%)","hsl(  0, 100%, 40%)","hsl( 29, 100%, 40%)","hsl( 47, 100%, 40%)","hsl(138, 100%, 40%)","hsl(160,  73%, 50%)","hsl(181, 100%, 40%)","hsl(216, 100%, 40%)","hsl(260, 100%, 40%)","hsl(348, 100%, 50%)","hsl(328, 100%, 40%)"]),e}function i(t,e,r){t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,r.width,r.height),t.lineWidth=r.lineWidth;var n=[],i=1/0,a=1/0,p=-1/0,c=-1/0,h={};if(e.nodes.forEach(function(t){!t.metadata||isNaN(t.metadata.x)||isNaN(t.metadata.y)||(n.push(t),h[t.id]=t,i=Math.min(i,t.metadata.x),a=Math.min(a,t.metadata.y),p=Math.max(p,t.metadata.x),c=Math.max(c,t.metadata.y))}.bind(this)),e.inports&&(0,s.default)(e.inports).forEach(function(t){var r=e.inports[t];!r.metadata||isNaN(r.metadata.x)||isNaN(r.metadata.y)||(n.push(r),i=Math.min(i,r.metadata.x),a=Math.min(a,r.metadata.y),p=Math.max(p,r.metadata.x),c=Math.max(c,r.metadata.y))}.bind(this)),e.outports&&(0,s.default)(e.outports).forEach(function(t){var r=e.outports[t];!r.metadata||isNaN(r.metadata.x)||isNaN(r.metadata.y)||(n.push(r),i=Math.min(i,r.metadata.x),a=Math.min(a,r.metadata.y),p=Math.max(p,r.metadata.x),c=Math.max(c,r.metadata.y))}.bind(this)),isFinite(i)&&isFinite(a)&&isFinite(p)&&isFinite(c)){i-=r.nodeSize,a-=r.nodeSize,p+=2*r.nodeSize,c+=2*r.nodeSize;var u=p-i,l=c-a,d=[];d[0]=i,d[1]=a,d[2]=u,d[3]=l;var f=u>l?r.width/u:r.height/l,g=f,m=Math.round(r.nodeSize*f),v=m/2;return t.setTransform(1,0,0,1,0-i*f,0-a*f),e.inports&&(0,s.default)(e.inports).forEach(function(n){var i=e.inports[n];if(i.metadata&&!isNaN(i.metadata.x)&&!isNaN(i.metadata.y)){var a=h[i.process];if(!a)return;o(t,f,i,a,2,r)}}.bind(this)),e.outports&&(0,s.default)(e.outports).forEach(function(n){var i=e.outports[n];if(i.metadata&&!isNaN(i.metadata.x)&&!isNaN(i.metadata.y)){var a=h[i.process];if(!a)return;o(t,f,a,i,5,r)}}.bind(this)),e.edges.forEach(function(e){var n=h[e.from.node],i=h[e.to.node];n&&i&&o(t,f,n,i,e.metadata.route,r)}.bind(this)),n.forEach(function(e){var o=Math.round(e.metadata.x*f),n=Math.round(e.metadata.y*f);t.strokeStyle=r.strokeStyle,t.fillStyle=r.fillStyle,t.beginPath(),e.process&&!e.component?t.arc(o,n,v/2,0,2*Math.PI,!1):t.arc(o,n,v,0,2*Math.PI,!1),t.fill(),t.stroke(),t.beginPath();var i=Math.max(v-1.5,1);e.process&&!e.component?t.arc(o,n,i/2,0,2*Math.PI,!1):t.arc(o,n,i,0,2*Math.PI,!1),t.fill()}.bind(this)),{rectangle:d,scale:g}}}var a=r(3),s=function(t){return t&&t.__esModule?t:{default:t}}(a);t.exports={render:i,styleFromTheme:n}},function(t,e,r){"use strict";t.exports.register=function(t){t.TheGraph.FONT_AWESOME={"500px":"","address-book":"","address-book-o":"","address-card":"","address-card-o":"",adjust:"",adn:"","align-center":"","align-justify":"","align-left":"","align-right":"",amazon:"",ambulance:"","american-sign-language-interpreting":"",anchor:"",android:"",angellist:"","angle-double-down":"","angle-double-left":"","angle-double-right":"","angle-double-up":"","angle-down":"","angle-left":"","angle-right":"","angle-up":"",apple:"",archive:"","area-chart":"","arrow-circle-down":"","arrow-circle-left":"","arrow-circle-o-down":"","arrow-circle-o-left":"","arrow-circle-o-right":"","arrow-circle-o-up":"","arrow-circle-right":"","arrow-circle-up":"","arrow-down":"","arrow-left":"","arrow-right":"","arrow-up":"",arrows:"","arrows-alt":"","arrows-h":"","arrows-v":"","asl-interpreting":"","assistive-listening-systems":"",asterisk:"",at:"","audio-description":"",automobile:"",backward:"","balance-scale":"",ban:"",bandcamp:"",bank:"","bar-chart":"","bar-chart-o":"",barcode:"",bars:"",bath:"",bathtub:"",battery:"","battery-0":"","battery-1":"","battery-2":"","battery-3":"","battery-4":"","battery-empty":"","battery-full":"","battery-half":"","battery-quarter":"","battery-three-quarters":"",bed:"",beer:"",behance:"","behance-square":"",bell:"","bell-o":"","bell-slash":"","bell-slash-o":"",bicycle:"",binoculars:"","birthday-cake":"",bitbucket:"","bitbucket-square":"",bitcoin:"","black-tie":"",blind:"",bluetooth:"","bluetooth-b":"",bold:"",bolt:"",bomb:"",book:"",bookmark:"","bookmark-o":"",braille:"",briefcase:"",btc:"",bug:"",building:"","building-o":"",bullhorn:"",bullseye:"",bus:"",buysellads:"",cab:"",calculator:"",calendar:"","calendar-check-o":"","calendar-minus-o":"","calendar-o":"","calendar-plus-o":"","calendar-times-o":"",camera:"","camera-retro":"",car:"","caret-down":"","caret-left":"","caret-right":"","caret-square-o-down":"","caret-square-o-left":"","caret-square-o-right":"","caret-square-o-up":"","caret-up":"","cart-arrow-down":"","cart-plus":"",cc:"","cc-amex":"","cc-diners-club":"","cc-discover":"","cc-jcb":"","cc-mastercard":"","cc-paypal":"","cc-stripe":"","cc-visa":"",certificate:"",chain:"","chain-broken":"",check:"","check-circle":"","check-circle-o":"","check-square":"","check-square-o":"","chevron-circle-down":"","chevron-circle-left":"","chevron-circle-right":"","chevron-circle-up":"","chevron-down":"","chevron-left":"","chevron-right":"","chevron-up":"",child:"",chrome:"",circle:"","circle-o":"","circle-o-notch":"","circle-thin":"",clipboard:"","clock-o":"",clone:"",close:"",cloud:"","cloud-download":"","cloud-upload":"",cny:"",code:"","code-fork":"",codepen:"",codiepie:"",coffee:"",cog:"",cogs:"",columns:"",comment:"","comment-o":"",commenting:"","commenting-o":"",comments:"","comments-o":"",compass:"",compress:"",connectdevelop:"",contao:"",copy:"",copyright:"","creative-commons":"","credit-card":"","credit-card-alt":"",crop:"",crosshairs:"",css3:"",cube:"",cubes:"",cut:"",cutlery:"",dashboard:"",dashcube:"",database:"",deaf:"",deafness:"",dedent:"",delicious:"",desktop:"",deviantart:"",diamond:"",digg:"",dollar:"","dot-circle-o":"",download:"",dribbble:"","drivers-license":"","drivers-license-o":"",dropbox:"",drupal:"",edge:"",edit:"",eercast:"",eject:"","ellipsis-h":"","ellipsis-v":"",empire:"",envelope:"","envelope-o":"","envelope-open":"","envelope-open-o":"","envelope-square":"",envira:"",eraser:"",etsy:"",eur:"",euro:"",exchange:"",exclamation:"","exclamation-circle":"","exclamation-triangle":"",expand:"",expeditedssl:"","external-link":"","external-link-square":"",eye:"","eye-slash":"",eyedropper:"",fa:"",facebook:"","facebook-f":"","facebook-official":"","facebook-square":"","fast-backward":"","fast-forward":"",fax:"",feed:"",female:"","fighter-jet":"",file:"","file-archive-o":"","file-audio-o":"","file-code-o":"","file-excel-o":"","file-image-o":"","file-movie-o":"","file-o":"","file-pdf-o":"","file-photo-o":"","file-picture-o":"","file-powerpoint-o":"","file-sound-o":"","file-text":"","file-text-o":"","file-video-o":"","file-word-o":"","file-zip-o":"","files-o":"",film:"",filter:"",fire:"","fire-extinguisher":"",firefox:"","first-order":"",flag:"","flag-checkered":"","flag-o":"",flash:"",flask:"",flickr:"","floppy-o":"",folder:"","folder-o":"","folder-open":"","folder-open-o":"",font:"","font-awesome":"",fonticons:"","fort-awesome":"",forumbee:"",forward:"",foursquare:"","free-code-camp":"","frown-o":"","futbol-o":"",gamepad:"",gavel:"",gbp:"",ge:"",gear:"",gears:"",genderless:"","get-pocket":"",gg:"","gg-circle":"",gift:"",git:"","git-square":"",github:"","github-alt":"","github-square":"",gitlab:"",gittip:"",glass:"",glide:"","glide-g":"",globe:"",google:"","google-plus":"","google-plus-circle":"","google-plus-official":"","google-plus-square":"","google-wallet":"","graduation-cap":"",gratipay:"",grav:"",group:"","h-square":"","hacker-news":"","hand-grab-o":"","hand-lizard-o":"","hand-o-down":"","hand-o-left":"","hand-o-right":"","hand-o-up":"","hand-paper-o":"","hand-peace-o":"","hand-pointer-o":"","hand-rock-o":"","hand-scissors-o":"","hand-spock-o":"","hand-stop-o":"","handshake-o":"","hard-of-hearing":"",hashtag:"","hdd-o":"",header:"",headphones:"",heart:"","heart-o":"",heartbeat:"",history:"",home:"","hospital-o":"",hotel:"",hourglass:"","hourglass-1":"","hourglass-2":"","hourglass-3":"","hourglass-end":"","hourglass-half":"","hourglass-o":"","hourglass-start":"",houzz:"",html5:"","i-cursor":"","id-badge":"","id-card":"","id-card-o":"",ils:"",image:"",imdb:"",inbox:"",indent:"",industry:"",info:"","info-circle":"",inr:"",instagram:"",institution:"","internet-explorer":"",intersex:"",ioxhost:"",italic:"",joomla:"",jpy:"",jsfiddle:"",key:"","keyboard-o":"",krw:"",language:"",laptop:"",lastfm:"","lastfm-square":"",leaf:"",leanpub:"",legal:"","lemon-o":"","level-down":"","level-up":"","life-bouy":"","life-buoy":"","life-ring":"","life-saver":"","lightbulb-o":"","line-chart":"",link:"",linkedin:"","linkedin-square":"",linode:"",linux:"",list:"","list-alt":"","list-ol":"","list-ul":"","location-arrow":"",lock:"","long-arrow-down":"","long-arrow-left":"","long-arrow-right":"","long-arrow-up":"","low-vision":"",magic:"",magnet:"","mail-forward":"","mail-reply":"","mail-reply-all":"",male:"",map:"","map-marker":"","map-o":"","map-pin":"","map-signs":"",mars:"","mars-double":"","mars-stroke":"","mars-stroke-h":"","mars-stroke-v":"",maxcdn:"",meanpath:"",medium:"",medkit:"",meetup:"","meh-o":"",mercury:"",microchip:"",microphone:"","microphone-slash":"",minus:"","minus-circle":"","minus-square":"","minus-square-o":"",mixcloud:"",mobile:"","mobile-phone":"",modx:"",money:"","moon-o":"","mortar-board":"",motorcycle:"","mouse-pointer":"",music:"",navicon:"",neuter:"","newspaper-o":"","object-group":"","object-ungroup":"",odnoklassniki:"","odnoklassniki-square":"",opencart:"",openid:"",opera:"","optin-monster":"",outdent:"",pagelines:"","paint-brush":"","paper-plane":"","paper-plane-o":"",paperclip:"",paragraph:"",paste:"",pause:"","pause-circle":"","pause-circle-o":"",paw:"",paypal:"",pencil:"","pencil-square":"","pencil-square-o":"",percent:"",phone:"","phone-square":"",photo:"","picture-o":"","pie-chart":"","pied-piper":"","pied-piper-alt":"","pied-piper-pp":"",pinterest:"","pinterest-p":"","pinterest-square":"",plane:"",play:"","play-circle":"","play-circle-o":"",plug:"",plus:"","plus-circle":"","plus-square":"","plus-square-o":"",podcast:"","power-off":"",print:"","product-hunt":"","puzzle-piece":"",qq:"",qrcode:"",question:"","question-circle":"","question-circle-o":"",quora:"","quote-left":"","quote-right":"",ra:"",random:"",ravelry:"",rebel:"",recycle:"",reddit:"","reddit-alien":"","reddit-square":"",refresh:"",registered:"",remove:"",renren:"",reorder:"",repeat:"",reply:"","reply-all":"",resistance:"",retweet:"",rmb:"",road:"",rocket:"","rotate-left":"","rotate-right":"",rouble:"",rss:"","rss-square":"",rub:"",ruble:"",rupee:"",s15:"",safari:"",save:"",scissors:"",scribd:"",search:"","search-minus":"","search-plus":"",sellsy:"",send:"","send-o":"",server:"",share:"","share-alt":"","share-alt-square":"","share-square":"","share-square-o":"",shekel:"",sheqel:"",shield:"",ship:"",shirtsinbulk:"","shopping-bag":"","shopping-basket":"","shopping-cart":"",shower:"","sign-in":"","sign-language":"","sign-out":"",signal:"",signing:"",simplybuilt:"",sitemap:"",skyatlas:"",skype:"",slack:"",sliders:"",slideshare:"","smile-o":"",snapchat:"","snapchat-ghost":"","snapchat-square":"","snowflake-o":"","soccer-ball-o":"",sort:"","sort-alpha-asc":"","sort-alpha-desc":"","sort-amount-asc":"","sort-amount-desc":"","sort-asc":"","sort-desc":"","sort-down":"","sort-numeric-asc":"","sort-numeric-desc":"","sort-up":"",soundcloud:"","space-shuttle":"",spinner:"",spoon:"",spotify:"",square:"","square-o":"","stack-exchange":"","stack-overflow":"",star:"","star-half":"","star-half-empty":"","star-half-full":"","star-half-o":"","star-o":"",steam:"","steam-square":"","step-backward":"","step-forward":"",stethoscope:"","sticky-note":"","sticky-note-o":"",stop:"","stop-circle":"","stop-circle-o":"","street-view":"",strikethrough:"",stumbleupon:"","stumbleupon-circle":"",subscript:"",subway:"",suitcase:"","sun-o":"",superpowers:"",superscript:"",support:"",table:"",tablet:"",tachometer:"",tag:"",tags:"",tasks:"",taxi:"",telegram:"",television:"","tencent-weibo":"",terminal:"","text-height":"","text-width":"",th:"","th-large":"","th-list":"",themeisle:"",thermometer:"","thermometer-0":"","thermometer-1":"","thermometer-2":"","thermometer-3":"","thermometer-4":"","thermometer-empty":"","thermometer-full":"","thermometer-half":"","thermometer-quarter":"","thermometer-three-quarters":"","thumb-tack":"","thumbs-down":"","thumbs-o-down":"","thumbs-o-up":"","thumbs-up":"",ticket:"",times:"","times-circle":"","times-circle-o":"","times-rectangle":"","times-rectangle-o":"",tint:"","toggle-down":"","toggle-left":"","toggle-off":"","toggle-on":"","toggle-right":"","toggle-up":"",trademark:"",train:"",transgender:"","transgender-alt":"",trash:"","trash-o":"",tree:"",trello:"",tripadvisor:"",trophy:"",truck:"",try:"",tty:"",tumblr:"","tumblr-square":"","turkish-lira":"",tv:"",twitch:"",twitter:"","twitter-square":"",umbrella:"",underline:"",undo:"","universal-access":"",university:"",unlink:"",unlock:"","unlock-alt":"",unsorted:"",upload:"",usb:"",usd:"",user:"","user-circle":"","user-circle-o":"","user-md":"","user-o":"","user-plus":"","user-secret":"","user-times":"",users:"",vcard:"","vcard-o":"",venus:"","venus-double":"","venus-mars":"",viacoin:"",viadeo:"","viadeo-square":"","video-camera":"",vimeo:"","vimeo-square":"",vine:"",vk:"","volume-control-phone":"","volume-down":"","volume-off":"","volume-up":"",warning:"",wechat:"",weibo:"",weixin:"",whatsapp:"",wheelchair:"","wheelchair-alt":"",wifi:"","wikipedia-w":"","window-close":"","window-close-o":"","window-maximize":"","window-minimize":"","window-restore":"",windows:"",won:"",wordpress:"",wpbeginner:"",wpexplorer:"",wpforms:"",wrench:"",xing:"","xing-square":"","y-combinator":"","y-combinator-square":"",yahoo:"",yc:"","yc-square":"",yelp:"",yen:"",yoast:"",youtube:"","youtube-play":"","youtube-square":""}}},function(t,e,r){"use strict";t.exports.register=function(t){function e(t,e){var r=[t];return Array.isArray(e)&&(r=r.concat(e)),React.DOM.div.apply(React.DOM.div,r)}function r(t){return i.Graph(t)}function o(t){return i.Tooltip(t)}function n(t){return i.ModalBG(t)}var i=t.TheGraph,a=function(t){return t};i.config.app={container:{className:"the-graph-app",name:"app"},canvas:{ref:"canvas",className:"app-canvas"},svg:{className:"app-svg"},svgGroup:{className:"view"},graph:{ref:"graph"},tooltip:{ref:"tooltip"},modal:{className:"context"}},i.factories.app={createAppContainer:e,createAppCanvas:i.factories.createCanvas,createAppSvg:i.factories.createSvg,createAppSvgGroup:i.factories.createGroup,createAppGraph:r,createAppTooltip:o,createAppModalGroup:i.factories.createGroup,createAppModalBackground:n};var s=[];window.React.Animate&&s.push(React.Animate),i.App=React.createFactory(React.createClass({displayName:"TheGraphApp",mixins:s,getInitialState:function(){var t=i.findFit(this.props.graph,this.props.width,this.props.height);return{x:t.x,y:t.y,scale:t.scale,width:this.props.width,height:this.props.height,minZoom:this.props.minZoom,maxZoom:this.props.maxZoom,tooltip:"",tooltipX:0,tooltipY:0,tooltipVisible:!1,contextElement:null,contextType:null,offsetY:this.props.offsetY,offsetX:this.props.offsetX}},zoomFactor:0,zoomX:0,zoomY:0,onWheel:function(t){t.preventDefault(),this.zoomFactor||(this.zoomFactor=0),this.zoomFactor+=t.deltaY?t.deltaY:0-t.wheelDeltaY,this.zoomX=t.clientX,this.zoomY=t.clientY,requestAnimationFrame(this.scheduleWheelZoom)},scheduleWheelZoom:function(){if(!isNaN(this.zoomFactor)){var t=this.zoomFactor/-500;t=Math.min(.5,Math.max(-.5,t));var e=this.state.scale+this.state.scale*t;if(this.zoomFactor=0,e<this.state.minZoom?e=this.state.minZoom:e>this.state.maxZoom&&(e=this.state.maxZoom),e!==this.state.scale){var r=e/this.state.scale,o=this.state.x,n=this.state.y,i=this.zoomX,a=this.zoomY,s=r*(o-i)+i,p=r*(n-a)+a;this.setState({scale:e,x:s,y:p,tooltipVisible:!1})}}},lastScale:1,lastX:0,lastY:0,pinching:!1,onTransformStart:function(t){t.srcEvent.stopPropagation(),t.srcEvent.stopImmediatePropagation(),this.lastScale=1,this.lastX=t.center.x,this.lastY=t.center.y,this.pinching=!0},onTransform:function(t){t.srcEvent.stopPropagation(),t.srcEvent.stopImmediatePropagation();var e=this.state.scale,r=this.state.x,o=this.state.y,n=t.scale,i=n-this.lastScale+1;this.lastScale=n;var a=i*e;a=Math.max(a,this.props.minZoom);var s=t.center.x,p=t.center.y,c=s-this.lastX,h=p-this.lastY,u=i*(r-s)+s+c,l=i*(o-p)+p+h;this.lastX=s,this.lastY=p,this.setState({scale:a,x:u,y:l,tooltipVisible:!1})},onTransformEnd:function(t){t.srcEvent.stopPropagation(),t.srcEvent.stopImmediatePropagation(),this.pinching=!1},trackHandler:function(t){var e=t.detail;switch(e.state){case"start":this.onTrackStart(t);break;case"track":this._onTrack(t);break;case"end":var r=e.hover();t.relatedTarget=r,this.onTrackEnd(t)}},onTrackStart:function(t){t.preventTap();ReactDOM.findDOMNode(this)},onTrack:function(t){this.pinching||this.setState({x:this.state.x+t.ddx,y:this.state.y+t.ddy})},onTrackEnd:function(t){t.stopPropagation(),ReactDOM.findDOMNode(this).removeEventListener("track",this.trackHandler)},onPanScale:function(){this.props.onPanScale&&this.props.onPanScale(this.state.x,this.state.y,this.state.scale)},showContext:function(t){this.setState({contextMenu:t,tooltipVisible:!1})},hideContext:function(t){this.setState({contextMenu:null})},changeTooltip:function(t){var e=t.detail.tooltip,r=t.detail.x+10,o=6*e.length;r+o>this.props.width&&(r=t.detail.x-o-10),this.setState({tooltip:e,tooltipVisible:!0,tooltipX:r,tooltipY:t.detail.y+20})},hideTooltip:function(t){this.setState({tooltip:"",tooltipVisible:!1})},triggerFit:function(t){var e=i.findFit(this.props.graph,this.props.width,this.props.height);this.setState({x:e.x,y:e.y,scale:e.scale})},focusNode:function(t){var e=i.config.focusAnimationDuration,r=i.findNodeFit(t,this.state.width,this.state.height),o={x:-(this.state.x-this.state.width/2)/this.state.scale,y:-(this.state.y-this.state.height/2)/this.state.scale},n={x:t.metadata.x,y:t.metadata.y},a=i.findAreaFit(o,n,this.state.width,this.state.height),s=Math.abs(a.scale-this.state.scale),p=Math.abs(r.scale-a.scale),c=s+p;if(!this.animate)return void this.setState({x:r.x,y:r.y,scale:r.scale});this.animate({x:a.x,y:a.y,scale:a.scale},e*(s/c),"in-quint",function(){this.animate({x:r.x,y:r.y,scale:r.scale},e*(p/c),"out-quint")}.bind(this))},edgeStart:function(t){this.refs.graph.edgeStart(t),this.hideContext()},componentDidMount:function(){var t=ReactDOM.findDOMNode(this),e=function(){},r=window.Polymer.Gestures;r.addListener(t,"up",e),r.addListener(t,"down",e),r.addListener(t,"tap",e),r.addListener(t,"track",e),r.addListener(t,"hold",e),this.props.onNodeSelection&&t.addEventListener("tap",this.unselectAll);var o;Hammer&&(o=new Hammer(t,{}),o.get("pinch").set({enable:!0})),t.addEventListener("track",this.onTrackStart),"ontouchstart"in document.documentElement&&o&&(o.on("pinchstart",this.onTransformStart),o.on("pinch",this.onTransform),o.on("pinchend",this.onTransformEnd)),void 0!==t.onwheel?t.addEventListener("wheel",this.onWheel):void 0!==t.onmousewheel&&t.addEventListener("mousewheel",this.onWheel),t.addEventListener("the-graph-tooltip",this.changeTooltip),t.addEventListener("the-graph-tooltip-hide",this.hideTooltip),t.addEventListener("the-graph-edge-start",this.edgeStart),t.addEventListener("contextmenu",this.onShowContext),this.mouseX=Math.floor(this.props.width/2),this.mouseY=Math.floor(this.props.height/2),document.addEventListener("keydown",this.keyDown),document.addEventListener("keyup",this.keyUp),this.bgCanvas=a(ReactDOM.findDOMNode(this.refs.canvas)),this.bgContext=a(this.bgCanvas.getContext("2d")),this.componentDidUpdate(),setTimeout(function(){this.renderGraph()}.bind(this),500)},onShowContext:function(t){t.preventDefault(),t.stopPropagation(),t.preventTap&&t.preventTap();var e=t.x||t.clientX||0,r=t.y||t.clientY||0;this.showContext({element:this,type:"main",x:e,y:r,graph:this.props.graph,itemKey:"graph",item:this.props.graph})},keyDown:function(t){(t.metaKey||t.ctrlKey)&&(i.metaKeyPressed=!0);var e=t.keyCode,r={46:function(){var t=this.refs.graph.state.graph,e=this.refs.graph.state.selectedNodes,r=this.refs.graph.state.selectedEdges,o=this.props.menus,n=null,i=null;for(n in e)e.hasOwnProperty(n)&&(i=t.getNode(n),o.node.actions.delete(t,n,i));r.map(function(e){o.edge.actions.delete(t,null,e)})}.bind(this),70:function(){this.triggerFit()}.bind(this),83:function(){var t=this.refs.graph.state.graph,e=this.refs.graph.state.selectedNodes,r=null,o=null;for(r in e)if(e.hasOwnProperty(r)){o=t.getNode(r),this.focusNode(o);break}}.bind(this)};r[e]&&r[e]()},keyUp:function(t){if(27===t.keyCode){if(!this.refs.graph)return;this.refs.graph.cancelPreviewEdge()}i.metaKeyPressed&&(i.metaKeyPressed=!1)},unselectAll:function(t){this.props.onNodeSelection(),this.props.onEdgeSelection()},renderGraph:function(){this.refs.graph.markDirty()},componentDidUpdate:function(t,e){this.renderCanvas(this.bgContext),e&&e.x===this.state.x&&e.y===this.state.y&&e.scale===this.state.scale||this.onPanScale()},renderCanvas:function(t){t.clearRect(0,0,this.state.width,this.state.height);for(var e=this.state.scale,r=i.config.nodeSize*e,o=this.state.x%r,n=this.state.y%r,a=Math.floor(this.state.width/r)+1,s=Math.floor(this.state.height/r)+1,p=Math.floor(this.state.x/r)+(this.state.x<0?1:0),c=Math.floor(this.state.y/r)+(this.state.y<0?1:0);s--;)for(var h=a;h--;){var u=Math.round(h*r+o),l=Math.round(s*r+n);(p-h)%3==0&&(c-s)%3==0?(t.fillStyle="white",t.fillRect(u,l,1,1)):e>.5&&(t.fillStyle="grey",t.fillRect(u,l,1,1))}},getContext:function(t,e,r){return i.Menu({menu:t,options:e,triggerHideContext:r,label:"Hello",graph:this.props.graph,node:this,ports:[],process:[],processKey:null,x:e.x,y:e.y,nodeWidth:this.props.width,nodeHeight:this.props.height,deltaX:0,deltaY:0,highlightPort:!1})},render:function(){var t,e,r=this.state.scale,o=this.state.x,n=this.state.y,a="matrix("+r+",0,0,"+r+","+o+","+n+")",s=r>i.zbpBig?"big":r>i.zbpNormal?"normal":"small",p=this.props;if(this.state.contextMenu){var c=this.state.contextMenu;if(p.getMenuDef){var h=p.getMenuDef(c);h&&(t=c.element.getContext(h,c,this.hideContext))}}if(t){var u={width:this.state.width,height:this.state.height,triggerHideContext:this.hideContext,children:t};e=[i.factories.app.createAppModalBackground(u)],this.menuShown=!0}else this.menuShown=!1;var l={graph:this.props.graph,scale:this.state.scale,app:this,library:this.props.library,onNodeSelection:this.props.onNodeSelection,onEdgeSelection:this.props.onEdgeSelection,showContext:this.showContext};l=i.merge(i.config.app.graph,l);var d=i.factories.app.createAppGraph.call(this,l),f=i.merge(i.config.app.svgGroup,{transform:a}),g=i.factories.app.createAppSvgGroup.call(this,f,[d]),m={x:this.state.tooltipX,y:this.state.tooltipY,visible:this.state.tooltipVisible,label:this.state.tooltip};m=i.merge(i.config.app.tooltip,m);var v=i.factories.app.createAppTooltip.call(this,m),y=i.merge(i.config.app.modal,{children:e}),x=i.factories.app.createAppModalGroup.call(this,y),b=[g,v,x],w=i.merge(i.config.app.svg,{width:this.state.width,height:this.state.height}),E=i.factories.app.createAppSvg.call(this,w,b),N=i.merge(i.config.app.canvas,{width:this.state.width,height:this.state.height}),P=i.factories.app.createAppCanvas.call(this,N),T=[P,E],M=i.merge(i.config.app.container,{style:{width:this.state.width,height:this.state.height}});return M.className+=" "+s,i.factories.app.createAppContainer.call(this,M,T)}}))}},function(t,e,r){"use strict";function o(t,e,r){var o,n,i=e.children.slice();for(o=0,n=i.length;o<n;o++){var a=i[o],s=t.getNode(a.id);if(a.children){var p,c=a.children;for(p in c){var h=c[p];h.id&&t.setNodeMetadata(h.id,{x:Math.round((a.x+h.x)/r.snap)*r.snap,y:Math.round((a.y+h.y)/r.snap)*r.snap})}}if(s)t.setNodeMetadata(a.id,{x:Math.round(a.x/r.snap)*r.snap,y:Math.round(a.y/r.snap)*r.snap});else{var u=a.id.split(":::"),l=u[0],d=u[1];"inport"===l&&t.inports[d]?t.setInportMetadata(d,{x:Math.round(a.x/r.snap)*r.snap,y:Math.round(a.y/r.snap)*r.snap}):"outport"===l&&t.outports[d]&&t.setOutportMetadata(d,{x:Math.round(a.x/r.snap)*r.snap,y:Math.round(a.y/r.snap)*r.snap})}}}t.exports={applyToGraph:o}},function(t,e,r){"use strict";var o=r(66),n=function(t){return t&&t.__esModule?t:{default:t}}(o);t.exports.register=function(t){var e=t.TheGraph;e.Clipboard={};var r={},o=function(t){return JSON.parse((0,n.default)(t))},i=function(t){var e=60466176;return e=Math.floor(Math.random()*e),t+"_"+e.toString(36)};e.Clipboard.copy=function(t,e){r={nodes:[],edges:[]};var n,a,s={};for(n=0,a=e.length;n<a;n++){var p=t.getNode(e[n]),c=o(p);c.id=i(p.component),r.nodes.push(c),s[p.id]=c.id}for(n=0,a=t.edges.length;n<a;n++){var h=t.edges[n],u=h.from.node,l=h.to.node;if(s.hasOwnProperty(u)&&s.hasOwnProperty(l)){var d=o(h);d.from.node=s[u],d.to.node=s[l],r.edges.push(d)}}},e.Clipboard.paste=function(t){var e,n,a={},s={nodes:[],edges:[]};for(e=0,n=r.nodes.length;e<n;e++){var p=r.nodes[e],c=o(p.metadata);c.x+=36,c.y+=36;var h=t.addNode(i(p.component),p.component,c);a[p.id]=h.id,s.nodes.push(h)}for(e=0,n=r.edges.length;e<n;e++){var u,l=r.edges[e],d=o(l.metadata);if(l.from.hasOwnProperty("index")||l.to.hasOwnProperty("index")){var f=l.from.index||null,g=l.to.index||null;u=t.addEdgeIndex(a[l.from.node],l.from.port,f,a[l.to.node],l.to.port,g,d)}else u=t.addEdge(a[l.from.node],l.from.port,a[l.to.node],l.to.port,d);s.edges.push(u)}return s}}},function(t,e,r){"use strict";t.exports.register=function(t){function e(t,e,r,o,n,i,a,s){return["M",t,e,"C",r,o,n,i,a,s]}var r=t.TheGraph;r.config.edge={curve:r.config.nodeSize,container:{className:"edge"},backgroundPath:{className:"edge-bg"},foregroundPath:{ref:"route",className:"edge-fg stroke route"},touchPath:{className:"edge-touch",ref:"touch"}},r.factories.edge={createEdgeGroup:r.factories.createGroup,createEdgeBackgroundPath:r.factories.createPath,createEdgeForegroundPath:r.factories.createPath,createEdgeTouchPath:r.factories.createPath,createEdgePathArray:e,createArrow:r.factories.createPolygon};var o=r.config.edge.curve,n=function(t,e,r,o,n,i,a,s,p){var c=1-t,h=e*t+o*c,u=r*t+n*c,l=o*t+i*c,d=n*t+a*c;return[(h*t+l*c)*t+(l*t+(i*t+s*c)*c)*c,(u*t+d*c)*t+(d*t+(a*t+p*c)*c)*c]};r.Edge=React.createFactory(React.createClass({displayName:"TheGraphEdge",mixins:[r.mixins.Tooltip],componentWillMount:function(){},componentDidMount:function(){var t=ReactDOM.findDOMNode(this);t.addEventListener("track",this.trackHandler),this.props.onEdgeSelection&&t.addEventListener("tap",this.onEdgeSelection),this.props.showContext&&(t.addEventListener("contextmenu",this.showContext),t.addEventListener("hold",this.showContext))},trackHandler:function(t){switch(t.detail.state){case"start":this.dontPan(t)}},dontPan:function(t){this.props.app.menuShown&&t.stopPropagation()},onEdgeSelection:function(t){t.stopPropagation();var e=r.metaKeyPressed||"touch"===t.pointerType;this.props.onEdgeSelection(this.props.edgeID,this.props.edge,e)},showContext:function(t){t.preventDefault(),t.stopPropagation(),t.preventTap&&t.preventTap();var e=t.x||t.clientX||0,r=t.y||t.clientY||0;this.props.showContext({element:this,type:this.props.export?this.props.isIn?"graphInport":"graphOutport":"edge",x:e,y:r,graph:this.props.graph,itemKey:this.props.export?this.props.exportKey:null,item:this.props.export?this.props.export:this.props.edge})},getContext:function(t,e,o){return r.Menu({menu:t,options:e,triggerHideContext:o,label:this.props.label,iconColor:this.props.route})},shouldComponentUpdate:function(t,e){return t.sX!==this.props.sX||t.sY!==this.props.sY||t.tX!==this.props.tX||t.tY!==this.props.tY||t.selected!==this.props.selected||t.animated!==this.props.animated||t.route!==this.props.route},getTooltipTrigger:function(){return ReactDOM.findDOMNode(this.refs.touch)},shouldShowTooltip:function(){return!0},render:function(){var t,e,i,a,s=this.props.sX,p=this.props.sY,c=this.props.tX,h=this.props.tY;if(c-5<s){var u=(s-c)*o/200;Math.abs(h-p)<r.config.nodeSize/2?(t=s+u,e=p-u,i=c-u,a=h-u):(t=s+u,e=p+(h>p?u:-u),i=c-u,a=h+(h>p?-u:u))}else t=s+(c-s)/2,e=p,i=t,a=h;var l=r.factories.edge.createEdgePathArray(s,p,t,e,i,a,c,h);l=l.join(" ");var d=r.merge(r.config.edge.backgroundPath,{d:l}),f=r.factories.edge.createEdgeBackgroundPath(d),g=r.config.edge.foregroundPath.className+this.props.route,m=r.merge(r.config.edge.foregroundPath,{d:l,className:g}),v=r.factories.edge.createEdgeForegroundPath(m),y=r.merge(r.config.edge.touchPath,{d:l}),x=r.factories.edge.createEdgeTouchPath(y),b={className:"edge"+(this.props.selected?" selected":"")+(this.props.animated?" animated":""),title:this.props.label};b=r.merge(r.config.edge.container,b);var w=n(.5,s,p,t,e,i,a,c,h),E=function(r){return n(.5+r,s,p,t,e,i,a,c,h)},N=E(.01),P=E(-.01),T=1*(N[1]-P[1])/(N[0]-P[0]),M=w[1]-T*w[0],O=function(t,e,r,o,n,i){var a,s=t+n/Math.sqrt(1+r*r);return a=Math.abs(r)===1/0?e+(i||1)*n:r*s+o,[s,a]},I=12;N[0]>P[0]&&(I*=-1),w=O(w[0],w[1],T,M,-1*I/2);var S=function(t,e,r,o){var n=-1/r,i=e-n*t;return[O(t,e,n,i,o/2),O(t,e,n,i,o/-2)]}(w[0],w[1],T,.9*I),k=N[1]>P[1]?-1:1,R=O(w[0],w[1],T,M,I,k);S.push(R);var G=S.map(function(t){return t.join(",")}).join(" "),A=r.factories.edge.createArrow({points:G,className:"arrow-bg"}),C=r.factories.edge.createArrow({points:G,className:"arrow fill route"+this.props.route});return r.factories.edge.createEdgeGroup(b,[f,A,v,x,C])}}))}},function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var n=r(3),i=o(n),a=r(30),s=o(a);t.exports.register=function(t){function e(t){return p.Node(t)}function r(t){return p.Edge(t)}function o(t){return p.IIP(t)}function n(t){return p.Group(t)}function a(t){return p.Edge(t)}var p=t.TheGraph;p.config.graph={container:{},groupsGroup:{className:"groups"},edgesGroup:{className:"edges"},iipsGroup:{className:"iips"},nodesGroup:{className:"nodes"},inportsGroup:{className:"ex-inports"},outportsGroup:{className:"ex-outports"},node:{},iip:{},inportEdge:{},inportNode:{},outportEdge:{},outportNode:{},nodeGroup:{},selectionGroup:{key:"selectiongroup",isSelectionGroup:!0,label:"",description:""},edgePreview:{key:"edge-preview",label:""}},p.factories.graph={createGraphContainerGroup:p.factories.createGroup,createGraphGroupsGroup:p.factories.createGroup,createGraphEdgesGroup:p.factories.createGroup,createGraphIIPGroup:p.factories.createGroup,createGraphNodesGroup:p.factories.createGroup,createGraphInportsGroup:p.factories.createGroup,createGraphOutportsGroup:p.factories.createGroup,createGraphNode:e,createGraphEdge:r,createGraphIIP:o,createGraphGroup:n,createGraphEdgePreview:a},p.Graph=React.createFactory(React.createClass({displayName:"TheGraphGraph",mixins:[],getInitialState:function(){return{graph:this.props.graph,displaySelectionGroup:!0,edgePreview:null,edgePreviewX:0,edgePreviewY:0,forceSelection:!1,selectedNodes:[],errorNodes:[],selectedEdges:[],animatedEdges:[],offsetX:this.props.offsetX,offsetY:this.props.offsetY}},componentDidMount:function(){this.props.graph.on("addEdge",this.resetPortRoute),this.props.graph.on("changeEdge",this.resetPortRoute),this.props.graph.on("removeEdge",this.resetPortRoute),this.props.graph.on("removeInitial",this.resetPortRoute),this.props.graph.on("changeNode",this.markDirty),this.props.graph.on("changeInport",this.markDirty),this.props.graph.on("changeOutport",this.markDirty),this.props.graph.on("endTransaction",this.markDirty),ReactDOM.findDOMNode(this).addEventListener("the-graph-node-remove",this.removeNode)},edgePreview:null,edgeStart:function(t){var e=t.detail.port,r=this.state.edgePreview;if(r){if(r.isIn!==t.detail.isIn){var o=this.state.edgePreview;return t.detail.isIn?o.to=e:o.from=e,this.addEdge(o),void this.cancelPreviewEdge()}}var n;n=t.detail.isIn?{to:e}:{from:e},n.isIn=t.detail.isIn,n.metadata={route:t.detail.route},n.type=t.detail.port.type;var i=ReactDOM.findDOMNode(this.props.app);i.addEventListener("mousemove",this.renderPreviewEdge),i.addEventListener("track",this.renderPreviewEdge),i.addEventListener("tap",this.cancelPreviewEdge),this.setState({edgePreview:n})},cancelPreviewEdge:function(t){var e=ReactDOM.findDOMNode(this.props.app);e.removeEventListener("mousemove",this.renderPreviewEdge),e.removeEventListener("track",this.renderPreviewEdge),e.removeEventListener("tap",this.cancelPreviewEdge),this.state.edgePreview&&(this.setState({edgePreview:null}),this.markDirty())},renderPreviewEdge:function(t){var e=t.x||t.clientX||0,r=t.y||t.clientY||0,o=this.props.app.state;e-=o.offsetX||0,r-=o.offsetY||0;var n=o.scale,i=this.props.app.props,a=i.svgcontainer||{},s=a.offsetLeft,p=a.offsetTop,c=(e-o.x)/n-s,h=(r-o.y)/n-p,u={scale:n,edgePreviewX:c,edgePreviewY:h};this.setState(u),this.markDirty()},addEdge:function(t){this.state.graph.addEdge(t.from.process,t.from.port,t.to.process,t.to.port,t.metadata)},moveGroup:function(t,e,r){for(var o=this.state.graph,n=t.length,i=0;i<n;i++){var a=o.getNode(t[i]);if(a)if(void 0!==e)o.setNodeMetadata(a.id,{x:a.metadata.x+e,y:a.metadata.y+r});else{var s=p.config.nodeHeight/2;o.setNodeMetadata(a.id,{x:Math.round(a.metadata.x/s)*s,y:Math.round(a.metadata.y/s)*s})}}},getComponentInfo:function(t){return this.props.library[t]},portInfo:{},getPorts:function(t,e,r){var o=t.getNode(e),n=this.portInfo[e];if(!n){var i={},a={};if(r&&this.props.library){var s=this.getComponentInfo(r);if(!s)return{inports:i,outports:a};var p,c,h;for(p=0,h=s.outports.length;p<h;p++)c=s.outports[p],c.name&&(a[c.name]={label:c.name,type:c.type,x:o.metadata.width,y:o.metadata.height/(h+1)*(p+1)});for(p=0,h=s.inports.length;p<h;p++)c=s.inports[p],c.name&&(i[c.name]={label:c.name,type:c.type,x:0,y:o.metadata.height/(h+1)*(p+1)})}n={inports:i,outports:a},this.portInfo[e]=n}return n},getNodeOutport:function(t,e,r,o,n){var i=this.getPorts(t,e,n);i.outports[r]||(i.outports[r]={label:r,x:p.config.nodeWidth,y:p.config.nodeHeight/2},this.dirty=!0);var a=i.outports[r];return void 0!==o&&(a.route=o),a},getNodeInport:function(t,e,r,o,n){var i=this.getPorts(t,e,n);i.inports[r]||(i.inports[r]={label:r,x:0,y:p.config.nodeHeight/2},this.dirty=!0);var a=i.inports[r];return void 0!==o&&(a.route=o),a},resetPortRoute:function(t){if(t.from&&t.from.node){var e=this.portInfo[t.from.node];if(e){e.dirty=!0;var r=e.outports[t.from.port];r&&(r.route=null)}}if(t.to&&t.to.node){var o=this.portInfo[t.to.node];if(o){o.dirty=!0;var n=o.inports[t.to.port];n&&(n.route=null)}}},graphOutports:{},getGraphOutport:function(t){var e=this.graphOutports[t];return e||(e={inports:{},outports:{}},e.inports[t]={label:t,type:"all",route:5,x:0,y:p.config.nodeHeight/2},this.graphOutports[t]=e),e},graphInports:{},getGraphInport:function(t){var e=this.graphInports[t];return e||(e={inports:{},outports:{}},e.outports[t]={label:t,type:"all",route:2,x:p.config.nodeWidth,y:p.config.nodeHeight/2},this.graphInports[t]=e),e},setSelectedNodes:function(t){this.setState({selectedNodes:t}),this.markDirty()},setErrorNodes:function(t){this.setState({errorNodes:t}),this.markDirty()},setSelectedEdges:function(t){this.setState({selectedEdges:t}),this.markDirty()},setAnimatedEdges:function(t){this.setState({animatedEdges:t}),this.markDirty()},updatedIcons:{},updateIcon:function(t,e){this.updatedIcons[t]=e,this.markDirty()},dirty:!1,libraryDirty:!1,markDirty:function(t){t&&t.libraryDirty&&(this.libraryDirty=!0),window.requestAnimationFrame(this.triggerRender)},triggerRender:function(t){this.isMounted()&&(this.dirty||(this.dirty=!0,this.forceUpdate()))},shouldComponentUpdate:function(){return this.dirty},render:function(){this.dirty=!1;var t=this,e=this.state.graph,r=(this.props.library,[]);this.libraryDirty&&(this.libraryDirty=!1,this.portInfo={});var o=null;this.state.edgePreview&&this.state.edgePreview.type&&(o={type:this.state.edgePreview.type,isIn:!this.state.edgePreview.isIn});var n=e.nodes.map(function(n){var i=t.getComponentInfo(n.component),a=n.id;if(n.metadata||(n.metadata={}),void 0===n.metadata.x&&(n.metadata.x=0),void 0===n.metadata.y&&(n.metadata.y=0),void 0===n.metadata.width&&(n.metadata.width=p.config.nodeWidth),n.metadata.height=p.config.nodeHeight,p.config.autoSizeNode&&i){var s=Math.max(i.inports.length,i.outports.length);if(s>p.config.maxPortCount){var c=s-p.config.maxPortCount;n.metadata.height=p.config.nodeHeight+c*p.config.nodeHeightIncrement}}n.metadata.label&&""!==n.metadata.label||(n.metadata.label=a);var h="cog",u="";t.updatedIcons[a]?h=t.updatedIcons[a]:i&&i.icon?h=i.icon:i&&i.iconsvg&&(u=i.iconsvg);var l=!0===t.state.selectedNodes[a];l&&r.push(a);var d={key:a,nodeID:a,x:n.metadata.x,y:n.metadata.y,label:n.metadata.label,sublabel:n.metadata.sublabel||n.component,width:n.metadata.width,height:n.metadata.height,app:t.props.app,graphView:t,graph:e,node:n,icon:h,iconsvg:u,ports:t.getPorts(e,a,n.component),onNodeSelection:t.props.onNodeSelection,selected:l,error:!0===t.state.errorNodes[a],showContext:t.props.showContext,highlightPort:o};return d=p.merge(p.config.graph.node,d),p.factories.graph.createGraphNode.call(this,d)}),a=e.edges.map(function(r){var o=e.getNode(r.from.node),n=e.getNode(r.to.node);if(o&&n){var i=0;r.metadata&&r.metadata.route&&(i=r.metadata.route);var a=t.getNodeOutport(e,r.from.node,r.from.port,i,o.component),s=t.getNodeInport(e,r.to.node,r.to.port,i,n.component),c=o.metadata.label+"() "+r.from.port.toUpperCase()+(r.from.hasOwnProperty("index")?"["+r.from.index+"]":"")+" -> "+r.to.port.toUpperCase()+(r.to.hasOwnProperty("index")?"["+r.to.index+"]":"")+" "+n.metadata.label+"()",h=r.from.node+"() "+r.from.port.toUpperCase()+(r.from.hasOwnProperty("index")?"["+r.from.index+"]":"")+" -> "+r.to.port.toUpperCase()+(r.to.hasOwnProperty("index")?"["+r.to.index+"]":"")+" "+r.to.node+"()",u={key:h,edgeID:h,graph:e,edge:r,app:t.props.app,sX:o.metadata.x+o.metadata.width,sY:o.metadata.y+a.y,tX:n.metadata.x,tY:n.metadata.y+s.y,label:c,route:i,onEdgeSelection:t.props.onEdgeSelection,selected:-1!==t.state.selectedEdges.indexOf(r),animated:-1!==t.state.animatedEdges.indexOf(r),showContext:t.props.showContext};return u=p.merge(p.config.graph.edge,u),p.factories.graph.createGraphEdge.call(this,u)}}),c=e.initializers.map(function(r){var o=e.getNode(r.to.node);if(o){var n=t.getNodeInport(e,r.to.node,r.to.port,0,o.component),i=o.metadata.x,a=o.metadata.y+n.y,c=r.from.data,h=void 0===c?"undefined":(0,s.default)(c),u=!0===c||!1===c||"number"===h||"string"===h?c:h,l={graph:e,label:u,x:i,y:a};return l=p.merge(p.config.graph.iip,l),p.factories.graph.createGraphIIP.call(this,l)}}),h=(0,i.default)(e.inports).map(function(r){var o=e.inports[r],n=r,i=o.process,s=o.port;o.metadata||(o.metadata={x:0,y:0});var c=o.metadata;c.x||(c.x=0),c.y||(c.y=0),c.width||(c.width=p.config.nodeWidth),c.height||(c.height=p.config.nodeHeight);var h=t.portInfo[i];if(!h)return void console.warn("Node "+i+" not found for graph inport "+n);var u=h.inports[s];if(!u)return void console.warn("Port "+i+"."+s+" not found for graph inport "+n);var l=e.getNode(i);if(!l)return void console.warn("Node "+i+" not found for graph inport "+n);var d={key:"inport.node."+r,export:o,exportKey:r,x:c.x,y:c.y,width:c.width,height:c.height,label:n,app:t.props.app,graphView:t,graph:e,node:{},ports:t.getGraphInport(r),isIn:!0,icon:c.icon?c.icon:"sign-in",showContext:t.props.showContext};d=p.merge(p.config.graph.inportNode,d);var f={key:"inport.edge."+r,export:o,exportKey:r,graph:e,app:t.props.app,edge:{},route:c.route?c.route:2,isIn:!0,label:"export in "+n.toUpperCase()+" -> "+s.toUpperCase()+" "+l.metadata.label,sX:d.x+p.config.nodeWidth,sY:d.y+p.config.nodeHeight/2,tX:l.metadata.x+u.x,tY:l.metadata.y+u.y,showContext:t.props.showContext};return f=p.merge(p.config.graph.inportEdge,f),a.unshift(p.factories.graph.createGraphEdge.call(this,f)),p.factories.graph.createGraphNode.call(this,d)}),u=(0,i.default)(e.outports).map(function(r){var o=e.outports[r],n=r,i=o.process,s=o.port;o.metadata||(o.metadata={x:0,y:0});var c=o.metadata;c.x||(c.x=0),c.y||(c.y=0),c.width||(c.width=p.config.nodeWidth),c.height||(c.height=p.config.nodeHeight);var h=t.portInfo[i];if(!h)return void console.warn("Node "+i+" not found for graph outport "+n);var u=h.outports[s];if(!u)return void console.warn("Port "+i+"."+s+" not found for graph outport "+n);var l=e.getNode(i);if(!l)return void console.warn("Node "+i+" not found for graph outport "+n);var d={key:"outport.node."+r,export:o,exportKey:r,x:c.x,y:c.y,width:c.width,height:c.height,label:n,app:t.props.app,graphView:t,graph:e,node:{},ports:t.getGraphOutport(r),isIn:!1,icon:c.icon?c.icon:"sign-out",showContext:t.props.showContext};d=p.merge(p.config.graph.outportNode,d);var f={key:"outport.edge."+r,export:o,exportKey:r,graph:e,app:t.props.app,edge:{},route:c.route?c.route:4,isIn:!1,label:l.metadata.label+" "+s.toUpperCase()+" -> "+n.toUpperCase()+" export out",sX:l.metadata.x+u.x,sY:l.metadata.y+u.y,tX:d.x,tY:d.y+p.config.nodeHeight/2,showContext:t.props.showContext};return f=p.merge(p.config.graph.outportEdge,f),a.unshift(p.factories.graph.createGraphEdge.call(this,f)),p.factories.graph.createGraphNode.call(this,d)}),l=e.groups.map(function(r){if(!(r.nodes.length<1)){var o=p.findMinMax(e,r.nodes);if(o){var n={key:"group."+r.name,graph:e,item:r,app:t.props.app,minX:o.minX,minY:o.minY,maxX:o.maxX,maxY:o.maxY,scale:t.props.scale,label:r.name,nodes:r.nodes,description:r.metadata.description,color:r.metadata.color,triggerMoveGroup:t.moveGroup,showContext:t.props.showContext};return n=p.merge(p.config.graph.nodeGroup,n),p.factories.graph.createGraphGroup.call(this,n)}}});if(this.state.displaySelectionGroup&&r.length>=2){var d=p.findMinMax(e,r);if(d){var f={name:"selection",nodes:r,metadata:{color:1}},g={graph:e,app:t.props.app,item:f,minX:d.minX,minY:d.minY,maxX:d.maxX,maxY:d.maxY,scale:t.props.scale,color:f.metadata.color,triggerMoveGroup:t.moveGroup,showContext:t.props.showContext};g=p.merge(p.config.graph.selectionGroup,g);var m=p.factories.graph.createGraphGroup.call(this,g);l.push(m)}}var v=this.state.edgePreview;if(v){var y;if(v.from){var x=e.getNode(v.from.process),b=this.getNodeOutport(e,v.from.process,v.from.port);y={sX:x.metadata.x+x.metadata.width,sY:x.metadata.y+b.y,tX:this.state.edgePreviewX,tY:this.state.edgePreviewY,route:v.metadata.route}}else{var w=e.getNode(v.to.process),E=this.getNodeInport(e,v.to.process,v.to.port);y={sX:this.state.edgePreviewX,sY:this.state.edgePreviewY,tX:w.metadata.x,tY:w.metadata.y+E.y,route:v.metadata.route}}y=p.merge(p.config.graph.edgePreview,y);var N=p.factories.graph.createGraphEdgePreview.call(this,y);a.push(N)}var P=p.merge(p.config.graph.groupsGroup,{children:l}),T=p.factories.graph.createGraphGroupsGroup.call(this,P),M=p.merge(p.config.graph.edgesGroup,{children:a}),O=p.factories.graph.createGraphEdgesGroup.call(this,M),I=p.merge(p.config.graph.iipsGroup,{children:c}),S=p.factories.graph.createGraphIIPGroup.call(this,I),k=p.merge(p.config.graph.nodesGroup,{children:n}),R=p.factories.graph.createGraphNodesGroup.call(this,k),G=p.merge(p.config.graph.inportsGroup,{children:h}),A=p.factories.graph.createGraphInportsGroup.call(this,G),C=p.merge(p.config.graph.outportsGroup,{children:u}),_=p.factories.graph.createGraphGroupsGroup.call(this,C),D=[T,O,S,R,A,_],L=this.state.forceSelection||r.length>0?" selection":"",j=p.merge(p.config.graph.container,{className:"graph"+L});return p.factories.graph.createGraphContainerGroup.call(this,j,D)}}))}},function(t,e,r){"use strict";t.exports.register=function(t){var e=t.TheGraph;e.config.group={container:{className:"group"},boxRect:{ref:"box",rx:e.config.nodeRadius,ry:e.config.nodeRadius},labelText:{ref:"label",className:"group-label drag"},descriptionText:{className:"group-description"}},e.factories.group={createGroupGroup:e.factories.createGroup,createGroupBoxRect:e.factories.createRect,createGroupLabelText:e.factories.createText,createGroupDescriptionText:e.factories.createText},e.Group=React.createFactory(React.createClass({displayName:"TheGraphGroup",componentDidMount:function(){this.props.isSelectionGroup?ReactDOM.findDOMNode(this.refs.box).addEventListener("trackstart",this.onTrackStart):ReactDOM.findDOMNode(this.refs.label).addEventListener("trackstart",this.onTrackStart);var t=ReactDOM.findDOMNode(this);t.addEventListener("trackstart",this.dontPan),this.props.showContext&&(t.addEventListener("contextmenu",this.showContext),t.addEventListener("hold",this.showContext))},showContext:function(t){t.preventDefault(),t.stopPropagation(),t.preventTap&&t.preventTap();var e=t.x||t.clientX||0,r=t.y||t.clientY||0;this.props.showContext({element:this,type:this.props.isSelectionGroup?"selection":"group",x:e,y:r,graph:this.props.graph,itemKey:this.props.label,item:this.props.item})},getContext:function(t,r,o){return e.Menu({menu:t,options:r,label:this.props.label,triggerHideContext:o})},dontPan:function(t){this.props.app.menuShown&&t.stopPropagation()},onTrackStart:function(t){if(t.stopPropagation(),this.props.isSelectionGroup){var e=ReactDOM.findDOMNode(this.refs.box);e.addEventListener("track",this.onTrack),e.addEventListener("trackend",this.onTrackEnd)}else{var r=ReactDOM.findDOMNode(this.refs.label);r.addEventListener("track",this.onTrack),r.addEventListener("trackend",this.onTrackEnd)}this.props.graph.startTransaction("movegroup")},onTrack:function(t){t.stopPropagation();var e=Math.round(t.ddx/this.props.scale),r=Math.round(t.ddy/this.props.scale);this.props.triggerMoveGroup(this.props.item.nodes,e,r)},onTrackEnd:function(t){if(t.stopPropagation(),t.preventTap(),this.props.triggerMoveGroup(this.props.item.nodes),this.props.isSelectionGroup){var e=ReactDOM.findDOMNode(this.refs.box);e.removeEventListener("track",this.onTrack),e.removeEventListener("trackend",this.onTrackEnd)}else{var r=ReactDOM.findDOMNode(this.refs.label);r.removeEventListener("track",this.onTrack),r.removeEventListener("trackend",this.onTrackEnd)}this.props.graph.endTransaction("movegroup")},render:function(){var t=this.props.minX-e.config.nodeWidth/2,r=this.props.minY-e.config.nodeHeight/2,o=this.props.color?this.props.color:0,n=this.props.isSelectionGroup?" selection drag":"",i={x:t,y:r,width:this.props.maxX-t+.5*e.config.nodeWidth,height:this.props.maxY-r+.75*e.config.nodeHeight,className:"group-box color"+o+n};i=e.merge(e.config.group.boxRect,i);var a=e.factories.group.createGroupBoxRect.call(this,i),s={x:t+e.config.nodeRadius,y:r+9,children:this.props.label};s=e.merge(e.config.group.labelText,s);var p=e.factories.group.createGroupLabelText.call(this,s),c={x:t+e.config.nodeRadius,y:r+24,children:this.props.description};c=e.merge(e.config.group.descriptionText,c);var h=e.factories.group.createGroupDescriptionText.call(this,c),u=[a,p,h],l=e.merge(e.config.group.container,{});return e.factories.group.createGroupGroup.call(this,l,u)}}))}},function(t,e,r){"use strict";t.exports.register=function(t){function e(t){return r.TextBG(t)}var r=t.TheGraph;r.config.iip={container:{className:"iip"},path:{className:"iip-path"},text:{className:"iip-info",height:5,halign:"right"}},r.factories.iip={createIIPContainer:r.factories.createGroup,createIIPPath:r.factories.createPath,createIIPText:e};r.IIP=React.createFactory(React.createClass({displayName:"TheGraphIIP",shouldComponentUpdate:function(t,e){return t.x!==this.props.x||t.y!==this.props.y||t.label!==this.props.label},render:function(){var t=this.props.x,e=this.props.y,o=["M",t,e,"L",t-10,e].join(" "),n=this.props.label+"";n.length>12&&(n=n.slice(0,9)+"...");var i=r.merge(r.config.iip.path,{d:o}),a=r.factories.iip.createIIPPath.call(this,i),s=r.merge(r.config.iip.text,{x:t-10,y:e,text:n}),p=r.factories.iip.createIIPText.call(this,s),c=[a,p],h=r.merge(r.config.iip.container,{title:this.props.label});return r.factories.iip.createIIPContainer.call(this,h,c)}}))}},function(t,e,r){"use strict";function o(t,e){if(t===e)return e;var r,o,n,i,a,s=t.inports,p=e.inports;if(s!==p)for(r=0,n=s.length;r<n;r++){var c=s[r];for(a=!1,o=0,i=p.length;o<i;o++){var h=p[o];c.name===h.name&&(a=!0)}a||p.push(c)}var u=t.outports,l=e.outports;if(u!==l)for(r=0,n=u.length;r<n;r++){var d=u[r];for(a=!1,o=0,i=l.length;o<i;o++){var f=l[o];d.name===f.name&&(a=!0)}a||l.push(d)}return"cog"!==e.icon?t.icon=e.icon:e.icon=t.icon,e.iconsvg=t.iconsvg,e}function n(t){var e=[];return t.nodes.forEach(function(r){var o={name:r.component,icon:"cog",description:"",inports:[],outports:[]};(0,a.default)(t.inports).forEach(function(e){var n=t.inports[e];if(n.process===r.id){for(var i=0;i<o.inports.length;i++)if(o.inports[i].name===n.port)return;o.inports.push({name:n.port,type:"all"})}}),(0,a.default)(t.outports).forEach(function(e){var n=t.outports[e];if(n.process===r.id){for(var i=0;i<o.outports.length;i++)if(o.outports[i].name===n.port)return;o.outports.push({name:n.port,type:"all"})}}),t.initializers.forEach(function(t){if(t.to.node===r.id){for(var e=0;e<o.inports.length;e++)if(o.inports[e].name===t.to.port)return;o.inports.push({name:t.to.port,type:"all"})}}),t.edges.forEach(function(t){var e;if(t.from.node===r.id){for(e=0;e<o.outports.length;e++)if(o.outports[e].name===t.from.port)return;o.outports.push({name:t.from.port,type:"all"})}if(t.to.node===r.id){for(e=0;e<o.inports.length;e++)if(o.inports[e].name===t.to.port)return;o.inports.push({name:t.to.port,type:"all"})}}),e.push(o)}),e}var i=r(3),a=function(t){return t&&t.__esModule?t:{default:t}}(i);t.exports={mergeComponentDefinition:o,componentsFromGraph:n}},function(t,e,r){"use strict";t.exports.register=function(t){function e(t){var e=t.direction,o=r.merge(r.config.menu.arcPath,{d:r.arcs[e]}),n=[r.factories.menu.createMenuSliceArcPath(o)];if(this.props.menu[e]){var i=this.props.menu[e];if(i.icon){var a={x:r.config.menu.positions[e+"IconX"],y:r.config.menu.positions[e+"IconY"],children:r.FONT_AWESOME[i.icon]};a=r.merge(r.config.menu.sliceIconText,a),n.push(r.factories.menu.createMenuSliceIconText.call(this,a))}if(i.label){var s={x:r.config.menu.positions[e+"IconX"],y:r.config.menu.positions[e+"IconY"],children:i.label};s=r.merge(r.config.menu.sliceLabelText,s),n.push(r.factories.menu.createMenuSliceLabelText.call(this,s))}if(i.iconLabel){var p={x:r.config.menu.positions[e+"LabelX"],y:r.config.menu.positions[e+"LabelY"],children:i.iconLabel};p=r.merge(r.config.menu.sliceIconLabelText,p),n.push(r.factories.menu.createMenuSliceIconLabelText.call(this,p))}}var c={ref:e,className:"context-slice context-node-info"+(this.state[e+"tappable"]?" click":""),children:n};return c=r.merge(r.config.menu.container,c),r.factories.menu.createMenuGroup.call(this,c)}var r=t.TheGraph;r.config.menu={radius:72,positions:{n4IconX:0,n4IconY:-52,n4LabelX:0,n4LabelY:-35,s4IconX:0,s4IconY:52,s4LabelX:0,s4LabelY:35,e4IconX:45,e4IconY:-5,e4LabelX:45,e4LabelY:15,w4IconX:-45,w4IconY:-5,w4LabelX:-45,w4LabelY:15},container:{className:"context-menu"},arcPath:{className:"context-arc context-node-info-bg"},sliceIconText:{className:"icon context-icon context-node-info-icon"},sliceLabelText:{className:"context-arc-label"},sliceIconLabelText:{className:"context-arc-icon-label"},circleXPath:{className:"context-circle-x",d:"M -51 -51 L 51 51 M -51 51 L 51 -51"},outlineCircle:{className:"context-circle"},labelText:{className:"context-node-label"},iconRect:{className:"context-node-rect",x:-24,y:-24,width:48,height:48,rx:r.config.nodeRadius,ry:r.config.nodeRadius}},r.factories.menu={createMenuGroup:r.factories.createGroup,createMenuSlice:e,createMenuSliceArcPath:r.factories.createPath,createMenuSliceText:r.factories.createText,createMenuSliceIconText:r.factories.createText,createMenuSliceLabelText:r.factories.createText,createMenuSliceIconLabelText:r.factories.createText,createMenuCircleXPath:r.factories.createPath,createMenuOutlineCircle:r.factories.createCircle,createMenuLabelText:r.factories.createText,createMenuMiddleIconRect:r.factories.createRect,createMenuMiddleIconText:r.factories.createText},r.Menu=React.createFactory(React.createClass({displayName:"TheGraphMenu",radius:r.config.menu.radius,getInitialState:function(){return{n4tappable:this.props.menu.n4&&this.props.menu.n4.action,s4tappable:this.props.menu.s4&&this.props.menu.s4.action,e4tappable:this.props.menu.e4&&this.props.menu.e4.action,w4tappable:this.props.menu.w4&&this.props.menu.w4.action}},onTapN4:function(){var t=this.props.options;this.props.menu.n4.action(t.graph,t.itemKey,t.item),this.props.triggerHideContext()},onTapS4:function(){var t=this.props.options;this.props.menu.s4.action(t.graph,t.itemKey,t.item),this.props.triggerHideContext()},onTapE4:function(){var t=this.props.options;this.props.menu.e4.action(t.graph,t.itemKey,t.item),this.props.triggerHideContext()},onTapW4:function(){var t=this.props.options;this.props.menu.w4.action(t.graph,t.itemKey,t.item),this.props.triggerHideContext()},componentDidMount:function(){this.state.n4tappable&&this.refs.n4.addEventListener("up",this.onTapN4),this.state.s4tappable&&this.refs.s4.addEventListener("up",this.onTapS4),this.state.e4tappable&&this.refs.e4.addEventListener("up",this.onTapE4),this.state.w4tappable&&this.refs.w4.addEventListener("up",this.onTapW4),ReactDOM.findDOMNode(this).addEventListener("contextmenu",function(t){t&&(t.stopPropagation(),t.preventDefault())},!1)},getPosition:function(){return{x:void 0!==this.props.x?this.props.x:this.props.options.x||0,y:void 0!==this.props.y?this.props.y:this.props.options.y||0}},render:function(){var t=this.props.menu,e=(this.props.options,this.getPosition()),o=r.merge(r.config.menu.circleXPath,{}),n=r.merge(r.config.menu.outlineCircle,{r:this.radius}),i=[r.factories.menu.createMenuSlice.call(this,{direction:"n4"}),r.factories.menu.createMenuSlice.call(this,{direction:"s4"}),r.factories.menu.createMenuSlice.call(this,{direction:"e4"}),r.factories.menu.createMenuSlice.call(this,{direction:"w4"}),r.factories.menu.createMenuCircleXPath.call(this,o),r.factories.menu.createMenuOutlineCircle.call(this,n)];if(this.props.label||t.icon){var a={x:0,y:0-this.radius-15,children:this.props.label?this.props.label:t.label};a=r.merge(r.config.menu.labelText,a),i.push(r.factories.menu.createMenuLabelText.call(this,a))}if(this.props.icon||t.icon){var s=void 0!==this.props.iconColor?this.props.iconColor:t.iconColor,p="";s&&(p=" fill route"+s);var c=r.merge(r.config.menu.iconRect,{}),h=r.factories.menu.createMenuMiddleIconRect.call(this,c),u={className:"icon context-node-icon"+p,children:r.FONT_AWESOME[this.props.icon?this.props.icon:t.icon]};u=r.merge(r.config.menu.iconText,u);var l=r.factories.menu.createMenuMiddleIconText.call(this,u);i.push(h,l)}var d={transform:"translate("+e.x+","+e.y+")",children:i};return d=r.merge(r.config.menu.container,d),r.factories.menu.createMenuGroup.call(this,d)}})),r.config.modalBG={container:{},rect:{ref:"rect",className:"context-modal-bg"}},r.factories.modalBG={createModalBackgroundGroup:r.factories.createGroup,createModalBackgroundRect:r.factories.createRect},r.ModalBG=React.createFactory(React.createClass({displayName:"TheGraphModalBG",componentDidMount:function(){var t=ReactDOM.findDOMNode(this),e=this.refs.rect;t.addEventListener("down",function(t){t&&t.target===e&&this.hideModal()}.bind(this))},hideModal:function(t){this.props.triggerHideContext()},render:function(){var t={width:this.props.width,height:this.props.height};t=r.merge(r.config.modalBG.rect,t);var e=r.factories.modalBG.createModalBackgroundRect.call(this,t),o=[e,this.props.children],n=r.merge(r.config.modalBG.container,{});return r.factories.modalBG.createModalBackgroundGroup.call(this,n,o)}}))}},function(t,e,r){"use strict";t.exports.register=function(t){var e=t.TheGraph;e.config.nodeMenuPort={container:{},backgroundRect:{rx:e.config.nodeRadius,ry:e.config.nodeRadius,height:e.contextPortSize-1},circle:{r:10},text:{}},e.factories.nodeMenuPort={createNodeMenuPortGroup:e.factories.createGroup,createNodeMenuBackgroundRect:e.factories.createRect,createNodeMenuPortCircle:e.factories.createCircle,createNodeMenuPortText:e.factories.createText},e.NodeMenuPort=React.createFactory(React.createClass({displayName:"TheGraphNodeMenuPort",componentDidMount:function(){ReactDOM.findDOMNode(this).addEventListener("up",this.edgeStart)},edgeStart:function(t){t.stopPropagation();var e={process:this.props.processKey,port:this.props.label,type:this.props.port.type},r=new CustomEvent("the-graph-edge-start",{detail:{isIn:this.props.isIn,port:e,route:this.props.route},bubbles:!0});ReactDOM.findDOMNode(this).dispatchEvent(r)},render:function(){var t=this.props.label.length,r=t>12?8*t+40:120,o=this.props.highlightPort,n=o&&o.isIn===this.props.isIn&&o.type===this.props.port.type,i={className:"context-port-bg"+(n?" highlight":""),x:this.props.x+(this.props.isIn?-r:0),y:this.props.y-e.contextPortSize/2,width:r};i=e.merge(e.config.nodeMenuPort.backgroundRect,i);var a=e.factories.nodeMenuPort.createNodeMenuBackgroundRect.call(this,i),s={className:"context-port-hole stroke route"+this.props.route,cx:this.props.x,cy:this.props.y};s=e.merge(e.config.nodeMenuPort.circle,s);var p=e.factories.nodeMenuPort.createNodeMenuPortCircle.call(this,s),c={className:"context-port-label fill route"+this.props.route,x:this.props.x+(this.props.isIn?-20:20),y:this.props.y,children:this.props.label.replace(/(.*)\/(.*)(_.*)\.(.*)/,"$2.$4")};c=e.merge(e.config.nodeMenuPort.text,c);var h=e.factories.nodeMenuPort.createNodeMenuPortText.call(this,c),u=[a,p,h],l=e.merge(e.config.nodeMenuPort.container,{className:"context-port click context-port-"+(this.props.isIn?"in":"out")});return e.factories.nodeMenuPort.createNodeMenuPortGroup.call(this,l,u)}}))}},function(t,e,r){"use strict";var o=r(3),n=function(t){return t&&t.__esModule?t:{default:t}}(o);t.exports.register=function(t){function e(t){return r.NodeMenuPort(t)}var r=t.TheGraph;r.config.nodeMenuPorts={container:{},linesGroup:{className:"context-ports-lines"},portsGroup:{className:"context-ports-ports"},portPath:{className:"context-port-path"},nodeMenuPort:{}},r.factories.menuPorts={createNodeMenuPortsGroup:r.factories.createGroup,createNodeMenuPortsLinesGroup:r.factories.createGroup,createNodeMenuPortsPortsGroup:r.factories.createGroup,createNodeMenuPortsPortPath:r.factories.createPath,createNodeMenuPortsNodeMenuPort:e},r.NodeMenuPorts=React.createFactory(React.createClass({displayName:"TheGraphNodeMenuPorts",render:function(){for(var t=[],e=[],o=this.props.scale,i=this.props.ports,a=this.props.deltaX,s=this.props.deltaY,p=(0,n.default)(this.props.ports),c=p.length*r.contextPortSize,h=p.length,u=0;u<h;u++){var l=p[u],d=i[l],f=this.props.isIn?-100:100,g=0-c/2+u*r.contextPortSize+r.contextPortSize/2,m=(d.x-this.props.nodeWidth/2)*o+a,v=(d.y-this.props.nodeHeight/2)*o+s,y=r.merge(r.config.nodeMenuPorts.portPath,{d:["M",m,v,"L",f,g].join(" ")}),x=r.factories.menuPorts.createNodeMenuPortsPortPath.call(this,y),b={label:l,port:d,processKey:this.props.processKey,isIn:this.props.isIn,x:f,y:g,route:d.route,highlightPort:this.props.highlightPort};b=r.merge(r.config.nodeMenuPorts.nodeMenuPort,b);var w=r.factories.menuPorts.createNodeMenuPortsNodeMenuPort.call(this,b);e.push(x),t.push(w)}var E="";void 0!==this.props.translateX&&(E="translate("+this.props.translateX+","+this.props.translateY+")");var N=r.merge(r.config.nodeMenuPorts.linesGroup,{children:e}),P=r.factories.menuPorts.createNodeMenuPortsLinesGroup.call(this,N),T=r.merge(r.config.nodeMenuPorts.portsGroup,{children:t}),M=r.factories.menuPorts.createNodeMenuPortsGroup.call(this,T),O=[P,M],I={className:"context-ports context-ports-"+(this.props.isIn?"in":"out"),transform:E};return I=r.merge(r.config.nodeMenuPorts.container,I),r.factories.menuPorts.createNodeMenuPortsGroup.call(this,I,O)}}))}},function(t,e,r){"use strict";t.exports.register=function(t){function e(t){return o.NodeMenuPorts(t)}function r(t){return o.Menu(t)}var o=t.TheGraph;o.config.nodeMenu={container:{className:"context-node"},inports:{},outports:{},menu:{x:0,y:0}},o.factories.nodeMenu={createNodeMenuGroup:o.factories.createGroup,createNodeMenuInports:e,createNodeMenuOutports:e,createNodeMenuMenu:r},o.NodeMenu=React.createFactory(React.createClass({displayName:"TheGraphNodeMenu",radius:72,stopPropagation:function(t){t.stopPropagation()},componentDidMount:function(){ReactDOM.findDOMNode(this).addEventListener("contextmenu",function(t){t.stopPropagation(),t.preventDefault()},!1)},render:function(){var t=this.props.node.props.app.state.scale,e=this.props.ports,r=this.props.deltaX,n=this.props.deltaY,i={ports:e.inports,isIn:!0,scale:t,processKey:this.props.processKey,deltaX:r,deltaY:n,nodeWidth:this.props.nodeWidth,nodeHeight:this.props.nodeHeight,highlightPort:this.props.highlightPort};i=o.merge(o.config.nodeMenu.inports,i);var a=o.factories.nodeMenu.createNodeMenuInports.call(this,i),s={ports:e.outports,isIn:!1,scale:t,processKey:this.props.processKey,deltaX:r,deltaY:n,nodeWidth:this.props.nodeWidth,nodeHeight:this.props.nodeHeight,highlightPort:this.props.highlightPort};s=o.merge(o.config.nodeMenu.outports,s);var p=o.factories.nodeMenu.createNodeMenuOutports.call(this,s),c={menu:this.props.menu,options:this.props.options,triggerHideContext:this.props.triggerHideContext,icon:this.props.icon,label:this.props.label};c=o.merge(o.config.nodeMenu.menu,c);var h=o.factories.nodeMenu.createNodeMenuMenu.call(this,c),u=[a,p,h],l={transform:"translate("+this.props.x+","+this.props.y+")",children:u};return l=o.merge(o.config.nodeMenu.container,l),o.factories.nodeMenu.createNodeMenuGroup.call(this,l)}}))}},function(t,e,r){"use strict";t.exports.register=function(t){function e(t){return o.Port(t)}var o=t.TheGraph;o.config.node={snap:o.config.nodeSize,container:{},background:{className:"node-bg"},border:{className:"node-border drag",rx:o.config.nodeRadius,ry:o.config.nodeRadius},innerRect:{className:"node-rect drag",x:3,y:3,rx:o.config.nodeRadius-2,ry:o.config.nodeRadius-2},icon:{ref:"icon",className:"icon node-icon drag"},iconsvg:{className:"icon node-icon drag"},inports:{className:"inports"},outports:{className:"outports"},labelBackground:{className:"node-label-bg"},labelRect:{className:"text-bg-rect"},labelText:{className:"node-label"},sublabelBackground:{className:"node-sublabel-bg"},sublabelRect:{className:"text-bg-rect"},sublabelText:{className:"node-sublabel"}},o.factories.node={createNodeGroup:o.factories.createGroup,createNodeBackgroundRect:o.factories.createRect,createNodeBorderRect:o.factories.createRect,createNodeInnerRect:o.factories.createRect,createNodeIconText:o.factories.createText,createNodeIconSVG:o.factories.createImg,createNodeInportsGroup:o.factories.createGroup,createNodeOutportsGroup:o.factories.createGroup,createNodeLabelGroup:o.factories.createGroup,createNodeLabelRect:o.factories.createRect,createNodeLabelText:o.factories.createText,createNodeSublabelGroup:o.factories.createGroup,createNodeSublabelRect:o.factories.createRect,createNodeSublabelText:o.factories.createText,createNodePort:e};var n=r(65);o.Node=React.createFactory(n)}},function(t,e,r){"use strict";t.exports.register=function(t){var e=t.TheGraph;e.config.port={container:{className:"port arrow"},backgroundCircle:{className:"port-circle-bg"},arc:{className:"port-arc"},innerCircle:{ref:"circleSmall"},text:{ref:"label",className:"port-label drag"}},e.factories.port={createPortGroup:e.factories.createGroup,createPortBackgroundCircle:e.factories.createCircle,createPortArc:e.factories.createPath,createPortInnerCircle:e.factories.createCircle,createPortLabelText:e.factories.createText},e.Port=React.createFactory(React.createClass({displayName:"TheGraphPort",mixins:[e.mixins.Tooltip],componentDidMount:function(){var t=ReactDOM.findDOMNode(this);t.addEventListener("tap",this.edgeStart),t.addEventListener("track",this.trackHandler),t.addEventListener("the-graph-edge-drop",this.edgeStart),this.props.showContext&&(t.addEventListener("contextmenu",this.showContext),t.addEventListener("hold",this.showContext))},trackHandler:function(t){t.stopPropagation();var e=t.detail;switch(e.state){case"start":this.edgeStart(t);break;case"track":break;case"end":var r=e.hover();t.relatedTarget=r,this.triggerDropOnTarget(t)}},getTooltipTrigger:function(){return ReactDOM.findDOMNode(this)},shouldShowTooltip:function(){return this.props.app.state.scale<e.zbpBig||this.props.label.length>8},showContext:function(t){if(!(this.props.isExport||t&&t.target===ReactDOM.findDOMNode(this.refs.label))){t.preventDefault(),t.stopPropagation(),t.preventTap&&t.preventTap();var e=t.x||t.clientX||0,r=t.y||t.clientY||0;this.props.showContext({element:this,type:this.props.isIn?"nodeInport":"nodeOutport",x:e,y:r,graph:this.props.graph,itemKey:this.props.label,item:this.props.port})}},getContext:function(t,r,o){return e.Menu({menu:t,options:r,label:this.props.label,triggerHideContext:o})},edgeStart:function(t){if(!(this.props.isExport||t&&t.target===ReactDOM.findDOMNode(this.refs.label))){t.stopPropagation();var e=new CustomEvent("the-graph-edge-start",{detail:{isIn:this.props.isIn,port:this.props.port,route:this.props.route},bubbles:!0});ReactDOM.findDOMNode(this).dispatchEvent(e)}},triggerDropOnTarget:function(t){var e=(t.detail.sourceEvent,t.relatedTarget);if(e){var r=new CustomEvent("the-graph-edge-drop",{detail:null,bubbles:!0});e.dispatchEvent(r)}},render:function(){var t;if(this.props.label.length>7){t={fontSize:30/(4*this.props.label.length)*6+"px"}}var r=4,o=this.props.highlightPort,n=e.arcs.inport,i=e.arcs.outport;!o||o.isIn!==this.props.isIn||o.type!==this.props.port.type&&"any"!==this.props.port.type||(r=6,n=e.arcs.inportBig,i=e.arcs.outportBig);var a=e.merge(e.config.port.backgroundCircle,{r:r+1}),s=e.factories.port.createPortBackgroundCircle.call(this,a),p=e.merge(e.config.port.arc,{d:this.props.isIn?n:i}),c=e.factories.port.createPortArc.call(this,p),h={className:"port-circle-small fill route"+this.props.route,r:r};h=e.merge(e.config.port.innerCircle,h);var u=e.factories.port.createPortInnerCircle.call(this,h),l={x:this.props.isIn?5:-5,style:t,children:this.props.label};l=e.merge(e.config.port.text,l);var d=e.factories.port.createPortLabelText.call(this,l),f=[s,c,u,d],g=e.merge(e.config.port.container,{title:this.props.label,transform:"translate("+this.props.x+","+this.props.y+")"});return e.factories.port.createPortGroup.call(this,g,f)}}))}},function(t,e,r){"use strict";t.exports.register=function(t){var e=t.TheGraph;e.config.tooltip={container:{},rect:{className:"tooltip-bg",x:0,y:-7,rx:3,ry:3,height:16},text:{className:"tooltip-label",ref:"label"}},e.factories.tooltip={createTooltipGroup:e.factories.createGroup,createTooltipRect:e.factories.createRect,createTooltipText:e.factories.createText},e.Tooltip=React.createFactory(React.createClass({displayName:"TheGraphTooltip",render:function(){var t=e.merge(e.config.tooltip.rect,{width:6*this.props.label.length}),r=e.factories.tooltip.createTooltipRect.call(this,t),o=e.merge(e.config.tooltip.text,{children:this.props.label}),n=e.factories.tooltip.createTooltipText.call(this,o),i=[r,n],a={className:"tooltip"+(this.props.visible?"":" hidden"),transform:"translate("+this.props.x+","+this.props.y+")"};return a=e.merge(e.config.tooltip.container,a),e.factories.tooltip.createTooltipGroup.call(this,a,i)}}))}},function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var n=r(30),i=o(n),a=r(3),s=o(a);t.exports.register=function(t){var e=t.TheGraph={nodeSize:72,nodeRadius:8,nodeSide:56,contextPortSize:36,zbpBig:1.2,zbpNormal:.4,zbpSmall:.01,config:{nodeSize:72,nodeWidth:72,nodeRadius:8,nodeHeight:72,autoSizeNode:!0,maxPortCount:9,nodeHeightIncrement:12,focusAnimationDuration:1500},factories:{}};"undefined"!=typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame),e.mixins={};var o=r(29);e.mixins.Tooltip=o,e.findMinMax=function(t,e){var r,o;if(void 0===e&&(e=t.nodes.map(function(t){return t.id}),r=t.inports,o=t.outports),!(e.length<1)){for(var n=1/0,i=1/0,a=-1/0,p=-1/0,c=e.length,h=0;h<c;h++){var u=e[h],l=t.getNode(u);if(l&&l.metadata){l.metadata.x<n&&(n=l.metadata.x),l.metadata.y<i&&(i=l.metadata.y);var d=l.metadata.x+l.metadata.width,f=l.metadata.y+l.metadata.height;d>a&&(a=d),f>p&&(p=f)}}var g,m;if(r)for(g=(0,s.default)(r),c=g.length,h=0;h<c;h++)m=r[g[h]],m.metadata&&(m.metadata.x<n&&(n=m.metadata.x),m.metadata.y<i&&(i=m.metadata.y),m.metadata.x>a&&(a=m.metadata.x),m.metadata.y>p&&(p=m.metadata.y));if(o)for(g=(0,s.default)(o),c=g.length,h=0;h<c;h++)m=o[g[h]],m.metadata&&(m.metadata.x<n&&(n=m.metadata.x),m.metadata.y<i&&(i=m.metadata.y),m.metadata.x>a&&(a=m.metadata.x),m.metadata.y>p&&(p=m.metadata.y));return isFinite(n)&&isFinite(i)&&isFinite(a)&&isFinite(p)?{minX:n,minY:i,maxX:a,maxY:p}:null}},e.findFit=function(t,r,o){var n=e.findMinMax(t);if(!n)return{x:0,y:0,scale:1};n.minX-=e.config.nodeSize,n.minY-=e.config.nodeSize,n.maxX+=2*e.config.nodeSize,n.maxY+=2*e.config.nodeSize;var i,a,s,p=n.maxX-n.minX,c=n.maxY-n.minY,h=r/p,u=o/c;return h<u?(i=h,a=0-n.minX*i,s=0-n.minY*i+(o-c*i)/2):(i=u,a=0-n.minX*i+(r-p*i)/2,s=0-n.minY*i),{x:a,y:s,scale:i}},e.findAreaFit=function(t,r,o,n){var i={minX:t.x<r.x?t.x:r.x,minY:t.y<r.y?t.y:r.y,maxX:t.x>r.x?t.x:r.x,maxY:t.y>r.y?t.y:r.y};i.minX-=e.config.nodeSize,i.minY-=e.config.nodeSize,i.maxX+=2*e.config.nodeSize,i.maxY+=2*e.config.nodeSize;var a,s,p,c=i.maxX-i.minX,h=i.maxY-i.minY,u=o/c,l=n/h;return u<l?(a=u,s=0-i.minX*a,p=0-i.minY*a+(n-h*a)/2):(a=l,s=0-i.minX*a+(o-c*a)/2,p=0-i.minY*a),{x:s,y:p,scale:a}},e.findNodeFit=function(t,r,o){var n,i,a,s={minX:t.metadata.x-e.config.nodeSize,minY:t.metadata.y-e.config.nodeSize,maxX:t.metadata.x+2*e.config.nodeSize,maxY:t.metadata.y+2*e.config.nodeSize},p=s.maxX-s.minX,c=s.maxY-s.minY,h=r/p,u=o/c;return h<u?(n=h,i=0-s.minX*n,a=0-s.minY*n+(o-c*n)/2):(n=u,i=0-s.minX*n+(r-p*n)/2,a=0-s.minY*n),{x:i,y:a,scale:n}};var n=function(t,e){return e*Math.cos(2*Math.PI*t)},a=function(t,e){return e*Math.sin(2*Math.PI*t)},p=function(t,e,r){return["M",n(t,r),a(t,r),"A",r,r,0,0,0,n(e,r),a(e,r)].join(" ")};e.arcs={n4:p(7/8,5/8,36),s4:p(3/8,1/8,36),e4:p(1/8,-1/8,36),w4:p(5/8,3/8,36),inport:p(-.25,.25,4),outport:p(.25,-.25,4),inportBig:p(-.25,.25,6),outportBig:p(.25,-.25,6)},e.SVGImage=React.createFactory(React.createClass({displayName:"TheGraphSVGImage",render:function(){var t="<image ";return t=t+'xlink:href="'+this.props.src+'"',t=t+'x="'+this.props.x+'"',t=t+'y="'+this.props.y+'"',t=t+'width="'+this.props.width+'"',t=t+'height="'+this.props.height+'"',t+="/>",React.DOM.g({className:this.props.className,dangerouslySetInnerHTML:{__html:t}})}})),e.TextBG=React.createFactory(React.createClass({displayName:"TheGraphTextBG",render:function(){var t=this.props.text;t||(t="");var e=this.props.height,r=t.length*this.props.height*2/3,o=this.props.height/2,n=this.props.x,i=this.props.y-e/2;return"center"===this.props.halign&&(n-=r/2,"middle"),"right"===this.props.halign&&(n-=r,"end"),React.DOM.g({className:this.props.className?this.props.className:"text-bg"},React.DOM.rect({className:"text-bg-rect",x:n,y:i,rx:o,ry:o,height:1.1*e,width:r}),React.DOM.text({className:this.props.textClassName?this.props.textClassName:"text-bg-text",x:this.props.x,y:this.props.y,children:t}))}})),e.merge=function(t,e,r){if(Array.isArray(t)||Array.isArray(e)||"object"!==(void 0===t?"undefined":(0,i.default)(t))||"object"!==(void 0===e?"undefined":(0,i.default)(e)))return e;r=r||!1;for(var o in t)"function"==typeof t[o]||e[o]&&!r||(e[o]=t[o]);return e},e.factories.createGroup=function(t,e){var r=[t];return Array.isArray(e)&&(r=r.concat(e)),React.DOM.g.apply(React.DOM.g,r)},e.factories.createRect=function(t){return React.DOM.rect(t)},e.factories.createText=function(t){return React.DOM.text(t)},e.factories.createCircle=function(t){return React.DOM.circle(t)},e.factories.createPath=function(t){return React.DOM.path(t)},e.factories.createPolygon=function(t){return React.DOM.polygon(t)},e.factories.createImg=function(t){return e.SVGImage(t)},e.factories.createCanvas=function(t){return React.DOM.canvas(t)},e.factories.createSvg=function(t,e){var r=[t];return Array.isArray(e)&&(r=r.concat(e)),React.DOM.svg.apply(React.DOM.svg,r)},e.getOffset=function(t){var e=function t(e){var r,o={top:0,left:0};return e?(o.top+=e.offsetTop||0,o.left+=e.offsetLeft||0,r=t(e.offsetParent),o.top+=r.top,o.left+=r.left,o):o};try{return e(t)}catch(t){return e()}}}},function(t,e,r){e.graph=r(101),e.Graph=e.graph.Graph,e.journal=r(102),e.Journal=e.journal.Journal},function(t,e,r){"use strict";fbpGraph=r(63);var o={TheGraph:{}};console.log("REQUIRING EVERYTHING!!!!"),r(62).register(o),r(47).register(o),r(51).register(o),r(59).register(o),r(58).register(o),r(56).register(o),r(57).register(o),r(60).register(o),r(50).register(o),r(53).register(o),r(52).register(o),r(61).register(o),r(55).register(o),r(49).register(o),r(46).register(o),console.log("DONE main REQUIRING"),console.log("CONFIGURE TheGraph"),o.TheGraph.thumb=r(45),o.TheGraph.nav=r(44),o.TheGraph.autolayout=r(48),o.TheGraph.library=r(54),o.TheGraph.editor=r(43),console.log("DONE CONFIGURE"),console.log("TheGraph",o.TheGraph),t.exports=o.TheGraph},function(t,e,r){"use strict";function o(t,e,r,o,n){var i=o*t*2/3,a=t/2;return e-=i/2,r-=t/2,{className:n,height:1.1*t,width:i,rx:a,ry:a,x:e,y:r}}var n=r(3),i=function(t){return t&&t.__esModule?t:{default:t}}(n),a=r(29);t.exports=React.createClass({displayName:"TheGraphNode",mixins:[a],componentDidMount:function(){var t=ReactDOM.findDOMNode(this);t.addEventListener("track",this.trackHandler),this.props.onNodeSelection&&t.addEventListener("tap",this.onNodeSelection,!0),this.props.showContext&&(t.addEventListener("contextmenu",this.showContext),t.addEventListener("hold",this.showContext))},onNodeSelection:function(t){t.stopPropagation();var e=TheGraph.metaKeyPressed||"touch"===t.pointerType;this.props.onNodeSelection(this.props.nodeID,this.props.node,e)},_onTrackStart:function(t){t.stopPropagation(),this.props.app.menuShown||this.props.app.pinching||(this.props.export?this.props.graph.startTransaction("moveexport"):this.props.graph.startTransaction("movenode"))},trackHandler:function(t){switch(t.stopPropagation(),t.detail.state){case"start":this._onTrackStart(t);break;case"track":this._onTrack(t);break;case"end":this._onTrackEnd(t)}},_onTrack:function(t){var e=this.props.app.state.scale,r=t.detail,o=Math.round(r.ddx/e),n=Math.round(r.ddy/e),i=this.props.node.metadata,a=i.x,s=i.y,p={x:a+o,y:s+n};this.props.export?this.props.isIn?this.props.graph.setInportMetadata(this.props.exportKey,p):this.props.graph.setOutportMetadata(this.props.exportKey,p):this.props.graph.setNodeMetadata(this.props.nodeID,p)},_onTrackEnd:function(t){t.stopPropagation();var e=(ReactDOM.findDOMNode(this),TheGraph.config.node.snap/2);if(this.props.export){var r={x:Math.round(this.props.export.metadata.x/e)*e,y:Math.round(this.props.export.metadata.y/e)*e};this.props.isIn?this.props.graph.setInportMetadata(this.props.exportKey,r):this.props.graph.setOutportMetadata(this.props.exportKey,r)}else this.props.graph.setNodeMetadata(this.props.nodeID,{x:Math.round(this.props.node.metadata.x/e)*e,y:Math.round(this.props.node.metadata.y/e)*e});this.props.export?this.props.graph.endTransaction("moveexport"):this.props.graph.endTransaction("movenode")},showContext:function(t){t.preventDefault(),t.stopPropagation(),t.preventTap&&t.preventTap();var e=t.x||t.clientX||0,r=t.y||t.clientY||0;this.props.showContext({element:this,type:this.props.export?this.props.isIn?"graphInport":"graphOutport":"node",x:e,y:r,graph:this.props.graph,itemKey:this.props.export?this.props.exportKey:this.props.nodeID,item:this.props.export?this.props.export:this.props.node})},getContext:function(t,e,r){if(this.props.export)return TheGraph.Menu({menu:t,options:e,triggerHideContext:r,label:this.props.exportKey});var o=e.x,n=e.y,i=this.props.app.state.scale,a=this.props.app.state.x,s=this.props.app.state.y,p=(this.props.x+this.props.width/2)*i+a,c=(this.props.y+this.props.height/2)*i+s,h=p-o,u=c-n,l=this.props.ports,d=this.props.nodeID,f=this.props.highlightPort;return this.props.graphView.state.edgePreview?this.props.graphView.state.edgePreview.isIn?TheGraph.NodeMenuPorts({ports:l.outports,triggerHideContext:r,isIn:!1,scale:i,processKey:d,deltaX:h,deltaY:u,translateX:o,translateY:n,nodeWidth:this.props.width,nodeHeight:this.props.height,highlightPort:f}):TheGraph.NodeMenuPorts({ports:l.inports,triggerHideContext:r,isIn:!0,scale:i,processKey:d,deltaX:h,deltaY:u,translateX:o,translateY:n,nodeWidth:this.props.width,nodeHeight:this.props.height,highlightPort:f}):TheGraph.NodeMenu({menu:t,options:e,triggerHideContext:r,label:this.props.label,graph:this.props.graph,graphView:this.props.graphView,node:this,icon:this.props.icon,ports:l,process:this.props.node,processKey:d,x:o,y:n,nodeWidth:this.props.width,nodeHeight:this.props.height,deltaX:h,deltaY:u,highlightPort:f})},getTooltipTrigger:function(){return ReactDOM.findDOMNode(this)},shouldShowTooltip:function(){return this.props.app.state.scale<TheGraph.zbpNormal},shouldComponentUpdate:function(t,e){return t.x!==this.props.x||t.y!==this.props.y||t.icon!==this.props.icon||t.label!==this.props.label||t.sublabel!==this.props.sublabel||t.ports!==this.props.ports||t.selected!==this.props.selected||t.error!==this.props.error||t.highlightPort!==this.props.highlightPort||!0===t.ports.dirty},render:function(){this.props.ports.dirty&&(this.props.ports.dirty=!1);var t=this.props.label,e=this.props.sublabel;e&&e!==t||(e="");var r,n=this.props.x,a=this.props.y,s=this.props.width,p=this.props.height,c=this.props.nodeID,h=this.props.app,u=this.props.graph,l=this.props.node,d=void 0!==this.props.export,f=this.props.showContext,g=this.props.highlightPort,m=this.props.ports.inports;r=(0,i.default)(m),r.length;var v=r.map(function(t){var e=m[t],r={app:h,graph:u,node:l,key:c+".in."+e.label,label:e.label,processKey:c,isIn:!0,isExport:d,nodeX:n,nodeY:a,nodeWidth:s,nodeHeight:p,x:e.x,y:e.y,port:{process:c,port:e.label,type:e.type},highlightPort:g,route:e.route,showContext:f};return TheGraph.factories.node.createNodePort(r)}),y=this.props.ports.outports;r=(0,i.default)(y),r.length;var x=r.map(function(t){var e=y[t],r={app:h,graph:u,node:l,key:c+".out."+e.label,label:e.label,processKey:c,isIn:!1,isExport:d,nodeX:n,nodeY:a,nodeWidth:s,nodeHeight:p,x:e.x,y:e.y,port:{process:c,port:e.label,type:e.type},highlightPort:g,route:e.route,showContext:f};return TheGraph.factories.node.createNodePort(r)}),b=TheGraph.FONT_AWESOME[this.props.icon];b||(b=TheGraph.FONT_AWESOME.cog);var w;if(this.props.iconsvg&&""!==this.props.iconsvg){var E=TheGraph.merge(TheGraph.config.node.iconsvg,{src:this.props.iconsvg,x:TheGraph.config.nodeRadius-4,y:TheGraph.config.nodeRadius-4,width:this.props.width-10,height:this.props.height-10});w=TheGraph.factories.node.createNodeIconSVG.call(this,E)}else{var N=TheGraph.merge(TheGraph.config.node.icon,{x:this.props.width/2,y:this.props.height/2,children:b});w=TheGraph.factories.node.createNodeIconText.call(this,N)}var P=TheGraph.merge(TheGraph.config.node.background,{width:this.props.width,height:this.props.height+25}),T=TheGraph.factories.node.createNodeBackgroundRect.call(this,P),M=TheGraph.merge(TheGraph.config.node.border,{width:this.props.width,height:this.props.height}),O=TheGraph.factories.node.createNodeBorderRect.call(this,M),I=TheGraph.merge(TheGraph.config.node.innerRect,{width:this.props.width-6,height:this.props.height-6}),S=TheGraph.factories.node.createNodeInnerRect.call(this,I),k=TheGraph.merge(TheGraph.config.node.inports,{children:v}),R=TheGraph.factories.node.createNodeInportsGroup.call(this,k),G=TheGraph.merge(TheGraph.config.node.outports,{children:x}),A=TheGraph.factories.node.createNodeOutportsGroup.call(this,G),C=TheGraph.merge(TheGraph.config.node.labelText,{x:this.props.width/2,y:this.props.height+15,children:t}),_=TheGraph.factories.node.createNodeLabelText.call(this,C),D=this.props.width/2,L=this.props.height+15,j=o(14,D,L,t.length,TheGraph.config.node.labelRect.className);j=TheGraph.merge(TheGraph.config.node.labelRect,j);var U=TheGraph.factories.node.createNodeLabelRect.call(this,j),F=TheGraph.factories.node.createNodeLabelGroup.call(this,TheGraph.config.node.labelBackground,[U,_]),Y=TheGraph.merge(TheGraph.config.node.sublabelText,{x:this.props.width/2,y:this.props.height+30,children:e}),X=TheGraph.factories.node.createNodeSublabelText.call(this,Y),B=this.props.width/2,z=this.props.height+30,q=o(9,B,z,e.length,TheGraph.config.node.sublabelRect.className);q=TheGraph.merge(TheGraph.config.node.sublabelRect,q);var H=TheGraph.factories.node.createNodeSublabelRect.call(this,q),K=TheGraph.factories.node.createNodeSublabelGroup.call(this,TheGraph.config.node.sublabelBackground,[H,X]),W=[T,O,S,w,R,A,F,K],J={className:"node drag"+(this.props.selected?" selected":"")+(this.props.error?" error":""),name:this.props.nodeID,key:this.props.nodeID,title:t,transform:"translate("+n+","+a+")"};return J=TheGraph.merge(TheGraph.config.node.container,J),TheGraph.factories.node.createNodeGroup.call(this,J,W)}})},function(t,e,r){t.exports={default:r(69),__esModule:!0}},function(t,e,r){t.exports={default:r(71),__esModule:!0}},function(t,e,r){t.exports={default:r(72),__esModule:!0}},function(t,e,r){var o=r(4),n=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},function(t,e,r){r(94),t.exports=r(4).Object.keys},function(t,e,r){r(97),r(95),r(98),r(99),t.exports=r(4).Symbol},function(t,e,r){r(96),r(100),t.exports=r(27).f("iterator")},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(){}},function(t,e,r){var o=r(2),n=r(92),i=r(91);t.exports=function(t){return function(e,r,a){var s,p=o(e),c=n(p.length),h=i(a,c);if(t&&r!=r){for(;c>h;)if((s=p[h++])!=s)return!0}else for(;c>h;h++)if((t||h in p)&&p[h]===r)return t||h||0;return!t&&-1}}},function(t,e,r){var o=r(73);t.exports=function(t,e,r){if(o(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,o){return t.call(e,r,o)};case 3:return function(r,o,n){return t.call(e,r,o,n)}}return function(){return t.apply(e,arguments)}}},function(t,e,r){var o=r(10),n=r(37),i=r(20);t.exports=function(t){var e=o(t),r=n.f;if(r)for(var a,s=r(t),p=i.f,c=0;s.length>c;)p.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,r){t.exports=r(0).document&&document.documentElement},function(t,e,r){var o=r(31);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e,r){var o=r(31);t.exports=Array.isArray||function(t){return"Array"==o(t)}},function(t,e,r){"use strict";var o=r(35),n=r(13),i=r(21),a={};r(6)(a,r(8)("iterator"),function(){return this}),t.exports=function(t,e,r){t.prototype=o(a,{next:n(1,r)}),i(t,e+" Iterator")}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,r){var o=r(10),n=r(2);t.exports=function(t,e){for(var r,i=n(t),a=o(i),s=a.length,p=0;s>p;)if(i[r=a[p++]]===e)return r}},function(t,e,r){var o=r(14)("meta"),n=r(12),i=r(1),a=r(7).f,s=0,p=Object.isExtensible||function(){return!0},c=!r(9)(function(){return p(Object.preventExtensions({}))}),h=function(t){a(t,o,{value:{i:"O"+ ++s,w:{}}})},u=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,o)){if(!p(t))return"F";if(!e)return"E";h(t)}return t[o].i},l=function(t,e){if(!i(t,o)){if(!p(t))return!0;if(!e)return!1;h(t)}return t[o].w},d=function(t){return c&&f.NEED&&p(t)&&!i(t,o)&&h(t),t},f=t.exports={KEY:o,NEED:!1,fastKey:u,getWeak:l,onFreeze:d}},function(t,e,r){var o=r(7),n=r(11),i=r(10);t.exports=r(5)?Object.defineProperties:function(t,e){n(t);for(var r,a=i(e),s=a.length,p=0;s>p;)o.f(t,r=a[p++],e[r]);return t}},function(t,e,r){var o=r(20),n=r(13),i=r(2),a=r(25),s=r(1),p=r(33),c=Object.getOwnPropertyDescriptor;e.f=r(5)?c:function(t,e){if(t=i(t),e=a(e,!0),p)try{return c(t,e)}catch(t){}if(s(t,e))return n(!o.f.call(t,e),t[e])}},function(t,e,r){var o=r(2),n=r(36).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return n(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?s(t):n(o(t))}},function(t,e,r){var o=r(1),n=r(40),i=r(22)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=n(t),o(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,r){var o=r(17),n=r(4),i=r(9);t.exports=function(t,e){var r=(n.Object||{})[t]||Object[t],a={};a[t]=e(r),o(o.S+o.F*i(function(){r(1)}),"Object",a)}},function(t,e,r){var o=r(24),n=r(15);t.exports=function(t){return function(e,r){var i,a,s=String(n(e)),p=o(r),c=s.length;return p<0||p>=c?t?"":void 0:(i=s.charCodeAt(p),i<55296||i>56319||p+1===c||(a=s.charCodeAt(p+1))<56320||a>57343?t?s.charAt(p):i:t?s.slice(p,p+2):a-56320+(i-55296<<10)+65536)}}},function(t,e,r){var o=r(24),n=Math.max,i=Math.min;t.exports=function(t,e){return t=o(t),t<0?n(t+e,0):i(t,e)}},function(t,e,r){var o=r(24),n=Math.min;t.exports=function(t){return t>0?n(o(t),9007199254740991):0}},function(t,e,r){"use strict";var o=r(74),n=r(82),i=r(18),a=r(2);t.exports=r(34)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,n(1)):"keys"==e?n(0,r):"values"==e?n(0,t[r]):n(0,[r,t[r]])},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,r){var o=r(40),n=r(10);r(89)("keys",function(){return function(t){return n(o(t))}})},function(t,e){},function(t,e,r){"use strict";var o=r(90)(!0);r(34)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=o(e,r),this._i+=t.length,{value:t,done:!1})})},function(t,e,r){"use strict";var o=r(0),n=r(1),i=r(5),a=r(17),s=r(39),p=r(84).KEY,c=r(9),h=r(23),u=r(21),l=r(14),d=r(8),f=r(27),g=r(26),m=r(83),v=r(77),y=r(80),x=r(11),b=r(2),w=r(25),E=r(13),N=r(35),P=r(87),T=r(86),M=r(7),O=r(10),I=T.f,S=M.f,k=P.f,R=o.Symbol,G=o.JSON,A=G&&G.stringify,C=d("_hidden"),_=d("toPrimitive"),D={}.propertyIsEnumerable,L=h("symbol-registry"),j=h("symbols"),U=h("op-symbols"),F=Object.prototype,Y="function"==typeof R,X=o.QObject,B=!X||!X.prototype||!X.prototype.findChild,z=i&&c(function(){return 7!=N(S({},"a",{get:function(){return S(this,"a",{value:7}).a}})).a})?function(t,e,r){var o=I(F,e);o&&delete F[e],S(t,e,r),o&&t!==F&&S(F,e,o)}:S,q=function(t){var e=j[t]=N(R.prototype);return e._k=t,e},H=Y&&"symbol"==typeof R.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof R},K=function(t,e,r){return t===F&&K(U,e,r),x(t),e=w(e,!0),x(r),n(j,e)?(r.enumerable?(n(t,C)&&t[C][e]&&(t[C][e]=!1),r=N(r,{enumerable:E(0,!1)})):(n(t,C)||S(t,C,E(1,{})),t[C][e]=!0),z(t,e,r)):S(t,e,r)},W=function(t,e){x(t);for(var r,o=v(e=b(e)),n=0,i=o.length;i>n;)K(t,r=o[n++],e[r]);return t},J=function(t,e){return void 0===e?N(t):W(N(t),e)},V=function(t){var e=D.call(this,t=w(t,!0));return!(this===F&&n(j,t)&&!n(U,t))&&(!(e||!n(this,t)||!n(j,t)||n(this,C)&&this[C][t])||e)},Z=function(t,e){if(t=b(t),e=w(e,!0),t!==F||!n(j,e)||n(U,e)){var r=I(t,e);return!r||!n(j,e)||n(t,C)&&t[C][e]||(r.enumerable=!0),r}},$=function(t){for(var e,r=k(b(t)),o=[],i=0;r.length>i;)n(j,e=r[i++])||e==C||e==p||o.push(e);return o},Q=function(t){for(var e,r=t===F,o=k(r?U:b(t)),i=[],a=0;o.length>a;)!n(j,e=o[a++])||r&&!n(F,e)||i.push(j[e]);return i};Y||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=l(arguments.length>0?arguments[0]:void 0),e=function(r){this===F&&e.call(U,r),n(this,C)&&n(this[C],t)&&(this[C][t]=!1),z(this,t,E(1,r))};return i&&B&&z(F,t,{configurable:!0,set:e}),q(t)},s(R.prototype,"toString",function(){return this._k}),T.f=Z,M.f=K,r(36).f=P.f=$,r(20).f=V,r(37).f=Q,i&&!r(19)&&s(F,"propertyIsEnumerable",V,!0),f.f=function(t){return q(d(t))}),a(a.G+a.W+a.F*!Y,{Symbol:R});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)d(tt[et++]);for(var tt=O(d.store),et=0;tt.length>et;)g(tt[et++]);a(a.S+a.F*!Y,"Symbol",{for:function(t){return n(L,t+="")?L[t]:L[t]=R(t)},keyFor:function(t){if(H(t))return m(L,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){B=!0},useSimple:function(){B=!1}}),a(a.S+a.F*!Y,"Object",{create:J,defineProperty:K,defineProperties:W,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:Q}),G&&a(a.S+a.F*(!Y||c(function(){var t=R();return"[null]"!=A([t])||"{}"!=A({a:t})||"{}"!=A(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!H(t)){for(var e,r,o=[t],n=1;arguments.length>n;)o.push(arguments[n++]);return e=o[1],"function"==typeof e&&(r=e),!r&&y(e)||(e=function(t,e){if(r&&(e=r.call(this,t,e)),!H(e))return e}),o[1]=e,A.apply(G,o)}}}),R.prototype[_]||r(6)(R.prototype,_,R.prototype.valueOf),u(R,"Symbol"),u(Math,"Math",!0),u(o.JSON,"JSON",!0)},function(t,e,r){r(26)("asyncIterator")},function(t,e,r){r(26)("observable")},function(t,e,r){r(93);for(var o=r(0),n=r(6),i=r(18),a=r(8)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],p=0;p<5;p++){var c=s[p],h=o[c],u=h&&h.prototype;u&&!u[a]&&n(u,a,c),i[c]=i.Array}},function(t,e,r){(function(){var t,o,n,i,a,s,p=function(t,e){function r(){this.constructor=t}for(var o in e)c.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},c={}.hasOwnProperty;t=r(42).EventEmitter,n=r(41),a=r(103),o=function(t){function e(t,e){this.name=null!=t?t:"",null==e&&(e={}),this.properties={},this.nodes=[],this.edges=[],this.initializers=[],this.exports=[],this.inports={},this.outports={},this.groups=[],this.transaction={id:null,depth:0},this.caseSensitive=e.caseSensitive||!1}return p(e,t),e.prototype.name="",e.prototype.caseSensitive=!1,e.prototype.properties={},e.prototype.nodes=[],e.prototype.edges=[],e.prototype.initializers=[],e.prototype.exports=[],e.prototype.inports={},e.prototype.outports={},e.prototype.groups=[],e.prototype.getPortName=function(t){return this.caseSensitive?t:t.toLowerCase()},e.prototype.startTransaction=function(t,e){if(this.transaction.id)throw Error("Nested transactions not supported");return this.transaction.id=t,this.transaction.depth=1,this.emit("startTransaction",t,e)},e.prototype.endTransaction=function(t,e){if(!this.transaction.id)throw Error("Attempted to end non-existing transaction");return this.transaction.id=null,this.transaction.depth=0,this.emit("endTransaction",t,e)},e.prototype.checkTransactionStart=function(){return this.transaction.id?"implicit"===this.transaction.id?this.transaction.depth+=1:void 0:this.startTransaction("implicit")},e.prototype.checkTransactionEnd=function(){if("implicit"===this.transaction.id&&(this.transaction.depth-=1),0===this.transaction.depth)return this.endTransaction("implicit")},e.prototype.setProperties=function(t){var e,r,o;this.checkTransactionStart(),e=n(this.properties);for(r in t)o=t[r],this.properties[r]=o;return this.emit("changeProperties",this.properties,e),this.checkTransactionEnd()},e.prototype.addExport=function(t,e,r,o){var n;if(null==o&&(o={x:0,y:0}),a.deprecated("fbp-graph.Graph exports is deprecated: please use specific inport or outport instead"),this.getNode(e))return this.checkTransactionStart(),n={public:this.getPortName(t),process:e,port:this.getPortName(r),metadata:o},this.exports.push(n),this.emit("addExport",n),this.checkTransactionEnd()},e.prototype.removeExport=function(t){var e,r,o,n,i,s;for(a.deprecated("fbp-graph.Graph exports is deprecated: please use specific inport or outport instead"),t=this.getPortName(t),r=null,s=this.exports,n=o=0,i=s.length;o<i;n=++o)e=s[n],e.public===t&&(r=e);if(r)return this.checkTransactionStart(),this.exports.splice(this.exports.indexOf(r),1),this.emit("removeExport",r),this.checkTransactionEnd()},e.prototype.addInport=function(t,e,r,o){if(this.getNode(e))return t=this.getPortName(t),this.checkTransactionStart(),this.inports[t]={process:e,port:this.getPortName(r),metadata:o},this.emit("addInport",t,this.inports[t]),this.checkTransactionEnd()},e.prototype.removeInport=function(t){var e;if(t=this.getPortName(t),this.inports[t])return this.checkTransactionStart(),e=this.inports[t],this.setInportMetadata(t,{}),delete this.inports[t],this.emit("removeInport",t,e),this.checkTransactionEnd()},e.prototype.renameInport=function(t,e){if(t=this.getPortName(t),e=this.getPortName(e),this.inports[t])return this.checkTransactionStart(),this.inports[e]=this.inports[t],delete this.inports[t],this.emit("renameInport",t,e),this.checkTransactionEnd()},e.prototype.setInportMetadata=function(t,e){var r,o,i;if(t=this.getPortName(t),this.inports[t]){this.checkTransactionStart(),r=n(this.inports[t].metadata),this.inports[t].metadata||(this.inports[t].metadata={});for(o in e)i=e[o],null!=i?this.inports[t].metadata[o]=i:delete this.inports[t].metadata[o];return this.emit("changeInport",t,this.inports[t],r),this.checkTransactionEnd()}},e.prototype.addOutport=function(t,e,r,o){if(this.getNode(e))return t=this.getPortName(t),this.checkTransactionStart(),this.outports[t]={process:e,port:this.getPortName(r),metadata:o},this.emit("addOutport",t,this.outports[t]),this.checkTransactionEnd()},e.prototype.removeOutport=function(t){var e;if(t=this.getPortName(t),this.outports[t])return this.checkTransactionStart(),e=this.outports[t],this.setOutportMetadata(t,{}),delete this.outports[t],this.emit("removeOutport",t,e),this.checkTransactionEnd()},e.prototype.renameOutport=function(t,e){if(t=this.getPortName(t),e=this.getPortName(e),this.outports[t])return this.checkTransactionStart(),this.outports[e]=this.outports[t],delete this.outports[t],this.emit("renameOutport",t,e),this.checkTransactionEnd()},e.prototype.setOutportMetadata=function(t,e){var r,o,i;if(t=this.getPortName(t),this.outports[t]){this.checkTransactionStart(),r=n(this.outports[t].metadata),this.outports[t].metadata||(this.outports[t].metadata={});for(o in e)i=e[o],null!=i?this.outports[t].metadata[o]=i:delete this.outports[t].metadata[o];return this.emit("changeOutport",t,this.outports[t],r),this.checkTransactionEnd()}},e.prototype.addGroup=function(t,e,r){var o;return this.checkTransactionStart(),o={name:t,nodes:e,metadata:r},this.groups.push(o),this.emit("addGroup",o),this.checkTransactionEnd()},e.prototype.renameGroup=function(t,e){var r,o,n,i;for(this.checkTransactionStart(),i=this.groups,o=0,n=i.length;o<n;o++)(r=i[o])&&r.name===t&&(r.name=e,this.emit("renameGroup",t,e));return this.checkTransactionEnd()},e.prototype.removeGroup=function(t){var e,r,o,n;for(this.checkTransactionStart(),n=this.groups,r=0,o=n.length;r<o;r++)(e=n[r])&&e.name===t&&(this.setGroupMetadata(e.name,{}),this.groups.splice(this.groups.indexOf(e),1),this.emit("removeGroup",e));return this.checkTransactionEnd()},e.prototype.setGroupMetadata=function(t,e){var r,o,i,a,s,p,c;for(this.checkTransactionStart(),p=this.groups,i=0,s=p.length;i<s;i++)if((o=p[i])&&o.name===t){r=n(o.metadata);for(a in e)c=e[a],null!=c?o.metadata[a]=c:delete o.metadata[a];this.emit("changeGroup",o,r)}return this.checkTransactionEnd()},e.prototype.addNode=function(t,e,r){var o;return this.checkTransactionStart(),r||(r={}),o={id:t,component:e,metadata:r},this.nodes.push(o),this.emit("addNode",o),this.checkTransactionEnd(),o},e.prototype.removeNode=function(t){var e,r,o,n,i,a,s,p,c,h,u,l,d,f,g,m,v,y,x,b,w,E,N,P,T,M,O,I,S,k,R,G,A;if(w=this.getNode(t)){for(this.checkTransactionStart(),A=[],O=this.edges,n=0,h=O.length;n<h;n++)e=O[n],e.from.node!==w.id&&e.to.node!==w.id||A.push(e);for(s=0,u=A.length;s<u;s++)e=A[s],this.removeEdge(e.from.node,e.from.port,e.to.node,e.to.port);for(A=[],I=this.initializers,p=0,l=I.length;p<l;p++)a=I[p],a.to.node===w.id&&A.push(a);for(c=0,d=A.length;c<d;c++)a=A[c],this.removeInitial(a.to.node,a.to.port);for(A=[],S=this.exports,x=0,f=S.length;x<f;x++)r=S[x],this.getPortName(t)===r.process&&A.push(r);for(b=0,g=A.length;b<g;b++)r=A[b],this.removeExport(r.public);A=[],k=this.inports;for(T in k)P=k[T],P.process===t&&A.push(T);for(E=0,m=A.length;E<m;E++)T=A[E],this.removeInport(T);A=[],R=this.outports;for(T in R)P=R[T],P.process===t&&A.push(T);for(N=0,v=A.length;N<v;N++)T=A[N],this.removeOutport(T);for(G=this.groups,M=0,y=G.length;M<y;M++)(o=G[M])&&-1!==(i=o.nodes.indexOf(t))&&o.nodes.splice(i,1);return this.setNodeMetadata(t,{}),-1!==this.nodes.indexOf(w)&&this.nodes.splice(this.nodes.indexOf(w),1),this.emit("removeNode",w),this.checkTransactionEnd()}},e.prototype.getNode=function(t){var e,r,o,n;for(n=this.nodes,e=0,r=n.length;e<r;e++)if((o=n[e])&&o.id===t)return o;return null},e.prototype.renameNode=function(t,e){var r,o,n,i,a,s,p,c,h,u,l,d,f,g,m,v,y,x,b,w,E,N;if(this.checkTransactionStart(),g=this.getNode(t)){for(g.id=e,y=this.edges,i=0,u=y.length;i<u;i++)(r=y[i])&&(r.from.node===t&&(r.from.node=e),r.to.node===t&&(r.to.node=e));for(x=this.initializers,p=0,l=x.length;p<l;p++)(a=x[p])&&a.to.node===t&&(a.to.node=e);b=this.inports;for(v in b)m=b[v],m.process===t&&(m.process=e);w=this.outports;for(v in w)m=w[v],m.process===t&&(m.process=e);for(E=this.exports,c=0,d=E.length;c<d;c++)o=E[c],o.process===t&&(o.process=e);for(N=this.groups,h=0,f=N.length;h<f;h++)(n=N[h])&&-1!==(s=n.nodes.indexOf(t))&&(n.nodes[s]=e);return this.emit("renameNode",t,e),this.checkTransactionEnd()}},e.prototype.setNodeMetadata=function(t,e){var r,o,i,a;if(i=this.getNode(t)){this.checkTransactionStart(),r=n(i.metadata),i.metadata||(i.metadata={});for(o in e)a=e[o],null!=a?i.metadata[o]=a:delete i.metadata[o];return this.emit("changeNode",i,r),this.checkTransactionEnd()}},e.prototype.addEdge=function(t,e,r,o,n){var i,a,s,p;for(null==n&&(n={}),e=this.getPortName(e),o=this.getPortName(o),p=this.edges,a=0,s=p.length;a<s;a++)if(i=p[a],i.from.node===t&&i.from.port===e&&i.to.node===r&&i.to.port===o)return;if(this.getNode(t)&&this.getNode(r))return this.checkTransactionStart(),i={from:{node:t,port:e},to:{node:r,port:o},metadata:n},this.edges.push(i),this.emit("addEdge",i),this.checkTransactionEnd(),i},e.prototype.addEdgeIndex=function(t,e,r,o,n,i,a){var s;if(null==a&&(a={}),this.getNode(t)&&this.getNode(o))return e=this.getPortName(e),n=this.getPortName(n),null===i&&(i=void 0),null===r&&(r=void 0),a||(a={}),this.checkTransactionStart(),s={from:{node:t,port:e,index:r},to:{node:o,port:n,index:i},metadata:a},this.edges.push(s),this.emit("addEdge",s),this.checkTransactionEnd(),s},e.prototype.removeEdge=function(t,e,r,o){var n,i,a,s,p,c,h,u,l,d,f,g;if(this.checkTransactionStart(),e=this.getPortName(e),o=this.getPortName(o),g=[],f=[],r&&o)for(l=this.edges,a=i=0,c=l.length;i<c;a=++i)n=l[a],n.from.node===t&&n.from.port===e&&n.to.node===r&&n.to.port===o?(this.setEdgeMetadata(n.from.node,n.from.port,n.to.node,n.to.port,{}),g.push(n)):f.push(n);else for(d=this.edges,a=s=0,h=d.length;s<h;a=++s)n=d[a],n.from.node===t&&n.from.port===e||n.to.node===t&&n.to.port===e?(this.setEdgeMetadata(n.from.node,n.from.port,n.to.node,n.to.port,{}),g.push(n)):f.push(n);for(this.edges=f,p=0,u=g.length;p<u;p++)n=g[p],this.emit("removeEdge",n);return this.checkTransactionEnd()},e.prototype.getEdge=function(t,e,r,o){var n,i,a,s,p;for(e=this.getPortName(e),o=this.getPortName(o),p=this.edges,a=i=0,s=p.length;i<s;a=++i)if((n=p[a])&&n.from.node===t&&n.from.port===e&&n.to.node===r&&n.to.port===o)return n;return null},e.prototype.setEdgeMetadata=function(t,e,r,o,i){var a,s,p,c;if(s=this.getEdge(t,e,r,o)){this.checkTransactionStart(),a=n(s.metadata),s.metadata||(s.metadata={});for(p in i)c=i[p],null!=c?s.metadata[p]=c:delete s.metadata[p];return this.emit("changeEdge",s,a),this.checkTransactionEnd()}},e.prototype.addInitial=function(t,e,r,o){var n;if(this.getNode(e))return r=this.getPortName(r),this.checkTransactionStart(),n={from:{data:t},to:{node:e,port:r},metadata:o},this.initializers.push(n),this.emit("addInitial",n),this.checkTransactionEnd(),n},e.prototype.addInitialIndex=function(t,e,r,o,n){var i;if(this.getNode(e))return null===o&&(o=void 0),r=this.getPortName(r),this.checkTransactionStart(),i={from:{data:t},to:{node:e,port:r,index:o},metadata:n},this.initializers.push(i),this.emit("addInitial",i),this.checkTransactionEnd(),i},e.prototype.addGraphInitial=function(t,e,r){var o;if(o=this.inports[e])return this.addInitial(t,o.process,o.port,r)},e.prototype.addGraphInitialIndex=function(t,e,r,o){var n;if(n=this.inports[e])return this.addInitialIndex(t,n.process,n.port,r,o)},e.prototype.removeInitial=function(t,e){var r,o,n,i,a,s,p,c,h;for(e=this.getPortName(e),this.checkTransactionStart(),h=[],c=[],p=this.initializers,n=o=0,a=p.length;o<a;n=++o)r=p[n],r.to.node===t&&r.to.port===e?h.push(r):c.push(r);for(this.initializers=c,i=0,s=h.length;i<s;i++)r=h[i],this.emit("removeInitial",r);return this.checkTransactionEnd()},e.prototype.removeGraphInitial=function(t){var e;if(e=this.inports[t])return this.removeInitial(e.process,e.port)},e.prototype.toDOT=function(){var t,e,r,o,n,i,a,s,p,c,h,u,l,d,f,g,m;for(t=function(t){return t.replace(/\s*/g,"")},e=function(t){return t.replace(/\./g,"")},o="digraph {\n",f=this.nodes,i=0,h=f.length;i<h;i++)d=f[i],o+="    "+t(d.id)+" [label="+d.id+" shape=box]\n";for(g=this.initializers,a=p=0,u=g.length;p<u;a=++p)s=g[a],r="function"==typeof s.from.data?"Function":s.from.data,o+="    data"+a+" [label=\"'"+r+"'\" shape=plaintext]\n",o+="    data"+a+" -> "+t(s.to.node)+"[headlabel="+e(s.to.port)+" labelfontcolor=blue labelfontsize=8.0]\n";for(m=this.edges,c=0,l=m.length;c<l;c++)n=m[c],o+="    "+t(n.from.node)+" -> "+t(n.to.node)+"[taillabel="+e(n.from.port)+" headlabel="+e(n.to.port)+" labelfontcolor=blue labelfontsize=8.0]\n";return o+="}"},e.prototype.toYUML=function(){var t,e,r,o,n,i,a,s,p;for(p=[],a=this.initializers,e=0,n=a.length;e<n;e++)r=a[e],p.push("(start)["+r.to.port+"]->("+r.to.node+")");for(s=this.edges,o=0,i=s.length;o<i;o++)t=s[o],p.push("("+t.from.node+")["+t.from.port+"]->("+t.to.node+")");return p.join(",")},e.prototype.toJSON=function(){var t,e,r,o,n,i,a,s,p,c,h,u,l,d,f,g,m,v,y,x,b,w,E,N,P,T,M,O,I,S;p={caseSensitive:this.caseSensitive,properties:{},inports:{},outports:{},groups:[],processes:{},connections:[]},this.name&&(p.properties.name=this.name),w=this.properties;for(x in w)S=w[x],p.properties[x]=S;E=this.inports;for(b in E)y=E[b],p.inports[b]=y;N=this.outports;for(b in N)y=N[b],p.outports[b]=y;for(P=this.exports,i=0,u=P.length;i<u;i++)r=P[i],p.exports||(p.exports=[]),p.exports.push(r);for(T=this.groups,s=0,l=T.length;s<l;s++)o=T[s],n={name:o.name,nodes:o.nodes},Object.keys(o.metadata).length&&(n.metadata=o.metadata),p.groups.push(n);for(M=this.nodes,c=0,d=M.length;c<d;c++)v=M[c],p.processes[v.id]={component:v.component},v.metadata&&(p.processes[v.id].metadata=v.metadata);for(O=this.edges,h=0,f=O.length;h<f;h++)e=O[h],t={src:{process:e.from.node,port:e.from.port,index:e.from.index},tgt:{process:e.to.node,port:e.to.port,index:e.to.index}},Object.keys(e.metadata).length&&(t.metadata=e.metadata),p.connections.push(t);for(I=this.initializers,m=0,g=I.length;m<g;m++)a=I[m],p.connections.push({data:a.from.data,tgt:{process:a.to.node,port:a.to.port,index:a.to.index}});return p},e.prototype.save=function(t,e){var o;return a.isBrowser()?e(new Error("Saving graphs not supported on browser")):(o=JSON.stringify(this.toJSON(),null,4),r(28).writeFile(t+".json",o,"utf-8",function(r,o){if(r)throw r;return e(t)}))},e}(t),e.Graph=o,e.createGraph=function(t,e){return new o(t,e)},e.loadJSON=function(t,e,r){var n,i,a,s,p,c,h,u,l,d,f,g,m,v,y,x,b,w,E,N,P,T,M,O,I,S,k,R;null==r&&(r={}),"string"==typeof t&&(t=JSON.parse(t)),t.properties||(t.properties={}),t.processes||(t.processes={}),t.connections||(t.connections=[]),n=t.caseSensitive||!1,p=new o(t.properties.name,{caseSensitive:n}),p.startTransaction("loadJSON",r),b={},N=t.properties;for(w in N)R=N[w],"name"!==w&&(b[w]=R);p.setProperties(b),P=t.processes;for(u in P)a=P[u],a.metadata||(a.metadata={}),p.addNode(u,a.component,a.metadata);for(T=t.connections,h=0,f=T.length;h<f;h++)i=T[h],r=i.metadata?i.metadata:{},void 0===i.data?"number"!=typeof i.src.index&&"number"!=typeof i.tgt.index?p.addEdge(i.src.process,p.getPortName(i.src.port),i.tgt.process,p.getPortName(i.tgt.port),r):p.addEdgeIndex(i.src.process,p.getPortName(i.src.port),i.src.index,i.tgt.process,p.getPortName(i.tgt.port),i.tgt.index,r):"number"==typeof i.tgt.index?p.addInitialIndex(i.data,i.tgt.process,p.getPortName(i.tgt.port),i.tgt.index,r):p.addInitial(i.data,i.tgt.process,p.getPortName(i.tgt.port),r);if(t.exports&&t.exports.length)for(M=t.exports,l=0,g=M.length;l<g;l++){if(s=M[l],s.private){if(k=s.private.split("."),2!==k.length)continue;x=k[0],v=k[1];for(u in t.processes)p.getPortName(u)===p.getPortName(x)&&(x=u)}else x=s.process,v=p.getPortName(s.port);p.addExport(s.public,x,v,s.metadata)}if(t.inports){O=t.inports;for(E in O)y=O[E],p.addInport(E,y.process,p.getPortName(y.port),y.metadata)}if(t.outports){I=t.outports;for(E in I)y=I[E],p.addOutport(E,y.process,p.getPortName(y.port),y.metadata)}if(t.groups)for(S=t.groups,d=0,m=S.length;d<m;d++)c=S[d],p.addGroup(c.name,c.nodes,c.metadata||{});return p.endTransaction("loadJSON"),e(null,p)},e.loadFBP=function(t,o,n,i){var a,s;null==n&&(n={}),null==i&&(i=!1);try{a=r(104).parse(t,{caseSensitive:i})}catch(t){return s=t,o(s)}return e.loadJSON(a,o,n)},e.loadHTTP=function(t,e){var r;return r=new XMLHttpRequest,r.onreadystatechange=function(){if(4===r.readyState)return 200!==r.status?e(new Error("Failed to load "+t+": HTTP "+r.status)):e(null,r.responseText)},r.open("GET",t,!0),r.send()},e.loadFile=function(t,o,n,i){return null==n&&(n={}),null==i&&(i=!1),a.isBrowser()?void e.loadHTTP(t,function(r,i){var a;return r?o(r):"fbp"===t.split(".").pop()?e.loadFBP(i,o,n):(a=JSON.parse(i),e.loadJSON(a,o,n))}):r(28).readFile(t,"utf-8",function(r,n){var a;return r?o(r):"fbp"===t.split(".").pop()?e.loadFBP(n,o,{},i):(a=JSON.parse(n),e.loadJSON(a,o,{}))})},s=function(t){var e,r,o,i,a,s,p,c,h,u,l,d,f,g,m,v,y,x,b,w,E,N,P,T;for(y=n(t.groups).reverse(),i=0,h=y.length;i<h;i++)null!=(o=y[i])&&t.removeGroup(o.name);x=n(t.outports);for(v in x)x[v],t.removeOutport(v);b=n(t.inports);for(v in b)b[v],t.removeInport(v);for(w=n(t.exports.reverse()),s=0,u=w.length;s<u;s++)r=w[s],t.removeExport(r.public);for(t.setProperties({}),E=n(t.initializers).reverse(),p=0,l=E.length;p<l;p++)a=E[p],t.removeInitial(a.to.node,a.to.port);for(N=n(t.edges).reverse(),c=0,d=N.length;c<d;c++)e=N[c],t.removeEdge(e.from.node,e.from.port,e.to.node,e.to.port);for(P=n(t.nodes).reverse(),T=[],g=0,f=P.length;g<f;g++)m=P[g],T.push(t.removeNode(m.id));return T},i=function(t,e){var r,o,n,i,a,p,c,h,u,l,d,f,g,m,v,y,x,b,w,E,N,P,T,M,O;for(s(t),b=e.nodes,i=0,u=b.length;i<u;i++)v=b[i],t.addNode(v.id,v.component,v.metadata);for(w=e.edges,p=0,l=w.length;p<l;p++)r=w[p],t.addEdge(r.from.node,r.from.port,r.to.node,r.to.port,r.metadata);for(E=e.initializers,c=0,d=E.length;c<d;c++)a=E[c],t.addInitial(a.from.data,a.to.node,a.to.port,a.metadata);for(N=e.exports,h=0,f=N.length;h<f;h++)o=N[h],t.addExport(o.public,o.node,o.port,o.metadata);t.setProperties(e.properties),P=e.inports;for(x in P)y=P[x],t.addInport(x,y.process,y.port,y.metadata);T=e.outports;for(x in T)y=T[x],t.addOutport(x,y.process,y.port,y.metadata);for(M=e.groups,O=[],m=0,g=M.length;m<g;m++)n=M[m],O.push(t.addGroup(n.name,n.nodes,n.metadata));return O},e.equivalent=function(t,e,r){var o,n;return null==r&&(r={}),o=JSON.stringify(t),n=JSON.stringify(e),o===n},e.mergeResolveTheirs=i}).call(this)},function(t,e,r){(function(){var t,o,n,i,a,s,p,c=function(t,e){function r(){this.constructor=t}for(var o in e)h.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},h={}.hasOwnProperty,u=function(t,e){return function(){return t.apply(e,arguments)}};t=r(42).EventEmitter,s=r(41),p=function(t){var e;switch(e=t.args,t.cmd){case"addNode":return e.id+"("+e.component+")";case"removeNode":return"DEL "+e.id+"("+e.component+")";case"renameNode":return"RENAME "+e.oldId+" "+e.newId;case"changeNode":return"META "+e.id;case"addEdge":return e.from.node+" "+e.from.port+" -> "+e.to.port+" "+e.to.node;case"removeEdge":return e.from.node+" "+e.from.port+" -X> "+e.to.port+" "+e.to.node;case"changeEdge":return"META "+e.from.node+" "+e.from.port+" -> "+e.to.port+" "+e.to.node;case"addInitial":return"'"+e.from.data+"' -> "+e.to.port+" "+e.to.node;case"removeInitial":return"'"+e.from.data+"' -X> "+e.to.port+" "+e.to.node;case"startTransaction":return">>> "+t.rev+": "+e.id;case"endTransaction":return"<<< "+t.rev+": "+e.id;case"changeProperties":return"PROPERTIES";case"addGroup":return"GROUP "+e.name;case"renameGroup":return"RENAME GROUP "+e.oldName+" "+e.newName;case"removeGroup":return"DEL GROUP "+e.name;case"changeGroup":return"META GROUP "+e.name;case"addInport":return"INPORT "+e.name;case"removeInport":return"DEL INPORT "+e.name;case"renameInport":return"RENAME INPORT "+e.oldId+" "+e.newId;case"changeInport":return"META INPORT "+e.name;case"addOutport":return"OUTPORT "+e.name;case"removeOutport":return"DEL OUTPORT "+e.name;case"renameOutport":return"RENAME OUTPORT "+e.oldId+" "+e.newId;case"changeOutport":return"META OUTPORT "+e.name;default:throw new Error("Unknown journal entry: "+t.cmd)}},a=function(t,e){var r,o,n;o={};for(r in t)n=t[r],o[r]=null;for(r in e)n=e[r],o[r]=n;return o},n=function(t){function e(t){this.graph=t,this.lastRevision=0}return c(e,t),e.prototype.lastRevision=0,e.prototype.putTransaction=function(t,e){return t>this.lastRevision&&(this.lastRevision=t),this.emit("transaction",t)},e.prototype.fetchTransaction=function(t,e){},e}(t),i=function(t){function e(t){e.__super__.constructor.call(this,t),this.transactions=[]}return c(e,t),e.prototype.putTransaction=function(t,r){return e.__super__.putTransaction.call(this,t,r),this.transactions[t]=r},e.prototype.fetchTransaction=function(t){return this.transactions[t]},e}(n),o=function(t){function e(t,e,r){this.endTransaction=u(this.endTransaction,this),this.startTransaction=u(this.startTransaction,this);var o,n,a,s,p,c,h,l,d,f,g,m,v,y,x,b,w,E,N,P;if(this.graph=t,this.entries=[],this.subscribed=!0,this.store=r||new i(this.graph),0===this.store.transactions.length){for(this.currentRevision=-1,this.startTransaction("initial",e),y=this.graph.nodes,s=0,h=y.length;s<h;s++)v=y[s],this.appendCommand("addNode",v);for(x=this.graph.edges,c=0,l=x.length;c<l;c++)o=x[c],this.appendCommand("addEdge",o);for(b=this.graph.initializers,g=0,d=b.length;g<d;g++)a=b[g],this.appendCommand("addInitial",a);Object.keys(this.graph.properties).length>0&&this.appendCommand("changeProperties",this.graph.properties,{}),w=this.graph.inports;for(p in w)P=w[p],this.appendCommand("addInport",{name:p,port:P});E=this.graph.outports;for(p in E)P=E[p],this.appendCommand("addOutport",{name:p,port:P});for(N=this.graph.groups,m=0,f=N.length;m<f;m++)n=N[m],this.appendCommand("addGroup",n);this.endTransaction("initial",e)}else this.currentRevision=this.store.lastRevision;this.graph.on("addNode",function(t){return function(e){return t.appendCommand("addNode",e)}}(this)),this.graph.on("removeNode",function(t){return function(e){return t.appendCommand("removeNode",e)}}(this)),this.graph.on("renameNode",function(t){return function(e,r){var o;return o={oldId:e,newId:r},t.appendCommand("renameNode",o)}}(this)),this.graph.on("changeNode",function(t){return function(e,r){return t.appendCommand("changeNode",{id:e.id,new:e.metadata,old:r})}}(this)),this.graph.on("addEdge",function(t){return function(e){return t.appendCommand("addEdge",e)}}(this)),this.graph.on("removeEdge",function(t){return function(e){return t.appendCommand("removeEdge",e)}}(this)),this.graph.on("changeEdge",function(t){return function(e,r){return t.appendCommand("changeEdge",{from:e.from,to:e.to,new:e.metadata,old:r})}}(this)),this.graph.on("addInitial",function(t){return function(e){return t.appendCommand("addInitial",e)}}(this)),this.graph.on("removeInitial",function(t){return function(e){return t.appendCommand("removeInitial",e)}}(this)),this.graph.on("changeProperties",function(t){return function(e,r){return t.appendCommand("changeProperties",{new:e,old:r})}}(this)),this.graph.on("addGroup",function(t){return function(e){return t.appendCommand("addGroup",e)}}(this)),this.graph.on("renameGroup",function(t){return function(e,r){return t.appendCommand("renameGroup",{oldName:e,newName:r})}}(this)),this.graph.on("removeGroup",function(t){return function(e){return t.appendCommand("removeGroup",e)}}(this)),this.graph.on("changeGroup",function(t){return function(e,r){return t.appendCommand("changeGroup",{name:e.name,new:e.metadata,old:r})}}(this)),this.graph.on("addExport",function(t){return function(e){return t.appendCommand("addExport",e)}}(this)),this.graph.on("removeExport",function(t){return function(e){return t.appendCommand("removeExport",e)}}(this)),this.graph.on("addInport",function(t){return function(e,r){return t.appendCommand("addInport",{name:e,port:r})}}(this)),this.graph.on("removeInport",function(t){return function(e,r){return t.appendCommand("removeInport",{name:e,port:r})}}(this)),this.graph.on("renameInport",function(t){return function(e,r){return t.appendCommand("renameInport",{oldId:e,newId:r})}}(this)),this.graph.on("changeInport",function(t){return function(e,r,o){return t.appendCommand("changeInport",{name:e,new:r.metadata,old:o})}}(this)),this.graph.on("addOutport",function(t){return function(e,r){return t.appendCommand("addOutport",{name:e,port:r})}}(this)),this.graph.on("removeOutport",function(t){return function(e,r){return t.appendCommand("removeOutport",{name:e,port:r})}}(this)),this.graph.on("renameOutport",function(t){return function(e,r){return t.appendCommand("renameOutport",{oldId:e,newId:r})}}(this)),this.graph.on("changeOutport",function(t){return function(e,r,o){return t.appendCommand("changeOutport",{name:e,new:r.metadata,old:o})}}(this)),this.graph.on("startTransaction",function(t){return function(e,r){return t.startTransaction(e,r)}}(this)),this.graph.on("endTransaction",function(t){return function(e,r){return t.endTransaction(e,r)}}(this))}return c(e,t),e.prototype.graph=null,e.prototype.entries=[],e.prototype.subscribed=!0,e.prototype.startTransaction=function(t,e){if(this.subscribed){if(this.entries.length>0)throw Error("Inconsistent @entries");return this.currentRevision++,this.appendCommand("startTransaction",{id:t,metadata:e},this.currentRevision)}},e.prototype.endTransaction=function(t,e){if(this.subscribed)return this.appendCommand("endTransaction",{id:t,metadata:e},this.currentRevision),this.store.putTransaction(this.currentRevision,this.entries),this.entries=[]},e.prototype.appendCommand=function(t,e,r){var o;if(this.subscribed)return o={cmd:t,args:s(e)},null!=r&&(o.rev=r),this.entries.push(o)},e.prototype.executeEntry=function(t){var e;switch(e=t.args,t.cmd){case"addNode":return this.graph.addNode(e.id,e.component);case"removeNode":return this.graph.removeNode(e.id);case"renameNode":return this.graph.renameNode(e.oldId,e.newId);case"changeNode":return this.graph.setNodeMetadata(e.id,a(e.old,e.new));case"addEdge":return this.graph.addEdge(e.from.node,e.from.port,e.to.node,e.to.port);case"removeEdge":return this.graph.removeEdge(e.from.node,e.from.port,e.to.node,e.to.port);case"changeEdge":return this.graph.setEdgeMetadata(e.from.node,e.from.port,e.to.node,e.to.port,a(e.old,e.new));case"addInitial":return this.graph.addInitial(e.from.data,e.to.node,e.to.port);case"removeInitial":return this.graph.removeInitial(e.to.node,e.to.port);case"startTransaction":case"endTransaction":return null;case"changeProperties":return this.graph.setProperties(e.new);case"addGroup":return this.graph.addGroup(e.name,e.nodes,e.metadata);case"renameGroup":return this.graph.renameGroup(e.oldName,e.newName);case"removeGroup":return this.graph.removeGroup(e.name);case"changeGroup":return this.graph.setGroupMetadata(e.name,a(e.old,e.new));case"addInport":return this.graph.addInport(e.name,e.port.process,e.port.port,e.port.metadata);case"removeInport":return this.graph.removeInport(e.name);case"renameInport":return this.graph.renameInport(e.oldId,e.newId);case"changeInport":return this.graph.setInportMetadata(e.name,a(e.old,e.new));case"addOutport":return this.graph.addOutport(e.name,e.port.process,e.port.port,e.port.metadata(e.name));case"removeOutport":return this.graph.removeOutport;case"renameOutport":return this.graph.renameOutport(e.oldId,e.newId);case"changeOutport":return this.graph.setOutportMetadata(e.name,a(e.old,e.new));default:throw new Error("Unknown journal entry: "+t.cmd)}},e.prototype.executeEntryInversed=function(t){var e;switch(e=t.args,t.cmd){case"addNode":return this.graph.removeNode(e.id);case"removeNode":return this.graph.addNode(e.id,e.component);case"renameNode":return this.graph.renameNode(e.newId,e.oldId);case"changeNode":return this.graph.setNodeMetadata(e.id,a(e.new,e.old));case"addEdge":return this.graph.removeEdge(e.from.node,e.from.port,e.to.node,e.to.port);case"removeEdge":return this.graph.addEdge(e.from.node,e.from.port,e.to.node,e.to.port);case"changeEdge":return this.graph.setEdgeMetadata(e.from.node,e.from.port,e.to.node,e.to.port,a(e.new,e.old));case"addInitial":return this.graph.removeInitial(e.to.node,e.to.port);case"removeInitial":return this.graph.addInitial(e.from.data,e.to.node,e.to.port);case"startTransaction":case"endTransaction":return null;case"changeProperties":return this.graph.setProperties(e.old);case"addGroup":return this.graph.removeGroup(e.name);case"renameGroup":return this.graph.renameGroup(e.newName,e.oldName);case"removeGroup":return this.graph.addGroup(e.name,e.nodes,e.metadata);case"changeGroup":return this.graph.setGroupMetadata(e.name,a(e.new,e.old));case"addInport":return this.graph.removeInport(e.name);case"removeInport":return this.graph.addInport(e.name,e.port.process,e.port.port,e.port.metadata);case"renameInport":return this.graph.renameInport(e.newId,e.oldId);case"changeInport":return this.graph.setInportMetadata(e.name,a(e.new,e.old));case"addOutport":return this.graph.removeOutport(e.name);case"removeOutport":return this.graph.addOutport(e.name,e.port.process,e.port.port,e.port.metadata);case"renameOutport":return this.graph.renameOutport(e.newId,e.oldId);case"changeOutport":return this.graph.setOutportMetadata(e.name,a(e.new,e.old));default:throw new Error("Unknown journal entry: "+t.cmd)}},e.prototype.moveToRevision=function(t){var e,r,o,n,i,a,s,p,c,h,u,l,d;if(t!==this.currentRevision){if(this.subscribed=!1,t>this.currentRevision)for(c=n=h=this.currentRevision+1,u=t;h<=u?n<=u:n>=u;c=h<=u?++n:--n)for(l=this.store.fetchTransaction(c),i=0,a=l.length;i<a;i++)r=l[i],this.executeEntry(r);else for(c=s=this.currentRevision,d=t+1;s>=d;c=s+=-1)for(e=this.store.fetchTransaction(c),o=p=e.length-1;p>=0;o=p+=-1)this.executeEntryInversed(e[o]);return this.currentRevision=t,this.subscribed=!0}},e.prototype.undo=function(){if(this.canUndo())return this.moveToRevision(this.currentRevision-1)},e.prototype.canUndo=function(){return this.currentRevision>0},e.prototype.redo=function(){if(this.canRedo())return this.moveToRevision(this.currentRevision+1)},e.prototype.canRedo=function(){return this.currentRevision<this.store.lastRevision},e.prototype.toPrettyString=function(t,e){var r,o,n,i,a,s,c,h,u;for(t|=0,e|=this.store.lastRevision,s=[],c=n=h=t,u=e;h<=u?n<u:n>u;c=h<=u?++n:--n)for(r=this.store.fetchTransaction(c),i=0,a=r.length;i<a;i++)o=r[i],s.push(p(o));return s.join("\n")},e.prototype.toJSON=function(t,e){var r,o,n,i,a,s,c,h;for(t|=0,e|=this.store.lastRevision,r=[],s=n=t,c=e;n<c;s=n+=1)for(h=this.store.fetchTransaction(s),i=0,a=h.length;i<a;i++)o=h[i],r.push(p(o));return r},e.prototype.save=function(t,e){var o;return o=JSON.stringify(this.toJSON(),null,4),r(28).writeFile(t+".json",o,"utf-8",function(r,o){if(r)throw r;return e(t)})},e}(t),e.Journal=o,e.JournalStore=n,e.MemoryJournalStore=i}).call(this)},function(t,e){(function(){e.isBrowser=function(){return"undefined"==typeof process||!process.execPath||!process.execPath.match(/node|iojs/)},e.deprecated=function(t){if(e.isBrowser()){if(window.NOFLO_FATAL_DEPRECATED)throw new Error(t);return void console.warn(t)}if(process.env.NOFLO_FATAL_DEPRECATED)throw new Error(t);return console.warn(t)}}).call(this)},function(t,e,r){t.exports=function(){"use strict";function t(e,r,o,n){this.message=e,this.expected=r,this.found=o,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}function e(e){function o(){return e.substring(po,so)}function n(){return a(po,so)}function i(t){var r,o,n=co[t];if(n)return n;for(r=t-1;!co[r];)r--;for(n=co[r],n={line:n.line,column:n.column,seenCR:n.seenCR};r<t;)o=e.charAt(r),"\n"===o?(n.seenCR||n.line++,n.column=1,n.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(n.line++,n.column=1,n.seenCR=!0):(n.column++,n.seenCR=!1),r++;return co[t]=n,n}function a(t,e){var r=i(t),o=i(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:o.line,column:o.column}}}function s(t){so<ho||(so>ho&&(ho=so,uo=[]),uo.push(t))}function p(e,r,o,n){return null!==r&&function(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}(r),new t(null!==e?e:function(t,e){var r,o,n,i=new Array(t.length);for(n=0;n<t.length;n++)i[n]=t[n].description;return r=t.length>1?i.slice(0,-1).join(", ")+" or "+i[t.length-1]:i[0],o=e?'"'+function(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0100-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1000-\uFFFF]/g,function(t){return"\\u"+e(t)})}(e)+'"':"end of input","Expected "+r+" but "+o+" found."}(r,o),r,o,n)}function c(){var t,e,r;for(t=so,e=[],r=h();r!==wt;)e.push(r),r=h();return e!==wt&&(po=t,e=Pt()),t=e}function h(){var t,r,o,n,i,a,p,c,h,f;return t=so,r=C(),r!==wt?(e.substr(so,7)===Tt?(o=Tt,so+=7):(o=wt,0===lo&&s(Mt)),o!==wt?(n=k(),n!==wt?(58===e.charCodeAt(so)?(i=Ot,so++):(i=wt,0===lo&&s(It)),i!==wt?(a=k(),a!==wt?(p=C(),p!==wt?(c=u(),c===wt&&(c=null),c!==wt?(po=t,r=St(n,a),t=r):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt),t===wt&&(t=so,r=C(),r!==wt?(e.substr(so,7)===kt?(o=kt,so+=7):(o=wt,0===lo&&s(Rt)),o!==wt?(n=b(),n!==wt?(46===e.charCodeAt(so)?(i=Gt,so++):(i=wt,0===lo&&s(At)),i!==wt?(a=k(),a!==wt?(58===e.charCodeAt(so)?(p=Ot,so++):(p=wt,0===lo&&s(It)),p!==wt?(c=k(),c!==wt?(h=C(),h!==wt?(f=u(),f===wt&&(f=null),f!==wt?(po=t,r=Ct(n,a,c),t=r):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt),t===wt&&(t=so,r=C(),r!==wt?(e.substr(so,8)===_t?(o=_t,so+=8):(o=wt,0===lo&&s(Dt)),o!==wt?(n=b(),n!==wt?(46===e.charCodeAt(so)?(i=Gt,so++):(i=wt,0===lo&&s(At)),i!==wt?(a=k(),a!==wt?(58===e.charCodeAt(so)?(p=Ot,so++):(p=wt,0===lo&&s(It)),p!==wt?(c=k(),c!==wt?(h=C(),h!==wt?(f=u(),f===wt&&(f=null),f!==wt?(po=t,r=Lt(n,a,c),t=r):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt),t===wt&&(t=so,r=C(),r!==wt?(e.substr(so,15)===jt?(o=jt,so+=15):(o=wt,0===lo&&s(Ut)),o!==wt?(n=k(),n!==wt?(i=C(),i!==wt?(a=u(),a===wt&&(a=null),a!==wt?(po=t,r=Ft(n),t=r):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt),t===wt&&(t=so,r=C(),r!==wt?(e.substr(so,16)===Yt?(o=Yt,so+=16):(o=wt,0===lo&&s(Xt)),o!==wt?(n=k(),n!==wt?(i=C(),i!==wt?(a=u(),a===wt&&(a=null),a!==wt?(po=t,r=Bt(n),t=r):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt),t===wt&&(t=so,r=l(),r!==wt?(zt.test(e.charAt(so))?(o=e.charAt(so),so++):(o=wt,0===lo&&s(qt)),o===wt&&(o=null),o!==wt?(r=[r,o],t=r):(so=t,t=wt)):(so=t,t=wt),t===wt&&(t=so,r=C(),r!==wt?(zt.test(e.charAt(so))?(o=e.charAt(so),so++):(o=wt,0===lo&&s(qt)),o!==wt?(r=[r,o],t=r):(so=t,t=wt)):(so=t,t=wt),t===wt&&(t=so,r=C(),r!==wt?(o=d(),o!==wt?(n=C(),n!==wt?(i=u(),i===wt&&(i=null),i!==wt?(po=t,r=Ht(o),t=r):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)))))))),t}function u(){var t,r,o,n,i;return t=so,r=C(),r!==wt?(44===e.charCodeAt(so)?(o=Kt,so++):(o=wt,0===lo&&s(Wt)),o===wt&&(o=null),o!==wt?(n=l(),n===wt&&(n=null),n!==wt?(zt.test(e.charAt(so))?(i=e.charAt(so),so++):(i=wt,0===lo&&s(qt)),i===wt&&(i=null),i!==wt?(r=[r,o,n,i],t=r):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt),t}function l(){var t,r,o,n,i;if(t=so,(r=C())!==wt)if(35===e.charCodeAt(so)?(o=Jt,so++):(o=wt,0===lo&&s(Vt)),o!==wt){for(n=[],i=G();i!==wt;)n.push(i),i=G();n!==wt?(r=[r,o,n],t=r):(so=t,t=wt)}else so=t,t=wt;else so=t,t=wt;return t}function d(){var t,r,o,n,i,a;return t=so,r=f(),r!==wt?(o=C(),o!==wt?(e.substr(so,2)===Zt?(n=Zt,so+=2):(n=wt,0===lo&&s($t)),n!==wt?(i=C(),i!==wt?(a=d(),a!==wt?(po=t,r=Qt(r,a),t=r):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt),t===wt&&(t=g()),t}function f(){var t;return t=m(),t===wt&&(t=v())===wt&&(t=x()),t}function g(){var t;return t=y(),t===wt&&(t=m()),t}function m(){var t,e,r,o;return t=so,e=I(),e!==wt?(r=b(),r!==wt?(o=S(),o!==wt?(po=t,e=te(e,r,o),t=e):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt),t===wt&&(t=so,e=I(),e===wt&&(e=null),e!==wt?(r=P(),r!==wt?(o=S(),o===wt&&(o=null),o!==wt?(po=t,e=te(e,r,o),t=e):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)),t}function v(){var t,e,r;return t=so,e=b(),e!==wt?(r=S(),r===wt&&(r=null),r!==wt?(po=t,e=ee(e,r),t=e):(so=t,t=wt)):(so=t,t=wt),t}function y(){var t,e,r;return t=so,e=I(),e===wt&&(e=null),e!==wt?(r=b(),r!==wt?(po=t,e=re(e,r),t=e):(so=t,t=wt)):(so=t,t=wt),t}function x(){var t,r,o,n;if(t=so,39===e.charCodeAt(so)?(r=oe,so++):(r=wt,0===lo&&s(ne)),r!==wt){for(o=[],n=A();n!==wt;)o.push(n),n=A();o!==wt?(39===e.charCodeAt(so)?(n=oe,so++):(n=wt,0===lo&&s(ne)),n!==wt?(po=t,r=ie(o),t=r):(so=t,t=wt)):(so=t,t=wt)}else so=t,t=wt;return t===wt&&(t=so,r=D(),r!==wt&&(po=t,r=ae(r)),t=r),t}function b(){var t,e;return t=so,e=E(),e!==wt&&(po=t,e=se(e)),t=e,t===wt&&(t=so,e=w(),e!==wt&&(po=t,e=se(e)),(t=e)===wt&&(t=so,e=N(),e!==wt&&(po=t,e=se(e)),t=e)),t}function w(){var t,r,o,n,i;if(t=so,r=so,pe.test(e.charAt(so))?(o=e.charAt(so),so++):(o=wt,0===lo&&s(ce)),o!==wt){for(n=[],he.test(e.charAt(so))?(i=e.charAt(so),so++):(i=wt,0===lo&&s(ue));i!==wt;)n.push(i),he.test(e.charAt(so))?(i=e.charAt(so),so++):(i=wt,0===lo&&s(ue));n!==wt?(o=[o,n],r=o):(so=r,r=wt)}else so=r,r=wt;return r!==wt&&(po=t,r=le(r)),t=r}function E(){var t,e,r;return t=so,e=w(),e!==wt?(r=T(),r!==wt?(po=t,e=de(e,r),t=e):(so=t,t=wt)):(so=t,t=wt),t}function N(){var t,e;return t=so,e=T(),e!==wt&&(po=t,e=fe(e)),t=e}function P(){var t;return t=E(),t===wt&&(t=N()),t}function T(){var t,r,o,n,i;if(t=so,40===e.charCodeAt(so)?(r=ge,so++):(r=wt,0===lo&&s(me)),r!==wt){for(o=[],ve.test(e.charAt(so))?(n=e.charAt(so),so++):(n=wt,0===lo&&s(ye));n!==wt;)o.push(n),ve.test(e.charAt(so))?(n=e.charAt(so),so++):(n=wt,0===lo&&s(ye));o===wt&&(o=null),o!==wt?(n=M(),n===wt&&(n=null),n!==wt?(41===e.charCodeAt(so)?(i=xe,so++):(i=wt,0===lo&&s(be)),i!==wt?(po=t,r=we(o,n),t=r):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)}else so=t,t=wt;return t}function M(){var t,r,o,n;if(t=so,58===e.charCodeAt(so)?(r=Ot,so++):(r=wt,0===lo&&s(It)),r!==wt){if(o=[],Ee.test(e.charAt(so))?(n=e.charAt(so),so++):(n=wt,0===lo&&s(Ne)),n!==wt)for(;n!==wt;)o.push(n),Ee.test(e.charAt(so))?(n=e.charAt(so),so++):(n=wt,0===lo&&s(Ne));else o=wt;o!==wt?(po=t,r=Pe(o),t=r):(so=t,t=wt)}else so=t,t=wt;return t}function O(){var t,e,r;return t=so,e=k(),e!==wt?(r=R(),r===wt&&(r=null),r!==wt?(po=t,e=Te(e,r),t=e):(so=t,t=wt)):(so=t,t=wt),t}function I(){var t,e,r;return t=so,e=O(),e!==wt?(r=_(),r!==wt?(po=t,e=Me(e),t=e):(so=t,t=wt)):(so=t,t=wt),t}function S(){var t,e,r;return t=so,e=_(),e!==wt?(r=O(),r!==wt?(po=t,e=Me(r),t=e):(so=t,t=wt)):(so=t,t=wt),t}function k(){var t,r,o,n,i;if(t=so,r=so,pe.test(e.charAt(so))?(o=e.charAt(so),so++):(o=wt,0===lo&&s(ce)),o!==wt){for(n=[],Oe.test(e.charAt(so))?(i=e.charAt(so),so++):(i=wt,0===lo&&s(Ie));i!==wt;)n.push(i),Oe.test(e.charAt(so))?(i=e.charAt(so),so++):(i=wt,0===lo&&s(Ie));n!==wt?(o=[o,n],r=o):(so=r,r=wt)}else so=r,r=wt;return r!==wt&&(po=t,r=Se(r)),t=r}function R(){var t,r,o,n;if(t=so,91===e.charCodeAt(so)?(r=ke,so++):(r=wt,0===lo&&s(Re)),r!==wt){if(o=[],Ge.test(e.charAt(so))?(n=e.charAt(so),so++):(n=wt,0===lo&&s(Ae)),n!==wt)for(;n!==wt;)o.push(n),Ge.test(e.charAt(so))?(n=e.charAt(so),so++):(n=wt,0===lo&&s(Ae));else o=wt;o!==wt?(93===e.charCodeAt(so)?(n=Ce,so++):(n=wt,0===lo&&s(_e)),n!==wt?(po=t,r=De(o),t=r):(so=t,t=wt)):(so=t,t=wt)}else so=t,t=wt;return t}function G(){var t;return Le.test(e.charAt(so))?(t=e.charAt(so),so++):(t=wt,0===lo&&s(je)),t}function A(){var t,r,o;return t=so,Ue.test(e.charAt(so))?(r=e.charAt(so),so++):(r=wt,0===lo&&s(Fe)),r!==wt?(Ye.test(e.charAt(so))?(o=e.charAt(so),so++):(o=wt,0===lo&&s(Xe)),o!==wt?(po=t,r=Be(),t=r):(so=t,t=wt)):(so=t,t=wt),t===wt&&(ze.test(e.charAt(so))?(t=e.charAt(so),so++):(t=wt,0===lo&&s(qe))),t}function C(){var t,r;for(t=[],32===e.charCodeAt(so)?(r=He,so++):(r=wt,0===lo&&s(Ke));r!==wt;)t.push(r),32===e.charCodeAt(so)?(r=He,so++):(r=wt,0===lo&&s(Ke));return t===wt&&(t=null),t}function _(){var t,r;if(t=[],32===e.charCodeAt(so)?(r=He,so++):(r=wt,0===lo&&s(Ke)),r!==wt)for(;r!==wt;)t.push(r),32===e.charCodeAt(so)?(r=He,so++):(r=wt,0===lo&&s(Ke));else t=wt;return t}function D(){var t,e,r,o;return t=so,e=B(),e!==wt?(r=z(),r!==wt?(o=B(),o!==wt?(po=t,e=We(r),t=e):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt),t}function L(){var t,r,o,n;return t=so,r=B(),r!==wt?(91===e.charCodeAt(so)?(o=ke,so++):(o=wt,0===lo&&s(Re)),o!==wt?(n=B(),n!==wt?(r=[r,o,n],t=r):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt),t}function j(){var t,r,o,n;return t=so,r=B(),r!==wt?(123===e.charCodeAt(so)?(o=Je,so++):(o=wt,0===lo&&s(Ve)),o!==wt?(n=B(),n!==wt?(r=[r,o,n],t=r):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt),t}function U(){var t,r,o,n;return t=so,r=B(),r!==wt?(93===e.charCodeAt(so)?(o=Ce,so++):(o=wt,0===lo&&s(_e)),o!==wt?(n=B(),n!==wt?(r=[r,o,n],t=r):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt),t}function F(){var t,r,o,n;return t=so,r=B(),r!==wt?(125===e.charCodeAt(so)?(o=Ze,so++):(o=wt,0===lo&&s($e)),o!==wt?(n=B(),n!==wt?(r=[r,o,n],t=r):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt),t}function Y(){var t,r,o,n;return t=so,r=B(),r!==wt?(58===e.charCodeAt(so)?(o=Ot,so++):(o=wt,0===lo&&s(It)),o!==wt?(n=B(),n!==wt?(r=[r,o,n],t=r):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt),t}function X(){var t,r,o,n;return t=so,r=B(),r!==wt?(44===e.charCodeAt(so)?(o=Kt,so++):(o=wt,0===lo&&s(Wt)),o!==wt?(n=B(),n!==wt?(r=[r,o,n],t=r):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt),t}function B(){var t,r;for(lo++,t=[],tr.test(e.charAt(so))?(r=e.charAt(so),so++):(r=wt,0===lo&&s(er));r!==wt;)t.push(r),tr.test(e.charAt(so))?(r=e.charAt(so),so++):(r=wt,0===lo&&s(er));return lo--,t===wt&&(r=wt,0===lo&&s(Qe)),t}function z(){var t;return t=q(),t===wt&&(t=H())===wt&&(t=K())===wt&&(t=W())===wt&&(t=V())===wt&&(t=Z())===wt&&(t=st()),t}function q(){var t,r;return t=so,e.substr(so,5)===rr?(r=rr,so+=5):(r=wt,0===lo&&s(or)),r!==wt&&(po=t,r=nr()),t=r}function H(){var t,r;return t=so,e.substr(so,4)===ir?(r=ir,so+=4):(r=wt,0===lo&&s(ar)),r!==wt&&(po=t,r=sr()),t=r}function K(){var t,r;return t=so,e.substr(so,4)===pr?(r=pr,so+=4):(r=wt,0===lo&&s(cr)),r!==wt&&(po=t,r=hr()),t=r}function W(){var t,e,r,o,n,i,a,s;if(t=so,(e=j())!==wt){if(r=so,(o=J())!==wt){for(n=[],i=so,a=X(),a!==wt?(s=J(),s!==wt?(po=i,a=ur(o,s),i=a):(so=i,i=wt)):(so=i,i=wt);i!==wt;)n.push(i),i=so,a=X(),a!==wt?(s=J(),s!==wt?(po=i,a=ur(o,s),i=a):(so=i,i=wt)):(so=i,i=wt);n!==wt?(po=r,o=lr(o,n),r=o):(so=r,r=wt)}else so=r,r=wt;r===wt&&(r=null),r!==wt?(o=F(),o!==wt?(po=t,e=dr(r),t=e):(so=t,t=wt)):(so=t,t=wt)}else so=t,t=wt;return t}function J(){var t,e,r,o;return t=so,e=st(),e!==wt?(r=Y(),r!==wt?(o=z(),o!==wt?(po=t,e=fr(e,o),t=e):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt),t}function V(){var t,e,r,o,n,i,a,s;if(t=so,(e=L())!==wt){if(r=so,(o=z())!==wt){for(n=[],i=so,a=X(),a!==wt?(s=z(),s!==wt?(po=i,a=gr(o,s),i=a):(so=i,i=wt)):(so=i,i=wt);i!==wt;)n.push(i),i=so,a=X(),a!==wt?(s=z(),s!==wt?(po=i,a=gr(o,s),i=a):(so=i,i=wt)):(so=i,i=wt);n!==wt?(po=r,o=mr(o,n),r=o):(so=r,r=wt)}else so=r,r=wt;r===wt&&(r=null),r!==wt?(o=U(),o!==wt?(po=t,e=vr(r),t=e):(so=t,t=wt)):(so=t,t=wt)}else so=t,t=wt;return t}function Z(){var t,e,r,o,n;return lo++,t=so,e=nt(),e===wt&&(e=null),e!==wt?(r=ot(),r!==wt?(o=rt(),o===wt&&(o=null),o!==wt?(n=et(),n===wt&&(n=null),n!==wt?(po=t,e=xr(),t=e):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt)):(so=t,t=wt),lo--,t===wt&&(e=wt,0===lo&&s(yr)),t}function $(){var t;return 46===e.charCodeAt(so)?(t=Gt,so++):(t=wt,0===lo&&s(At)),t}function Q(){var t;return br.test(e.charAt(so))?(t=e.charAt(so),so++):(t=wt,0===lo&&s(wr)),t}function tt(){var t;return Er.test(e.charAt(so))?(t=e.charAt(so),so++):(t=wt,0===lo&&s(Nr)),t}function et(){var t,e,r,o,n;if(t=so,(e=tt())!==wt)if(r=nt(),r===wt&&(r=it()),r===wt&&(r=null),r!==wt){if(o=[],(n=lt())!==wt)for(;n!==wt;)o.push(n),n=lt();else o=wt;o!==wt?(e=[e,r,o],t=e):(so=t,t=wt)}else so=t,t=wt;else so=t,t=wt;return t}function rt(){var t,e,r,o;if(t=so,(e=$())!==wt){if(r=[],(o=lt())!==wt)for(;o!==wt;)r.push(o),o=lt();else r=wt;r!==wt?(e=[e,r],t=e):(so=t,t=wt)}else so=t,t=wt;return t}function ot(){var t,e,r,o;if((t=at())===wt)if(t=so,(e=Q())!==wt){for(r=[],o=lt();o!==wt;)r.push(o),o=lt();r!==wt?(e=[e,r],t=e):(so=t,t=wt)}else so=t,t=wt;return t}function nt(){var t;return 45===e.charCodeAt(so)?(t=Pr,so++):(t=wt,0===lo&&s(Tr)),t}function it(){var t;return 43===e.charCodeAt(so)?(t=Mr,so++):(t=wt,0===lo&&s(Or)),t}function at(){var t;return 48===e.charCodeAt(so)?(t=Ir,so++):(t=wt,0===lo&&s(Sr)),t}function st(){var t,e,r,o;if(lo++,t=so,(e=ht())!==wt){for(r=[],o=pt();o!==wt;)r.push(o),o=pt();r!==wt?(o=ht(),o!==wt?(po=t,e=Rr(r),t=e):(so=t,t=wt)):(so=t,t=wt)}else so=t,t=wt;return lo--,t===wt&&(e=wt,0===lo&&s(kr)),t}function pt(){var t,r,o,n,i,a,p,c,h,u;return t=ut(),t===wt&&(t=so,r=ct(),r!==wt?(34===e.charCodeAt(so)?(o=Gr,so++):(o=wt,0===lo&&s(Ar)),o===wt&&(92===e.charCodeAt(so)?(o=Cr,so++):(o=wt,0===lo&&s(_r)),o===wt&&(47===e.charCodeAt(so)?(o=Dr,so++):(o=wt,0===lo&&s(Lr)),o===wt&&(o=so,98===e.charCodeAt(so)?(n=jr,so++):(n=wt,0===lo&&s(Ur)),n!==wt&&(po=o,n=Fr()),(o=n)===wt&&(o=so,102===e.charCodeAt(so)?(n=Yr,so++):(n=wt,0===lo&&s(Xr)),n!==wt&&(po=o,n=Br()),(o=n)===wt&&(o=so,110===e.charCodeAt(so)?(n=zr,so++):(n=wt,0===lo&&s(qr)),n!==wt&&(po=o,n=Hr()),(o=n)===wt&&(o=so,114===e.charCodeAt(so)?(n=Kr,so++):(n=wt,0===lo&&s(Wr)),n!==wt&&(po=o,n=Jr()),(o=n)===wt&&(o=so,116===e.charCodeAt(so)?(n=Vr,so++):(n=wt,0===lo&&s(Zr)),n!==wt&&(po=o,n=$r()),(o=n)===wt&&(o=so,117===e.charCodeAt(so)?(n=Qr,so++):(n=wt,0===lo&&s(to)),n!==wt?(i=so,a=so,p=dt(),p!==wt?(c=dt(),c!==wt?(h=dt(),h!==wt?(u=dt(),u!==wt?(p=[p,c,h,u],a=p):(so=a,a=wt)):(so=a,a=wt)):(so=a,a=wt)):(so=a,a=wt),i=a!==wt?e.substring(i,so):a,i!==wt?(po=o,n=eo(i),o=n):(so=o,o=wt)):(so=o,o=wt))))))))),o!==wt?(po=t,r=ro(o),t=r):(so=t,t=wt)):(so=t,t=wt)),t}function ct(){var t;return 92===e.charCodeAt(so)?(t=Cr,so++):(t=wt,0===lo&&s(_r)),t}function ht(){var t;return 34===e.charCodeAt(so)?(t=Gr,so++):(t=wt,0===lo&&s(Ar)),t}function ut(){var t;return oo.test(e.charAt(so))?(t=e.charAt(so),so++):(t=wt,0===lo&&s(no)),t}function lt(){var t;return Ge.test(e.charAt(so))?(t=e.charAt(so),so++):(t=wt,0===lo&&s(Ae)),t}function dt(){var t;return io.test(e.charAt(so))?(t=e.charAt(so),so++):(t=wt,0===lo&&s(ao)),t}function ft(t){return t[0]+t[1].join("")}function gt(t,e,r){xt.caseSensitive||(r=r.toLowerCase());var o={process:t,port:e?e.port:r};return e&&null!=e.index&&(o.index=e.index),o}function mt(t,e){return gt(t,e,go)}function vt(t,e){return gt(t,e,mo)}var yt,xt=arguments.length>1?arguments[1]:{},bt=this,wt={},Et={start:c},Nt=c,Pt=function(){return bt.getResult()},Tt="EXPORT=",Mt={type:"literal",value:"EXPORT=",description:'"EXPORT="'},Ot=":",It={type:"literal",value:":",description:'":"'},St=function(t,e){return bt.registerExports(t,e)},kt="INPORT=",Rt={type:"literal",value:"INPORT=",description:'"INPORT="'},Gt=".",At={type:"literal",value:".",description:'"."'},Ct=function(t,e,r){return bt.registerInports(t,e,r)},_t="OUTPORT=",Dt={type:"literal",value:"OUTPORT=",description:'"OUTPORT="'},Lt=function(t,e,r){return bt.registerOutports(t,e,r)},jt="DEFAULT_INPORT=",Ut={type:"literal",value:"DEFAULT_INPORT=",description:'"DEFAULT_INPORT="'},Ft=function(t){go=t},Yt="DEFAULT_OUTPORT=",Xt={type:"literal",value:"DEFAULT_OUTPORT=",description:'"DEFAULT_OUTPORT="'},Bt=function(t){mo=t},zt=/^[\n\r\u2028\u2029]/,qt={type:"class",value:"[\\n\\r\\u2028\\u2029]",description:"[\\n\\r\\u2028\\u2029]"},Ht=function(t){return bt.registerEdges(t)},Kt=",",Wt={type:"literal",value:",",description:'","'},Jt="#",Vt={type:"literal",value:"#",description:'"#"'},Zt="->",$t={type:"literal",value:"->",description:'"->"'},Qt=function(t,e){return[t,e]},te=function(t,e,r){return[{tgt:mt(e,t)},{src:vt(e,r)}]},ee=function(t,e){return{src:vt(t,e)}},re=function(t,e){return{tgt:mt(e,t)}},oe="'",ne={type:"literal",value:"'",description:'"\'"'},ie=function(t){return{data:t.join("")}},ae=function(t){return{data:t}},se=function(t){return t},pe=/^[a-zA-Z_]/,ce={type:"class",value:"[a-zA-Z_]",description:"[a-zA-Z_]"},he=/^[a-zA-Z0-9_\-]/,ue={type:"class",value:"[a-zA-Z0-9_\\-]",description:"[a-zA-Z0-9_\\-]"},le=function(t){return ft(t)},de=function(t,e){return bt.addNode(t,e),t},fe=function(t){return bt.addAnonymousNode(t,n().start.offset)},ge="(",me={type:"literal",value:"(",description:'"("'},ve=/^[a-zA-Z\/\-0-9_]/,ye={type:"class",value:"[a-zA-Z/\\-0-9_]",description:"[a-zA-Z/\\-0-9_]"},xe=")",be={type:"literal",value:")",description:'")"'},we=function(t,e){var r={};return r.comp=t?t.join(""):"",e&&(r.meta=e.join("").split(",")),r},Ee=/^[a-zA-Z\/=_,0-9]/,Ne={type:"class",value:"[a-zA-Z/=_,0-9]",description:"[a-zA-Z/=_,0-9]"},Pe=function(t){return t},Te=function(t,e){return{port:xt.caseSensitive?t:t.toLowerCase(),index:null!=e?e:void 0}},Me=function(t){return t},Oe=/^[a-zA-Z.0-9_]/,Ie={type:"class",value:"[a-zA-Z.0-9_]",description:"[a-zA-Z.0-9_]"},Se=function(t){return ft(t)},ke="[",Re={type:"literal",value:"[",description:'"["'},Ge=/^[0-9]/,Ae={type:"class",value:"[0-9]",description:"[0-9]"},Ce="]",_e={type:"literal",value:"]",description:'"]"'},De=function(t){return parseInt(t.join(""))},Le=/^[^\n\r\u2028\u2029]/,je={type:"class",value:"[^\\n\\r\\u2028\\u2029]",description:"[^\\n\\r\\u2028\\u2029]"},Ue=/^[\\]/,Fe={type:"class",value:"[\\\\]",description:"[\\\\]"},Ye=/^[']/,Xe={type:"class",value:"[']",description:"[']"},Be=function(){return"'"},ze=/^[^']/,qe={type:"class",value:"[^']",description:"[^']"},He=" ",Ke={type:"literal",value:" ",description:'" "'},We=function(t){return t},Je="{",Ve={type:"literal",value:"{",description:'"{"'},Ze="}",$e={type:"literal",value:"}",description:'"}"'},Qe={type:"other",description:"whitespace"},tr=/^[ \t\n\r]/,er={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},rr="false",or={type:"literal",value:"false",description:'"false"'},nr=function(){return!1},ir="null",ar={type:"literal",value:"null",description:'"null"'},sr=function(){return null},pr="true",cr={type:"literal",value:"true",description:'"true"'},hr=function(){return!0},ur=function(t,e){return e},lr=function(t,e){var r,o={};for(o[t.name]=t.value,r=0;r<e.length;r++)o[e[r].name]=e[r].value;return o},dr=function(t){return null!==t?t:{}},fr=function(t,e){return{name:t,value:e}},gr=function(t,e){return e},mr=function(t,e){return[t].concat(e)},vr=function(t){return null!==t?t:[]},yr={type:"other",description:"number"},xr=function(){return parseFloat(o())},br=/^[1-9]/,wr={type:"class",value:"[1-9]",description:"[1-9]"},Er=/^[eE]/,Nr={type:"class",value:"[eE]",description:"[eE]"},Pr="-",Tr={type:"literal",value:"-",description:'"-"'},Mr="+",Or={type:"literal",value:"+",description:'"+"'},Ir="0",Sr={type:"literal",value:"0",description:'"0"'},kr={type:"other",description:"string"},Rr=function(t){return t.join("")},Gr='"',Ar={type:"literal",value:'"',description:'"\\""'},Cr="\\",_r={type:"literal",value:"\\",description:'"\\\\"'},Dr="/",Lr={type:"literal",value:"/",description:'"/"'},jr="b",Ur={type:"literal",value:"b",description:'"b"'},Fr=function(){return"\b"},Yr="f",Xr={type:"literal",value:"f",description:'"f"'},Br=function(){return"\f"},zr="n",qr={type:"literal",value:"n",description:'"n"'},Hr=function(){return"\n"},Kr="r",Wr={type:"literal",value:"r",description:'"r"'},Jr=function(){return"\r"},Vr="t",Zr={type:"literal",value:"t",description:'"t"'},$r=function(){return"\t"},Qr="u",to={type:"literal",value:"u",description:'"u"'},eo=function(t){return String.fromCharCode(parseInt(t,16))},ro=function(t){return t},oo=/^[^\0-\x1F"\\]/,no={type:"class",value:"[^\\0-\\x1F\\x22\\x5C]",description:"[^\\0-\\x1F\\x22\\x5C]"},io=/^[0-9a-f]/i,ao={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},so=0,po=0,co=[{line:1,column:1,seenCR:!1}],ho=0,uo=[],lo=0;if("startRule"in xt){if(!(xt.startRule in Et))throw new Error("Can't start parsing from rule \""+xt.startRule+'".');Nt=Et[xt.startRule]}var bt,fo,go="IN",mo="OUT";bt=this,delete bt.exports,delete bt.inports,delete bt.outports,bt.edges=[],fo={};var vo=[].indexOf||function(t){for(var e=0,r=this.length;e<r;e++)if(e in this&&this[e]===t)return e;return-1};bt.serialize=function(t){var e,r,o,n,i,a,s,p,c,h,u,l,d,f,g,m,v,y,x,b,w,E,N;null==xt&&(xt={}),a="string"==typeof t?JSON.parse(t):t,c=[],u="",o=function(t){return null!=a.processes[t].metadata&&(t=a.processes[t].metadata.label),t.indexOf("/")>-1&&(t=t.split("/").pop()),t},r=function(t,e){return null!=e.process&&null!=a.processes[e.process].metadata?t=a.processes[e.process].metadata.label:null!=e.process&&(t=e.process),t.indexOf("/")>-1&&(t=t.split("/").pop()),t},d=a.inports;for(p in d)i=d[p],l=r(p,i),p=p.toUpperCase(),i.port=i.port.toUpperCase(),u+="INPORT="+l+"."+i.port+":"+p+"\n";f=a.outports;for(p in f)h=f[p],l=r(p,i),p=p.toUpperCase(),h.port=h.port.toUpperCase(),u+="OUTPORT="+l+"."+h.port+":"+p+"\n";for(u+="\n",g=a.connections,n=0,s=g.length;n<s;n++)e=g[n],null!=e.data?(E=e.tgt.port.toUpperCase(),w=e.tgt.process,N=a.processes[w].component,b=o(w),vo.call(c,N)<0&&(b+="("+N+")",c.push(N)),u+='"'+e.data+'" -> '+E+" "+b+"\n"):(y=e.src.port.toUpperCase(),v=e.src.process,x=a.processes[v].component,m=o(v),vo.call(c,x)<0&&(m+="("+x+")",c.push(x)),E=e.tgt.port.toUpperCase(),w=e.tgt.process,N=a.processes[w].component,b=o(w),vo.call(c,N)<0&&(b+="("+N+")",c.push(N)),u+=m+" "+y+" -> "+E+" "+b+"\n");return u},bt.addNode=function(t,e){if(fo[t]||(fo[t]={}),e.comp&&(fo[t].component=e.comp),e.meta){for(var r={},o=0;o<e.meta.length;o++){var n=e.meta[o].split("=");1===n.length&&(n=["routes",n[0]]);var i=n[0],a=n[1];"x"!==i&&"y"!==i||(a=parseFloat(a)),r[i]=a}fo[t].metadata=r}};var yo={},xo={};bt.addAnonymousNode=function(t,e){if(!xo[e]){var r=t.comp.replace(/[^a-zA-Z0-9]+/,"_");yo[r]=(yo[r]||0)+1,xo[e]="_"+r+"_"+yo[r],this.addNode(xo[e],t)}return xo[e]},bt.getResult=function(){var t={processes:fo,connections:bt.processEdges(),exports:bt.exports,inports:bt.inports,outports:bt.outports},e=bt.validateSchema;if(void 0!==xt.validateSchema&&(e=xt.validateSchema),e){if(void 0===o)var o=r(106);var n=r(105),i=o.validateMultiple(t,n);if(!i.valid)throw new Error("fbp: Did not validate againt graph schema:\n"+JSON.stringify(i.errors,null,2))}return t.caseSensitive=xt.caseSensitive,t};var bo=function(t,e){for(var r=-1,o=t?t.length:0,n=[];++r<o;){var i=t[r];i instanceof Array?Array.prototype.push.apply(n,e?i:bo(i)):n.push(i)}return n};if(bt.registerExports=function(t,e){bt.exports||(bt.exports=[]),xt.caseSensitive||(t=t.toLowerCase(),e=e.toLowerCase()),bt.exports.push({private:t,public:e})},bt.registerInports=function(t,e,r){bt.inports||(bt.inports={}),xt.caseSensitive||(r=r.toLowerCase(),e=e.toLowerCase()),bt.inports[r]={process:t,port:e}},bt.registerOutports=function(t,e,r){bt.outports||(bt.outports={}),xt.caseSensitive||(r=r.toLowerCase(),e=e.toLowerCase()),bt.outports[r]={process:t,port:e}},bt.registerEdges=function(t){Array.isArray(t)&&t.forEach(function(t,e){bt.edges.push(t)})},bt.processEdges=function(){var t,e;t=bo(bt.edges),e=[];for(var r=1;r<t.length;r+=1)("src"in t[r-1]||"data"in t[r-1])&&"tgt"in t[r]&&(t[r-1].tgt=t[r].tgt,e.push(t[r-1]),r++);return e},(yt=Nt())!==wt&&so===e.length)return yt;throw yt!==wt&&so<e.length&&s({type:"end",description:"end of input"}),p(null,uo,ho<e.length?e.charAt(ho):null,ho<e.length?a(ho,ho+1):a(ho,ho))}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(t,Error),{SyntaxError:t,parse:e}}()},function(t,e){t.exports={$schema:"http://json-schema.org/draft-04/schema",id:"graph.json",title:"FBP graph",description:"A graph of FBP processes and connections between them.\nThis is the primary way of specifying FBP programs.\n",name:"graph",type:"object",additionalProperties:!1,properties:{properties:{type:"object",description:"User-defined properties attached to the graph.",additionalProperties:!0,properties:{name:{type:"string"}}},inports:{type:["object","undefined"],description:"Exported inports of the graph",additionalProperties:!0,patternProperties:{"[a-z0-9]+":{type:"object",properties:{process:{type:"string"},port:{type:"string"},metadata:{type:"object",additionalProperties:!0}}}}},outports:{type:["object","undefined"],description:"Exported outports of the graph",additionalProperties:!0,patternProperties:{"[a-z0-9]+":{type:"object",properties:{process:{type:"string"},port:{type:"string"},metadata:{type:"object",additionalProperties:!0}}}}},exports:{type:["array","undefined"],description:"Deprecated, use inports and outports instead"},groups:{type:"array",description:"List of groups of processes",items:{type:"object",additionalProperties:!1,properties:{name:{type:"string"},nodes:{type:"array",items:{type:"string"}},metadata:{additionalProperties:!0}}}},processes:{type:"object",description:"The processes of this graph.\nEach process is an instance of a component.\n",additionalProperties:!1,patternProperties:{"[a-zA-Z0-9_]+":{type:"object",properties:{component:{type:"string"},metadata:{type:"object",additionalProperties:!0}}}}},connections:{type:"array",description:"Connections of the graph.\nA connection either connects ports of two processes, or specifices an IIP as initial input packet to a port.\n",items:{type:"object",additionalProperties:!1,properties:{src:{type:"object",additionalProperties:!1,properties:{process:{type:"string"},port:{type:"string"},index:{type:"integer"}}},tgt:{type:"object",additionalProperties:!1,properties:{process:{type:"string"},port:{type:"string"},index:{type:"integer"}}},data:{},metadata:{type:"object",additionalProperties:!0}}}}}}},function(t,e,r){var o,n,i;!function(r,a){n=[],o=a,void 0!==(i="function"==typeof o?o.apply(e,n):o)&&(t.exports=i)}(0,function(){function t(t){return encodeURI(t).replace(/%25[0-9][0-9]/g,function(t){return"%"+t.substring(3)})}function e(e){var r="";l[e.charAt(0)]&&(r=e.charAt(0),e=e.substring(1));var o="",n="",i=!0,a=!1,s=!1;"+"===r?i=!1:"."===r?(n=".",o="."):"/"===r?(n="/",o="/"):"#"===r?(n="#",i=!1):";"===r?(n=";",o=";",a=!0,s=!0):"?"===r?(n="?",o="&",a=!0):"&"===r&&(n="&",o="&",a=!0);for(var p=[],c=e.split(","),h=[],u={},f=0;f<c.length;f++){var g=c[f],m=null;if(-1!==g.indexOf(":")){var v=g.split(":");g=v[0],m=parseInt(v[1],10)}for(var y={};d[g.charAt(g.length-1)];)y[g.charAt(g.length-1)]=!0,g=g.substring(0,g.length-1);var x={truncate:m,name:g,suffices:y};h.push(x),u[g]=x,p.push(g)}var b=function(e){for(var r="",p=0,c=0;c<h.length;c++){var u=h[c],l=e(u.name);if(null===l||void 0===l||Array.isArray(l)&&0===l.length||"object"==typeof l&&0===Object.keys(l).length)p++;else if(r+=c===p?n:o||",",Array.isArray(l)){a&&(r+=u.name+"=");for(var d=0;d<l.length;d++)d>0&&(r+=u.suffices["*"]?o||",":",",u.suffices["*"]&&a&&(r+=u.name+"=")),r+=i?encodeURIComponent(l[d]).replace(/!/g,"%21"):t(l[d])}else if("object"==typeof l){a&&!u.suffices["*"]&&(r+=u.name+"=");var f=!0;for(var g in l)f||(r+=u.suffices["*"]?o||",":","),f=!1,r+=i?encodeURIComponent(g).replace(/!/g,"%21"):t(g),r+=u.suffices["*"]?"=":",",r+=i?encodeURIComponent(l[g]).replace(/!/g,"%21"):t(l[g])}else a&&(r+=u.name,s&&""===l||(r+="=")),null!=u.truncate&&(l=l.substring(0,u.truncate)),r+=i?encodeURIComponent(l).replace(/!/g,"%21"):t(l)}return r};return b.varNames=p,{prefix:n,substitution:b}}function r(t){if(!(this instanceof r))return new r(t);for(var o=t.split("{"),n=[o.shift()],i=[],a=[],s=[];o.length>0;){var p=o.shift(),c=p.split("}")[0],h=p.substring(c.length+1),u=e(c);a.push(u.substitution),i.push(u.prefix),n.push(h),s=s.concat(u.substitution.varNames)}this.fill=function(t){for(var e=n[0],r=0;r<a.length;r++){e+=(0,a[r])(t),e+=n[r+1]}return e},this.varNames=s,this.template=t}function o(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){if(Array.isArray(t)!==Array.isArray(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!o(t[r],e[r]))return!1}else{var n;for(n in t)if(void 0===e[n]&&void 0!==t[n])return!1;for(n in e)if(void 0===t[n]&&void 0!==e[n])return!1;for(n in t)if(!o(t[n],e[n]))return!1}return!0}return!1}function n(t){var e=String(t).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return e?{href:e[0]||"",protocol:e[1]||"",authority:e[2]||"",host:e[3]||"",hostname:e[4]||"",port:e[5]||"",pathname:e[6]||"",search:e[7]||"",hash:e[8]||""}:null}function i(t,e){return e=n(e||""),t=n(t||""),e&&t?(e.protocol||t.protocol)+(e.protocol||e.authority?e.authority:t.authority)+function(t){var e=[];return t.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(t){"/.."===t?e.pop():e.push(t)}),e.join("").replace(/^\//,"/"===t.charAt(0)?"/":"")}(e.protocol||e.authority||"/"===e.pathname.charAt(0)?e.pathname:e.pathname?(t.authority&&!t.pathname?"/":"")+t.pathname.slice(0,t.pathname.lastIndexOf("/")+1)+e.pathname:t.pathname)+(e.protocol||e.authority||e.pathname?e.search:e.search||t.search)+e.hash:null}function a(t){return t.split("#")[0]}function s(t,e){if(t&&"object"==typeof t)if(void 0===e?e=t.id:"string"==typeof t.id&&(e=i(e,t.id),t.id=e),Array.isArray(t))for(var r=0;r<t.length;r++)s(t[r],e);else{"string"==typeof t.$ref&&(t.$ref=i(e,t.$ref));for(var o in t)"enum"!==o&&s(t[o],e)}}function p(t){t=t||"en";var e=w[t];return function(t){var r=e[t.code]||b[t.code];if("string"!=typeof r)return"Unknown error code "+t.code+": "+JSON.stringify(t.messageParams);var o=t.params;return r.replace(/\{([^{}]*)\}/g,function(t,e){var r=o[e];return"string"==typeof r||"number"==typeof r?r:t})}}function c(t,e,r,o,n){if(Error.call(this),void 0===t)throw new Error("No error code supplied: "+o);this.message="",this.params=e,this.code=t,this.dataPath=r||"",this.schemaPath=o||"",this.subErrors=n||null;var i=new Error(this.message);if(this.stack=i.stack||i.stacktrace,!this.stack)try{throw i}catch(i){this.stack=i.stack||i.stacktrace}}function h(t,e){if(e.substring(0,t.length)===t){var r=e.substring(t.length);if(e.length>0&&"/"===e.charAt(t.length-1)||"#"===r.charAt(0)||"?"===r.charAt(0))return!0}return!1}function u(t){var e,r,o=new f,n={setErrorReporter:function(t){return"string"==typeof t?this.language(t):(r=t,!0)},addFormat:function(){o.addFormat.apply(o,arguments)},language:function(t){return t?(w[t]||(t=t.split("-")[0]),!!w[t]&&(e=t,t)):e},addLanguage:function(t,e){var r;for(r in v)e[r]&&!e[v[r]]&&(e[v[r]]=e[r]);var o=t.split("-")[0];if(w[o]){w[t]=Object.create(w[o]);for(r in e)void 0===w[o][r]&&(w[o][r]=e[r]),w[t][r]=e[r]}else w[t]=e,w[o]=e;return this},freshApi:function(t){var e=u();return t&&e.language(t),e},validate:function(t,n,i,a){var s=p(e),c=r?function(t,e,o){return r(t,e,o)||s(t,e,o)}:s,h=new f(o,!1,c,i,a);"string"==typeof n&&(n={$ref:n}),h.addSchema("",n);var u=h.validateAll(t,n,null,null,"");return!u&&a&&(u=h.banUnknownProperties(t,n)),this.error=u,this.missing=h.missing,this.valid=null===u,this.valid},validateResult:function(){var t={toString:function(){return this.valid?"valid":this.error.message}};return this.validate.apply(t,arguments),t},validateMultiple:function(t,n,i,a){var s=p(e),c=r?function(t,e,o){return r(t,e,o)||s(t,e,o)}:s,h=new f(o,!0,c,i,a);"string"==typeof n&&(n={$ref:n}),h.addSchema("",n),h.validateAll(t,n,null,null,""),a&&h.banUnknownProperties(t,n);var u={toString:function(){return this.valid?"valid":this.error.message}};return u.errors=h.errors,u.missing=h.missing,u.valid=0===u.errors.length,u},addSchema:function(){return o.addSchema.apply(o,arguments)},getSchema:function(){return o.getSchema.apply(o,arguments)},getSchemaMap:function(){return o.getSchemaMap.apply(o,arguments)},getSchemaUris:function(){return o.getSchemaUris.apply(o,arguments)},getMissingUris:function(){return o.getMissingUris.apply(o,arguments)},dropSchemas:function(){o.dropSchemas.apply(o,arguments)},defineKeyword:function(){o.defineKeyword.apply(o,arguments)},defineError:function(t,e,r){if("string"!=typeof t||!/^[A-Z]+(_[A-Z]+)*$/.test(t))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof e||e%1!=0||e<1e4)throw new Error("Code number must be an integer > 10000");if(void 0!==v[t])throw new Error("Error already defined: "+t+" as "+v[t]);if(void 0!==y[e])throw new Error("Error code already used: "+y[e]+" as "+e);v[t]=e,y[e]=t,b[t]=b[e]=r;for(var o in w){var n=w[o];n[t]&&(n[e]=n[e]||n[t])}},reset:function(){o.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:s,resolveUrl:i,getDocumentUri:a,errorCodes:v};return n.language(t||"en"),n}Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=r.length;return function(n){if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError("Object.keys called on non-object");var i=[];for(var a in n)t.call(n,a)&&i.push(a);if(e)for(var s=0;s<o;s++)t.call(n,r[s])&&i.push(r[s]);return i}}()),Object.create||(Object.create=function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return t.prototype=e,new t}}()),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(null===this)throw new TypeError;var e=Object(this),r=e.length>>>0;if(0===r)return-1;var o=0;if(arguments.length>1&&(o=Number(arguments[1]),o!==o?o=0:0!==o&&o!==1/0&&o!==-1/0&&(o=(o>0||-1)*Math.floor(Math.abs(o)))),o>=r)return-1;for(var n=o>=0?o:Math.max(r-Math.abs(o),0);n<r;n++)if(n in e&&e[n]===t)return n;return-1}),Object.isFrozen||(Object.isFrozen=function(t){for(var e="tv4_test_frozen_key";t.hasOwnProperty(e);)e+=Math.random();try{return t[e]=!0,delete t[e],!1}catch(t){return!0}});var l={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},d={"*":!0};r.prototype={toString:function(){return this.template},fillFromObject:function(t){return this.fill(function(e){return t[e]})}};var f=function(t,e,r,o,n){if(this.missing=[],this.missingMap={},this.formatValidators=t?Object.create(t.formatValidators):{},this.schemas=t?Object.create(t.schemas):{},this.collectMultiple=e,this.errors=[],this.handleError=e?this.collectError:this.returnError,o&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),n&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorReporter=r||p("en"),"string"==typeof this.errorReporter)throw new Error("debug");if(this.definedKeywords={},t)for(var i in t.definedKeywords)this.definedKeywords[i]=t.definedKeywords[i].slice(0)};f.prototype.defineKeyword=function(t,e){this.definedKeywords[t]=this.definedKeywords[t]||[],this.definedKeywords[t].push(e)},f.prototype.createError=function(t,e,r,o,n,i,a){var s=new c(t,e,r,o,n);return s.message=this.errorReporter(s,i,a),s},f.prototype.returnError=function(t){return t},f.prototype.collectError=function(t){return t&&this.errors.push(t),null},f.prototype.prefixErrors=function(t,e,r){for(var o=t;o<this.errors.length;o++)this.errors[o]=this.errors[o].prefixWith(e,r);return this},f.prototype.banUnknownProperties=function(t,e){for(var r in this.unknownPropertyPaths){var o=this.createError(v.UNKNOWN_PROPERTY,{path:r},r,"",null,t,e),n=this.handleError(o);if(n)return n}return null},f.prototype.addFormat=function(t,e){if("object"==typeof t){for(var r in t)this.addFormat(r,t[r]);return this}this.formatValidators[t]=e},f.prototype.resolveRefs=function(t,e){if(void 0!==t.$ref){if(e=e||{},e[t.$ref])return this.createError(v.CIRCULAR_REFERENCE,{urls:Object.keys(e).join(", ")},"","",null,void 0,t);e[t.$ref]=!0,t=this.getSchema(t.$ref,e)}return t},f.prototype.getSchema=function(t,e){var r;if(void 0!==this.schemas[t])return r=this.schemas[t],this.resolveRefs(r,e);var o=t,n="";if(-1!==t.indexOf("#")&&(n=t.substring(t.indexOf("#")+1),o=t.substring(0,t.indexOf("#"))),"object"==typeof this.schemas[o]){r=this.schemas[o];var i=decodeURIComponent(n);if(""===i)return this.resolveRefs(r,e);if("/"!==i.charAt(0))return;for(var a=i.split("/").slice(1),s=0;s<a.length;s++){var p=a[s].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===r[p]){r=void 0;break}r=r[p]}if(void 0!==r)return this.resolveRefs(r,e)}void 0===this.missing[o]&&(this.missing.push(o),this.missing[o]=o,this.missingMap[o]=o)},f.prototype.searchSchemas=function(t,e){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.searchSchemas(t[r],e);else if(t&&"object"==typeof t){"string"==typeof t.id&&h(e,t.id)&&void 0===this.schemas[t.id]&&(this.schemas[t.id]=t);for(var o in t)if("enum"!==o)if("object"==typeof t[o])this.searchSchemas(t[o],e);else if("$ref"===o){var n=a(t[o]);n&&void 0===this.schemas[n]&&void 0===this.missingMap[n]&&(this.missingMap[n]=n)}}},f.prototype.addSchema=function(t,e){if("string"!=typeof t||void 0===e){if("object"!=typeof t||"string"!=typeof t.id)return;e=t,t=e.id}t===a(t)+"#"&&(t=a(t)),this.schemas[t]=e,delete this.missingMap[t],s(e,t),this.searchSchemas(e,t)},f.prototype.getSchemaMap=function(){var t={};for(var e in this.schemas)t[e]=this.schemas[e];return t},f.prototype.getSchemaUris=function(t){var e=[];for(var r in this.schemas)t&&!t.test(r)||e.push(r);return e},f.prototype.getMissingUris=function(t){var e=[];for(var r in this.missingMap)t&&!t.test(r)||e.push(r);return e},f.prototype.dropSchemas=function(){this.schemas={},this.reset()},f.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},f.prototype.validateAll=function(t,e,r,o,n){var i;if(!(e=this.resolveRefs(e)))return null;if(e instanceof c)return this.errors.push(e),e;var a,s=this.errors.length,p=null,h=null;if(this.checkRecursive&&t&&"object"==typeof t){if(i=!this.scanned.length,t[this.validatedSchemasKey]){var u=t[this.validatedSchemasKey].indexOf(e);if(-1!==u)return this.errors=this.errors.concat(t[this.validationErrorsKey][u]),null}if(Object.isFrozen(t)&&-1!==(a=this.scannedFrozen.indexOf(t))){var l=this.scannedFrozenSchemas[a].indexOf(e);if(-1!==l)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[a][l]),null}if(this.scanned.push(t),Object.isFrozen(t))-1===a&&(a=this.scannedFrozen.length,this.scannedFrozen.push(t),this.scannedFrozenSchemas.push([])),p=this.scannedFrozenSchemas[a].length,this.scannedFrozenSchemas[a][p]=e,this.scannedFrozenValidationErrors[a][p]=[];else{if(!t[this.validatedSchemasKey])try{Object.defineProperty(t,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(t,this.validationErrorsKey,{value:[],configurable:!0})}catch(e){t[this.validatedSchemasKey]=[],t[this.validationErrorsKey]=[]}h=t[this.validatedSchemasKey].length,t[this.validatedSchemasKey][h]=e,t[this.validationErrorsKey][h]=[]}}var d=this.errors.length,f=this.validateBasic(t,e,n)||this.validateNumeric(t,e,n)||this.validateString(t,e,n)||this.validateArray(t,e,n)||this.validateObject(t,e,n)||this.validateCombinations(t,e,n)||this.validateHypermedia(t,e,n)||this.validateFormat(t,e,n)||this.validateDefinedKeywords(t,e,n)||null;if(i){for(;this.scanned.length;){delete this.scanned.pop()[this.validatedSchemasKey]}this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(f||d!==this.errors.length)for(;r&&r.length||o&&o.length;){var g=r&&r.length?""+r.pop():null,m=o&&o.length?""+o.pop():null;f&&(f=f.prefixWith(g,m)),this.prefixErrors(d,g,m)}return null!==p?this.scannedFrozenValidationErrors[a][p]=this.errors.slice(s):null!==h&&(t[this.validationErrorsKey][h]=this.errors.slice(s)),this.handleError(f)},f.prototype.validateFormat=function(t,e){if("string"!=typeof e.format||!this.formatValidators[e.format])return null;var r=this.formatValidators[e.format].call(null,t,e);return"string"==typeof r||"number"==typeof r?this.createError(v.FORMAT_CUSTOM,{message:r},"","/format",null,t,e):r&&"object"==typeof r?this.createError(v.FORMAT_CUSTOM,{message:r.message||"?"},r.dataPath||"",r.schemaPath||"/format",null,t,e):null},f.prototype.validateDefinedKeywords=function(t,e,r){for(var o in this.definedKeywords)if(void 0!==e[o])for(var n=this.definedKeywords[o],i=0;i<n.length;i++){var a=n[i],s=a(t,e[o],e,r);if("string"==typeof s||"number"==typeof s)return this.createError(v.KEYWORD_CUSTOM,{key:o,message:s},"","",null,t,e).prefixWith(null,o);if(s&&"object"==typeof s){var p=s.code;if("string"==typeof p){if(!v[p])throw new Error("Undefined error code (use defineError): "+p);p=v[p]}else"number"!=typeof p&&(p=v.KEYWORD_CUSTOM);var c="object"==typeof s.message?s.message:{key:o,message:s.message||"?"},h=s.schemaPath||"/"+o.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(p,c,s.dataPath||null,h,null,t,e)}}return null},f.prototype.validateBasic=function(t,e,r){var o;return(o=this.validateType(t,e,r))?o.prefixWith(null,"type"):(o=this.validateEnum(t,e,r))?o.prefixWith(null,"type"):null},f.prototype.validateType=function(t,e){if(void 0===e.type)return null;var r=typeof t;null===t?r="null":Array.isArray(t)&&(r="array");var o=e.type;Array.isArray(o)||(o=[o]);for(var n=0;n<o.length;n++){var i=o[n];if(i===r||"integer"===i&&"number"===r&&t%1==0)return null}return this.createError(v.INVALID_TYPE,{type:r,expected:o.join("/")},"","",null,t,e)},f.prototype.validateEnum=function(t,e){if(void 0===e.enum)return null;for(var r=0;r<e.enum.length;r++){if(o(t,e.enum[r]))return null}return this.createError(v.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(t):t},"","",null,t,e)},f.prototype.validateNumeric=function(t,e,r){return this.validateMultipleOf(t,e,r)||this.validateMinMax(t,e,r)||this.validateNaN(t,e,r)||null};var g=Math.pow(2,-51),m=1-g;f.prototype.validateMultipleOf=function(t,e){var r=e.multipleOf||e.divisibleBy;if(void 0===r)return null;if("number"==typeof t){var o=t/r%1;if(o>=g&&o<m)return this.createError(v.NUMBER_MULTIPLE_OF,{value:t,multipleOf:r},"","",null,t,e)}return null},f.prototype.validateMinMax=function(t,e){if("number"!=typeof t)return null;if(void 0!==e.minimum){if(t<e.minimum)return this.createError(v.NUMBER_MINIMUM,{value:t,minimum:e.minimum},"","/minimum",null,t,e);if(e.exclusiveMinimum&&t===e.minimum)return this.createError(v.NUMBER_MINIMUM_EXCLUSIVE,{value:t,minimum:e.minimum},"","/exclusiveMinimum",null,t,e)}if(void 0!==e.maximum){if(t>e.maximum)return this.createError(v.NUMBER_MAXIMUM,{value:t,maximum:e.maximum},"","/maximum",null,t,e);if(e.exclusiveMaximum&&t===e.maximum)return this.createError(v.NUMBER_MAXIMUM_EXCLUSIVE,{value:t,maximum:e.maximum},"","/exclusiveMaximum",null,t,e)}return null},f.prototype.validateNaN=function(t,e){return"number"!=typeof t?null:!0===isNaN(t)||t===1/0||t===-1/0?this.createError(v.NUMBER_NOT_A_NUMBER,{value:t},"","/type",null,t,e):null},f.prototype.validateString=function(t,e,r){return this.validateStringLength(t,e,r)||this.validateStringPattern(t,e,r)||null},f.prototype.validateStringLength=function(t,e){return"string"!=typeof t?null:void 0!==e.minLength&&t.length<e.minLength?this.createError(v.STRING_LENGTH_SHORT,{length:t.length,minimum:e.minLength},"","/minLength",null,t,e):void 0!==e.maxLength&&t.length>e.maxLength?this.createError(v.STRING_LENGTH_LONG,{length:t.length,maximum:e.maxLength},"","/maxLength",null,t,e):null},f.prototype.validateStringPattern=function(t,e){if("string"!=typeof t||"string"!=typeof e.pattern&&!(e.pattern instanceof RegExp))return null;var r;if(e.pattern instanceof RegExp)r=e.pattern;else{var o,n="",i=e.pattern.match(/^\/(.+)\/([img]*)$/);i?(o=i[1],n=i[2]):o=e.pattern,r=new RegExp(o,n)}return r.test(t)?null:this.createError(v.STRING_PATTERN,{pattern:e.pattern},"","/pattern",null,t,e)},f.prototype.validateArray=function(t,e,r){return Array.isArray(t)?this.validateArrayLength(t,e,r)||this.validateArrayUniqueItems(t,e,r)||this.validateArrayItems(t,e,r)||null:null},f.prototype.validateArrayLength=function(t,e){var r;return void 0!==e.minItems&&t.length<e.minItems&&(r=this.createError(v.ARRAY_LENGTH_SHORT,{length:t.length,minimum:e.minItems},"","/minItems",null,t,e),this.handleError(r))?r:void 0!==e.maxItems&&t.length>e.maxItems&&(r=this.createError(v.ARRAY_LENGTH_LONG,{length:t.length,maximum:e.maxItems},"","/maxItems",null,t,e),this.handleError(r))?r:null},f.prototype.validateArrayUniqueItems=function(t,e){if(e.uniqueItems)for(var r=0;r<t.length;r++)for(var n=r+1;n<t.length;n++)if(o(t[r],t[n])){var i=this.createError(v.ARRAY_UNIQUE,{match1:r,match2:n},"","/uniqueItems",null,t,e);if(this.handleError(i))return i}return null},f.prototype.validateArrayItems=function(t,e,r){if(void 0===e.items)return null;var o,n;if(Array.isArray(e.items)){for(n=0;n<t.length;n++)if(n<e.items.length){if(o=this.validateAll(t[n],e.items[n],[n],["items",n],r+"/"+n))return o}else if(void 0!==e.additionalItems)if("boolean"==typeof e.additionalItems){if(!e.additionalItems&&(o=this.createError(v.ARRAY_ADDITIONAL_ITEMS,{},"/"+n,"/additionalItems",null,t,e),this.handleError(o)))return o}else if(o=this.validateAll(t[n],e.additionalItems,[n],["additionalItems"],r+"/"+n))return o}else for(n=0;n<t.length;n++)if(o=this.validateAll(t[n],e.items,[n],["items"],r+"/"+n))return o;return null},f.prototype.validateObject=function(t,e,r){return"object"!=typeof t||null===t||Array.isArray(t)?null:this.validateObjectMinMaxProperties(t,e,r)||this.validateObjectRequiredProperties(t,e,r)||this.validateObjectProperties(t,e,r)||this.validateObjectDependencies(t,e,r)||null},f.prototype.validateObjectMinMaxProperties=function(t,e){var r,o=Object.keys(t);return void 0!==e.minProperties&&o.length<e.minProperties&&(r=this.createError(v.OBJECT_PROPERTIES_MINIMUM,{propertyCount:o.length,minimum:e.minProperties},"","/minProperties",null,t,e),this.handleError(r))?r:void 0!==e.maxProperties&&o.length>e.maxProperties&&(r=this.createError(v.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:o.length,maximum:e.maxProperties},"","/maxProperties",null,t,e),this.handleError(r))?r:null},f.prototype.validateObjectRequiredProperties=function(t,e){if(void 0!==e.required)for(var r=0;r<e.required.length;r++){var o=e.required[r];if(void 0===t[o]){var n=this.createError(v.OBJECT_REQUIRED,{key:o},"","/required/"+r,null,t,e);if(this.handleError(n))return n}}return null},f.prototype.validateObjectProperties=function(t,e,r){var o;for(var n in t){var i=r+"/"+n.replace(/~/g,"~0").replace(/\//g,"~1"),a=!1;if(void 0!==e.properties&&void 0!==e.properties[n]&&(a=!0,o=this.validateAll(t[n],e.properties[n],[n],["properties",n],i)))return o;if(void 0!==e.patternProperties)for(var s in e.patternProperties){var p=new RegExp(s);if(p.test(n)&&(a=!0,o=this.validateAll(t[n],e.patternProperties[s],[n],["patternProperties",s],i)))return o}if(a)this.trackUnknownProperties&&(this.knownPropertyPaths[i]=!0,delete this.unknownPropertyPaths[i]);else if(void 0!==e.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[i]=!0,delete this.unknownPropertyPaths[i]),"boolean"==typeof e.additionalProperties){if(!e.additionalProperties&&(o=this.createError(v.OBJECT_ADDITIONAL_PROPERTIES,{key:n},"","/additionalProperties",null,t,e).prefixWith(n,null),this.handleError(o)))return o}else if(o=this.validateAll(t[n],e.additionalProperties,[n],["additionalProperties"],i))return o}else this.trackUnknownProperties&&!this.knownPropertyPaths[i]&&(this.unknownPropertyPaths[i]=!0)}return null},f.prototype.validateObjectDependencies=function(t,e,r){var o;if(void 0!==e.dependencies)for(var n in e.dependencies)if(void 0!==t[n]){var i=e.dependencies[n];if("string"==typeof i){if(void 0===t[i]&&(o=this.createError(v.OBJECT_DEPENDENCY_KEY,{key:n,missing:i},"","",null,t,e).prefixWith(null,n).prefixWith(null,"dependencies"),this.handleError(o)))return o}else if(Array.isArray(i))for(var a=0;a<i.length;a++){var s=i[a];if(void 0===t[s]&&(o=this.createError(v.OBJECT_DEPENDENCY_KEY,{key:n,missing:s},"","/"+a,null,t,e).prefixWith(null,n).prefixWith(null,"dependencies"),this.handleError(o)))return o}else if(o=this.validateAll(t,i,[],["dependencies",n],r))return o}return null},f.prototype.validateCombinations=function(t,e,r){return this.validateAllOf(t,e,r)||this.validateAnyOf(t,e,r)||this.validateOneOf(t,e,r)||this.validateNot(t,e,r)||null},f.prototype.validateAllOf=function(t,e,r){if(void 0===e.allOf)return null;for(var o,n=0;n<e.allOf.length;n++){var i=e.allOf[n];if(o=this.validateAll(t,i,[],["allOf",n],r))return o}return null},f.prototype.validateAnyOf=function(t,e,r){if(void 0===e.anyOf)return null;var o,n,i=[],a=this.errors.length;this.trackUnknownProperties&&(o=this.unknownPropertyPaths,n=this.knownPropertyPaths);for(var s=!0,p=0;p<e.anyOf.length;p++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var c=e.anyOf[p],h=this.errors.length,u=this.validateAll(t,c,[],["anyOf",p],r);if(null===u&&h===this.errors.length){if(this.errors=this.errors.slice(0,a),this.trackUnknownProperties){for(var l in this.knownPropertyPaths)n[l]=!0,delete o[l];for(var d in this.unknownPropertyPaths)n[d]||(o[d]=!0);s=!1;continue}return null}u&&i.push(u.prefixWith(null,""+p).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=o,this.knownPropertyPaths=n),s?(i=i.concat(this.errors.slice(a)),this.errors=this.errors.slice(0,a),this.createError(v.ANY_OF_MISSING,{},"","/anyOf",i,t,e)):void 0},f.prototype.validateOneOf=function(t,e,r){if(void 0===e.oneOf)return null;var o,n,i=null,a=[],s=this.errors.length;this.trackUnknownProperties&&(o=this.unknownPropertyPaths,n=this.knownPropertyPaths);for(var p=0;p<e.oneOf.length;p++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var c=e.oneOf[p],h=this.errors.length,u=this.validateAll(t,c,[],["oneOf",p],r);if(null===u&&h===this.errors.length){if(null!==i)return this.errors=this.errors.slice(0,s),this.createError(v.ONE_OF_MULTIPLE,{index1:i,index2:p},"","/oneOf",null,t,e);if(i=p,this.trackUnknownProperties){for(var l in this.knownPropertyPaths)n[l]=!0,delete o[l];for(var d in this.unknownPropertyPaths)n[d]||(o[d]=!0)}}else u&&a.push(u)}return this.trackUnknownProperties&&(this.unknownPropertyPaths=o,this.knownPropertyPaths=n),null===i?(a=a.concat(this.errors.slice(s)),this.errors=this.errors.slice(0,s),this.createError(v.ONE_OF_MISSING,{},"","/oneOf",a,t,e)):(this.errors=this.errors.slice(0,s),null)},f.prototype.validateNot=function(t,e,r){if(void 0===e.not)return null;var o,n,i=this.errors.length;this.trackUnknownProperties&&(o=this.unknownPropertyPaths,n=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var a=this.validateAll(t,e.not,null,null,r),s=this.errors.slice(i);return this.errors=this.errors.slice(0,i),this.trackUnknownProperties&&(this.unknownPropertyPaths=o,this.knownPropertyPaths=n),null===a&&0===s.length?this.createError(v.NOT_PASSED,{},"","/not",null,t,e):null},f.prototype.validateHypermedia=function(t,e,o){if(!e.links)return null;for(var n,i=0;i<e.links.length;i++){var a=e.links[i];if("describedby"===a.rel){for(var s=new r(a.href),p=!0,c=0;c<s.varNames.length;c++)if(!(s.varNames[c]in t)){p=!1;break}if(p){var h=s.fillFromObject(t),u={$ref:h};if(n=this.validateAll(t,u,[],["links",i],o))return n}}}};var v={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,NUMBER_NOT_A_NUMBER:105,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},y={};for(var x in v)y[v[x]]=x;var b={INVALID_TYPE:"Invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",NUMBER_NOT_A_NUMBER:"Value {value} is not a valid number",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};c.prototype=Object.create(Error.prototype),c.prototype.constructor=c,c.prototype.name="ValidationError",c.prototype.prefixWith=function(t,e){if(null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+t+this.dataPath),null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+e+this.schemaPath),null!==this.subErrors)for(var r=0;r<this.subErrors.length;r++)this.subErrors[r].prefixWith(t,e);return this};var w={},E=u();return E.addLanguage("en-gb",b),E.tv4=E,E})}]);